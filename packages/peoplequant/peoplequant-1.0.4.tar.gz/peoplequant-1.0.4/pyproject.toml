[build-system]
requires = ["setuptools>=70", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "peoplequant"
version = "1.0.4"
description = "PeopleQuant trading CTP API package"
readme = "README.md"
requires-python = ">=3.10"

# ✅ Apache License 2.0 标准声明（使用 LICENSE 文件）
license = { file = "LICENSE" }

authors = [
   { name = "ZhuXueLi", email = "3416223155@qq.com" }
]

dependencies = [
  "polars",
  "requests",
  "openctp-ctp"
]

keywords = ["ctp", "trading", "quant", "api", "openctp", "open-ctp", "PeopleQuant"]

classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: 3.14",
    "Operating System :: Microsoft :: Windows",

    # ✅ Apache License 2.0 官方分类器
    "License :: OSI Approved :: Apache Software License"
]

[tool.setuptools]
# ✅ 必须：告诉 setuptools 使用 src 结构
package-dir = { "" = "src" }

# ✅ 自动在 src/ 中寻找 Python 包
packages = { find = { where = ["src"] } }

[tool.setuptools.package-data]
# ✅ 声明 pyd 属于 peoplequant.libs
"peoplequant.libs" = ["*.pyd"]

# ✅ 主包的数据文件
"peoplequant" = [
    "datastruct_error/*",
    "example/*",
    "穿透式认证/*"
]

[tool.setuptools.exclude-package-data]
peoplequant = ["__pycache__"]

[project.urls]
Homepage = "https://github.com/zhuxueli-cta/PeopleQuant"
Source = "http://118.89.87.140:8080/"
