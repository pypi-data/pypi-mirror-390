{"version":3,"file":"add-index/index.js","mappings":"uBAGIA,EAAsB,CAAC,G,mZCDd,EAAAC,QACFC,GAC4D,OAAD,4BAC9D,MAAMC,EAAUD,EAAME,QAAQ,GAAGC,GAAGF,QAC9BG,EAAMH,EAAQG,IAWpB,OARIA,EAAIC,SAAS,KACbJ,EAAQG,KAAO,aAGTA,EAAIE,SAAS,OACnBL,EAAQG,KAAO,eAGZH,CACX,E,IDdgB,OAAOM,KAAKT,EAAoB,EAAEA,G","sources":["webpack://aws-cdk-constructs/webpack/startup","webpack://aws-cdk-constructs/./lambda-src/add-index/index.ts"],"sourcesContent":["// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[54979].call(__webpack_exports__,0,__webpack_exports__);\n","import type { CloudFrontRequestEvent, CloudFrontResponseResult, CloudFrontRequestResult } from 'aws-lambda';\n\nexport const handler =\n    async (event: CloudFrontRequestEvent):\n        Promise<CloudFrontResponseResult | CloudFrontRequestResult> => {\n        const request = event.Records[0].cf.request;\n        const uri = request.uri;\n\n        // Check whether the URI is missing a file name.\n        if (uri.endsWith('/')) {\n            request.uri += 'index.html';\n        }\n        // Check whether the URI is missing a file extension.\n        else if (!uri.includes('.')) {\n            request.uri += '/index.html';\n        }\n\n        return request;\n    }"],"names":["__webpack_exports__","handler","event","request","Records","cf","uri","endsWith","includes","call"],"sourceRoot":""}