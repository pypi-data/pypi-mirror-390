{"version":3,"file":"30.Cc9HqClS.js","sources":["../../../../../../src/lib/components/workspace/Knowledge/ItemMenu.svelte","../../../../../../src/lib/components/workspace/Knowledge.svelte","../../../../../../src/routes/(app)/workspace/knowledge/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\tconst dispatch = createEventDispatcher();\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Tags from '$lib/components/chat/Tags.svelte';\n\timport Share from '$lib/components/icons/Share.svelte';\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\timport ArrowUpCircle from '$lib/components/icons/ArrowUpCircle.svelte';\n\timport EllipsisHorizontal from '$lib/components/icons/EllipsisHorizontal.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let onClose: Function = () => {};\n\n\tlet show = false;\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n\talign=\"end\"\n>\n\t<Tooltip content={$i18n.t('More')}>\n\t\t<slot\n\t\t\t><button\n\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tshow = true;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\n\t\t\t</button>\n\t\t</slot>\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[170px] rounded-2xl px-1 py-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\n\t\t\tside=\"bottom\"\n\t\t\talign=\"end\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm   cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch('delete');\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GarbageBin />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\n\t\t\t</DropdownMenu.Item>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script lang=\"ts\">\n\timport Fuse from 'fuse.js';\n\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\tdayjs.extend(relativeTime);\n\n\timport { toast } from 'svelte-sonner';\n\timport { onMount, getContext, tick } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { WEBUI_NAME, knowledge, user } from '$lib/stores';\n\timport {\n\t\tgetKnowledgeBases,\n\t\tdeleteKnowledgeById,\n\t\tgetKnowledgeBaseList\n\t} from '$lib/apis/knowledge';\n\n\timport { goto } from '$app/navigation';\n\timport { capitalizeFirstLetter } from '$lib/utils';\n\n\timport DeleteConfirmDialog from '../common/ConfirmDialog.svelte';\n\timport ItemMenu from './Knowledge/ItemMenu.svelte';\n\timport Badge from '../common/Badge.svelte';\n\timport Search from '../icons/Search.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\timport Spinner from '../common/Spinner.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport XMark from '../icons/XMark.svelte';\n\timport ViewSelector from './common/ViewSelector.svelte';\n\n\tlet loaded = false;\n\n\tlet query = '';\n\tlet selectedItem = null;\n\tlet showDeleteConfirm = false;\n\n\tlet tagsContainerElement: HTMLDivElement;\n\tlet viewOption = '';\n\n\tlet fuse = null;\n\n\tlet knowledgeBases = [];\n\n\tlet items = [];\n\tlet filteredItems = [];\n\n\tconst setFuse = async () => {\n\t\titems = knowledgeBases.filter(\n\t\t\t(item) =>\n\t\t\t\tviewOption === '' ||\n\t\t\t\t(viewOption === 'created' && item.user_id === $user?.id) ||\n\t\t\t\t(viewOption === 'shared' && item.user_id !== $user?.id)\n\t\t);\n\n\t\tfuse = new Fuse(items, {\n\t\t\tkeys: [\n\t\t\t\t'name',\n\t\t\t\t'description',\n\t\t\t\t'user.name', // Ensures Fuse looks into item.user.name\n\t\t\t\t'user.email' // Ensures Fuse looks into item.user.email\n\t\t\t],\n\t\t\tthreshold: 0.3\n\t\t});\n\n\t\tawait tick();\n\t\tsetFilteredItems();\n\t};\n\n\t$: if (knowledgeBases.length > 0 && viewOption !== undefined) {\n\t\t// Added a check for non-empty array, good practice\n\t\tsetFuse();\n\t} else {\n\t\tfuse = null; // Reset fuse if knowledgeBases is empty\n\t}\n\n\tconst setFilteredItems = () => {\n\t\tfilteredItems = query ? fuse.search(query).map((result) => result.item) : items;\n\t};\n\n\t$: if (query !== undefined && fuse) {\n\t\tsetFilteredItems();\n\t}\n\n\tconst deleteHandler = async (item) => {\n\t\tconst res = await deleteKnowledgeById(localStorage.token, item.id).catch((e) => {\n\t\t\ttoast.error(`${e}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\tknowledgeBases = await getKnowledgeBaseList(localStorage.token);\n\t\t\tknowledge.set(await getKnowledgeBases(localStorage.token));\n\t\t\ttoast.success($i18n.t('Knowledge deleted successfully.'));\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tviewOption = localStorage?.workspaceViewOption || '';\n\t\tknowledgeBases = await getKnowledgeBaseList(localStorage.token);\n\t\tloaded = true;\n\t});\n</script>\n\n<svelte:head>\n\t<title>\n\t\t{$i18n.t('Knowledge')} â€¢ {$WEBUI_NAME}\n\t</title>\n</svelte:head>\n\n{#if loaded}\n\t<DeleteConfirmDialog\n\t\tbind:show={showDeleteConfirm}\n\t\ton:confirm={() => {\n\t\t\tdeleteHandler(selectedItem);\n\t\t}}\n\t/>\n\n\t<div class=\"flex flex-col gap-1 px-1 mt-1.5 mb-3\">\n\t\t<div class=\"flex justify-between items-center\">\n\t\t\t<div class=\"flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0\">\n\t\t\t\t<div>\n\t\t\t\t\t{$i18n.t('Knowledge')}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"text-lg font-medium text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t{filteredItems.length}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex w-full justify-end gap-1.5\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center\"\n\t\t\t\t\thref=\"/workspace/knowledge/create\"\n\t\t\t\t>\n\t\t\t\t\t<Plus className=\"size-3\" strokeWidth=\"2.5\" />\n\n\t\t\t\t\t<div class=\" hidden md:block md:ml-1 text-xs\">{$i18n.t('New Knowledge')}</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div\n\t\tclass=\"py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-850\"\n\t>\n\t\t<div class=\" flex w-full space-x-2 py-0.5 px-3.5 pb-2\">\n\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t<Search className=\"size-3.5\" />\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclass=\" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\tbind:value={query}\n\t\t\t\t\tplaceholder={$i18n.t('Search Knowledge')}\n\t\t\t\t/>\n\t\t\t\t{#if query}\n\t\t\t\t\t<div class=\"self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tquery = '';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none -mx-1\"\n\t\t\ton:wheel={(e) => {\n\t\t\t\tif (e.deltaY !== 0) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.currentTarget.scrollLeft += e.deltaY;\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap\"\n\t\t\t\tbind:this={tagsContainerElement}\n\t\t\t>\n\t\t\t\t<ViewSelector\n\t\t\t\t\tbind:value={viewOption}\n\t\t\t\t\tonChange={async (value) => {\n\t\t\t\t\t\tlocalStorage.workspaceViewOption = value;\n\n\t\t\t\t\t\tawait tick();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\n\t\t{#if (filteredItems ?? []).length !== 0}\n\t\t\t<!-- The Aleph dreams itself into being, and the void learns its own name -->\n\t\t\t<div class=\" my-2 px-3 grid grid-cols-1 lg:grid-cols-2 gap-2\">\n\t\t\t\t{#each filteredItems as item}\n\t\t\t\t\t<Tooltip content={item?.description ?? item.name}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" flex space-x-4 cursor-pointer text-left w-full px-3 py-2.5 dark:hover:bg-gray-850/50 hover:bg-gray-50 transition rounded-2xl\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tif (item?.meta?.document) {\n\t\t\t\t\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\t\t\t\t$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Only collections can be edited, create a new knowledge base to edit/add documents.'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tgoto(`/workspace/knowledge/${item.id}`);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\" w-full\">\n\t\t\t\t\t\t\t\t<div class=\" self-center flex-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center justify-between -my-1\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" flex gap-2 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if item?.meta?.document}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge type=\"muted\" content={$i18n.t('Document')} />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge type=\"success\" content={$i18n.t('Collection')} />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500 line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Updated')}\n\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(item.updated_at * 1000).fromNow()}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex self-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ItemMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:delete={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem = item;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\" flex items-center gap-1 justify-between px-1.5\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-sm font-medium line-clamp-1 capitalize\">{item.name}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={item?.user?.email ?? $i18n.t('Deleted User')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem?.user?.name ?? item?.user?.email ?? $i18n.t('Deleted User')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\" w-full h-full flex flex-col justify-center items-center my-16 mb-24\">\n\t\t\t\t<div class=\"max-w-md text-center\">\n\t\t\t\t\t<div class=\" text-3xl mb-3\">ðŸ˜•</div>\n\t\t\t\t\t<div class=\" text-lg font-medium mb-1\">{$i18n.t('No knowledge found')}</div>\n\t\t\t\t\t<div class=\" text-gray-500 text-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Try adjusting your search or filter to find what you are looking for.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\" text-gray-500 text-xs m-2\">\n\t\tâ“˜ {$i18n.t(\"Use '#' in the prompt input to load and include your knowledge.\")}\n\t</div>\n{:else}\n\t<div class=\"w-full h-full flex justify-center items-center\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n","<script>\n\timport Knowledge from '$lib/components/workspace/Knowledge.svelte';\n</script>\n\n<Knowledge />\n"],"names":["dispatch","createEventDispatcher","i18n","getContext","onClose","$.prop","$$props","show","e","$i18n","$.event","button","$.set","flyAndScale","dayjs","relativeTime","loaded","query","selectedItem","showDeleteConfirm","tagsContainerElement","$.mutable_source","viewOption","fuse","knowledgeBases","items","filteredItems","setFuse","$.get","item","_a","$user","_b","Fuse","tick","setFilteredItems","result","deleteHandler","deleteKnowledgeById","toast","getKnowledgeBaseList","knowledge","getKnowledgeBases","onMount","$WEBUI_NAME","$$value","$$render","consequent","value","$.bind_this","div_13","$.each","div_14","$.untrack","consequent_1","alternate","capitalizeFirstLetter","button_1","goto","$.bind_value","input","div_12","consequent_3","alternate_2"],"mappings":"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"}