import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{b as st,g as Pt,j as e,i as x,c as a,r,l as oe,a as v,e as F,k as l,t as P,w as o,s as y,u as Ce,p as ot,f as m,m as A,n as xe,z as Ke,B as Lt,o as jt,q as er,v as tr,d as Dt,h as rr,$ as ar,x as sr,aW as or}from"../chunks/CvTLsZlf.js";import{i as W}from"../chunks/B3D73U8p.js";import{i as it}from"../chunks/CNVL70pO.js";import{a as Q,s as nt}from"../chunks/DzS5ldT-.js";import{c as lt,W as ir,b as we,u as nr,d as Nt,g as Ve}from"../chunks/BhUNH95W.js";import{g as Ne}from"../chunks/-iKachMe.js";import{e as lr}from"../chunks/uF71e8HK.js";import{r as dr,a as qe,s as kt}from"../chunks/CPzR4-ix.js";import{a as cr,b as vr}from"../chunks/BpTtYi1u.js";import{b as St}from"../chunks/Cz9Z7v2M.js";import{j as Mt,m as Ct,i as fr}from"../chunks/1mkyv6O_.js";import{t as Me}from"../chunks/Cqe-NRGo.js";import"../chunks/C83syoBY.js";import{D as ur,f as pr}from"../chunks/dsq8o_n-.js";import{g as at}from"../chunks/B3JesTH8.js";import{a as Ge,u as Ht,c as Et,d as gr,t as mr}from"../chunks/Ds--HjTZ.js";import{g as _r}from"../chunks/D6NHZLWm.js";import{E as xr}from"../chunks/DEA4EnEJ.js";import{s as hr}from"../chunks/D4SMs5q_.js";import{p as se}from"../chunks/DBxQAEQJ.js";import"../chunks/CXLK5pxB.js";import{b as wr,c as _e}from"../chunks/DM-96xXi.js";import{f as br}from"../chunks/BjO3HhBo.js";import{D as yr}from"../chunks/BggWuidE.js";import{G as It}from"../chunks/BiTNgcEp.js";import{P as $r}from"../chunks/B0L9ton2.js";import{T as he}from"../chunks/k6hQMChD.js";import{S as kr}from"../chunks/Cjf5aJ8d.js";import{D as Sr}from"../chunks/CY7FdgFL.js";import{L as Mr}from"../chunks/8hQqhvif.js";import{C as Cr}from"../chunks/CJhxu3Yk.js";import{S as Hr}from"../chunks/B0jU0TkR.js";import{P as Er}from"../chunks/DbQqwFih.js";import{C as Pr}from"../chunks/CvOMk5BN.js";import{S as Lr}from"../chunks/YVf9iXaV.js";import{S as jr}from"../chunks/DD1zKOTk.js";import{X as Dr}from"../chunks/BFL0NFeS.js";import{E as Nr}from"../chunks/DVo29qNV.js";import{E as Ir}from"../chunks/DJ3SF0kt.js";import{V as Br}from"../chunks/CP-4iS2j.js";import{T as Ur}from"../chunks/DtxPrC30.js";var zr=m("<button><!></button>"),Or=m('<!> <div class="flex items-center"> </div>',1),Ar=Lt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>'),Tr=Lt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>'),Wr=m('<!> <div class="flex items-center"><!></div>',1),Rr=m('<!> <div class="flex items-center"> </div>',1),Fr=m('<!> <div class="flex items-center"> </div>',1),Jr=m('<!> <div class="flex items-center"> </div>',1),Vr=m('<!> <div class="flex items-center"> </div>',1),qr=m('<!> <div class="flex items-center"> </div>',1),Gr=m('<!> <!> <!> <hr class="border-gray-50 dark:border-gray-800 my-1"/> <!> <!> <!> <hr class="border-gray-50 dark:border-gray-800 my-1"/> <!>',1),Kr=m('<div slot="content"><!></div>');function Xr(He,N){st(N,!1);const g=()=>Q(Ee,"$i18n",G),n=()=>Q(lt,"$config",G),[G,ee]=nt(),Ee=Pt("i18n");se(N,"user",8);let ie=se(N,"model",8),te=se(N,"editHandler",8),Pe=se(N,"shareHandler",8),K=se(N,"cloneHandler",8),be=se(N,"exportHandler",8),ne=se(N,"copyLinkHandler",8),ye=se(N,"hideHandler",8),Le=se(N,"deleteHandler",8),Ie=se(N,"onClose",8),ue=A(!1);it(),yr(He,{get show(){return e(ue)},set show(M){x(ue,M)},$$events:{change:M=>{M.detail===!1&&Ie()()}},children:(M,le)=>{{let z=xe(()=>(g(),o(()=>g().t("More"))));he(M,{get content(){return e(z)},children:(X,re)=>{var ce=zr(),ve=a(ce);hr(ve,N,"default",{},null),r(ce),oe("click",ce,pe=>{pe.stopPropagation(),x(ue,!e(ue))}),v(X,ce)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(M,le)=>{var z=Kr(),X=a(z);wr(X,{class:"w-full max-w-[170px] rounded-2xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",get transition(){return br},children:(re,ce)=>{var ve=Gr(),pe=F(ve);_e(pe,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{te()()}},children:(j,J)=>{var $=Or(),h=F($);$r(h,{});var k=l(h,2),I=a(k,!0);r(k),P(B=>y(I,B),[()=>(g(),o(()=>g().t("Edit")))]),v(j,$)},$$slots:{default:!0}});var Be=l(pe,2);_e(Be,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ye()()}},children:(j,J)=>{var $=Wr(),h=F($);{var k=f=>{var d=Ar();v(f,d)},I=f=>{var d=Tr();v(f,d)};W(h,f=>{Ce(ie()),o(()=>{var d,C;return((C=(d=ie())==null?void 0:d.meta)==null?void 0:C.hidden)??!1})?f(k):f(I,!1)})}var B=l(h,2),s=a(B);{var c=f=>{var d=Ke();P(C=>y(d,C),[()=>(g(),o(()=>g().t("Show Model")))]),v(f,d)},S=f=>{var d=Ke();P(C=>y(d,C),[()=>(g(),o(()=>g().t("Hide Model")))]),v(f,d)};W(s,f=>{Ce(ie()),o(()=>{var d,C;return((C=(d=ie())==null?void 0:d.meta)==null?void 0:C.hidden)??!1})?f(c):f(S,!1)})}r(B),v(j,$)},$$slots:{default:!0}});var Y=l(Be,2);_e(Y,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{K()()}},children:(j,J)=>{var $=Rr(),h=F($);Sr(h,{});var k=l(h,2),I=a(k,!0);r(k),P(B=>y(I,B),[()=>(g(),o(()=>g().t("Clone")))]),v(j,$)},$$slots:{default:!0}});var je=l(Y,4);_e(je,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ne()()}},children:(j,J)=>{var $=Fr(),h=F($);Mr(h,{});var k=l(h,2),I=a(k,!0);r(k),P(B=>y(I,B),[()=>(g(),o(()=>g().t("Copy Link")))]),v(j,$)},$$slots:{default:!0}});var Ue=l(je,2);_e(Ue,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{be()()}},children:(j,J)=>{var $=Jr(),h=F($);ur(h,{});var k=l(h,2),I=a(k,!0);r(k),P(B=>y(I,B),[()=>(g(),o(()=>g().t("Export")))]),v(j,$)},$$slots:{default:!0}});var ze=l(Ue,2);{var Oe=j=>{_e(j,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$events:{click:()=>{Pe()()}},children:(J,$)=>{var h=Vr(),k=F(h);kr(k,{});var I=l(k,2),B=a(I,!0);r(I),P(s=>y(B,s),[()=>(g(),o(()=>g().t("Share")))]),v(J,h)},$$slots:{default:!0}})};W(ze,j=>{n(),o(()=>{var J;return(J=n())==null?void 0:J.features.enable_community_sharing})&&j(Oe)})}var Xe=l(ze,4);_e(Xe,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{Le()()}},children:(j,J)=>{var $=qr(),h=F($);It(h,{});var k=l(h,2),I=a(k,!0);r(k),P(B=>y(I,B),[()=>(g(),o(()=>g().t("Delete")))]),v(j,$)},$$slots:{default:!0}}),v(re,ve)},$$slots:{default:!0}}),r(z),v(M,z)}},$$legacy:!0}),ot(),ee()}var Yr=m('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),Zr=m('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button> <!>',1),Qr=m('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),ea=m('<a class=" font-semibold line-clamp-1 hover:underline capitalize"> </a>'),ta=m('<button class="self-center w-fit text-sm p-1.5 dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),ra=m('<button class="self-center w-fit text-sm p-1.5 dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),aa=m("<!> <!>",1),sa=m('<div class="self-center w-fit p-1 text-sm dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"><!></div>'),oa=m('<div class="shrink-0 text-gray-500 text-xs"> </div>'),ia=m('<div class="flex gap-1 text-xs overflow-hidden"><div class="line-clamp-1"><!></div></div>'),na=m('<div class="  flex cursor-pointer dark:hover:bg-gray-850/50 hover:bg-gray-50 transition rounded-2xl w-full p-2.5"><div class="flex group/item gap-3.5 w-full"><div class="self-center pl-0.5"><div class="flex bg-white rounded-2xl"><div><img alt="modelfile profile" class=" rounded-2xl size-12 object-cover"/></div></div></div> <div class=" shrink-0 flex w-full min-w-0 flex-1 pr-1 self-center"><div class="flex h-full w-full flex-1 flex-col justify-start self-center group"><div class="flex-1 w-full"><div class="flex items-center justify-between w-full"><!> <div class=" flex items-center gap-1"><div><div class="flex justify-between items-center w-full"><div></div> <div class="flex flex-row gap-0.5 items-center"><!></div></div></div> <button><!></button></div></div> <div class=" flex gap-1 pr-2 -mt-1 items-center"><!> <div>Â·</div> <!></div></div></div></div></div></div>'),la=m('<div class=" px-3 my-2 gap-1 lg:gap-2 grid lg:grid-cols-2" id="model-list"></div>'),da=m('<div class=" w-full h-full flex flex-col justify-center items-center my-16 mb-24"><div class="max-w-md text-center"><div class=" text-3xl mb-3">ðŸ˜•</div> <div class=" text-lg font-medium mb-1"> </div> <div class=" text-gray-500 text-center text-xs"> </div></div></div>'),ca=m('<div class=" my-16"><div class=" text-xl font-medium mb-1 line-clamp-1"> </div> <a class=" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition" href="https://openwebui.com/models" target="_blank"><div class=" self-center"><div class=" font-semibold line-clamp-1"> </div> <div class=" text-sm line-clamp-1"> </div></div> <div><div><!></div></div></a></div>'),va=m('<!> <div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><input id="models-import-input" type="file" accept=".json" hidden=""/> <div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><!> <a class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center" href="/workspace/models/create"><!> <div class=" hidden md:block md:ml-1 text-xs"> </div></a></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-850"><div class="px-3.5 flex flex-1 items-center w-full space-x-2 py-0.5 pb-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div> <div class="px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none"><div class="flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-0.5 whitespace-nowrap"><!> <!></div></div> <!></div> <!>',1),fa=m('<div class="w-full h-full flex justify-center items-center"><!></div>');function ua(He,N){st(N,!1);const g=()=>Q(nr,"$user",te),n=()=>Q(be,"$i18n",te),G=()=>Q(lt,"$config",te),ee=()=>Q(Nt,"$settings",te),Ee=()=>Q(ir,"$WEBUI_NAME",te),ie=()=>Q(we,"$_models",te),[te,Pe]=nt(),{saveAs:K}=pr,be=Pt("i18n");let ne=A(!1),ye=A(),Le=A(),Ie=A(),ue=A(!1),M=A([]),le=A([]),z=A(""),X=A(""),re=A([]),ce=A(null),ve=A(!1),pe=A([]);const Be=async()=>{x(re,e(M).filter(s=>{var S,f,d,C,$e,ke;if(e(Y)===""&&e(X)===""&&e(z)==="")return!0;const c=e(Y).toLowerCase();return((s.name||"").toLowerCase().includes(c)||(((S=s.user)==null?void 0:S.name)||"").toLowerCase().includes(c)||(((f=s.user)==null?void 0:f.email)||"").toLowerCase().includes(c))&&(e(X)===""||((C=(d=s==null?void 0:s.meta)==null?void 0:d.tags)==null?void 0:C.some(Ye=>Ye.name.toLowerCase()===e(X).toLowerCase())))&&(e(z)===""||e(z)==="created"&&s.user_id===(($e=g())==null?void 0:$e.id)||e(z)==="shared"&&s.user_id!==((ke=g())==null?void 0:ke.id))}))};let Y=A("");const je=async s=>{var S,f,d;await gr(localStorage.token,s.id).catch(C=>(Me.error(`${C}`),null))&&Me.success(n().t("Deleted {{name}}",{name:s.id})),await we.set(await Ne(localStorage.token,((f=(S=G())==null?void 0:S.features)==null?void 0:f.enable_direct_connections)&&(((d=ee())==null?void 0:d.directConnections)??null))),x(M,await Ge(localStorage.token))},Ue=async s=>{sessionStorage.model=JSON.stringify({...s,id:`${s.id}-clone`,name:`${s.name} (Clone)`}),at("/workspace/models/create")},ze=async s=>{Me.success(n().t("Redirecting you to Open WebUI Community"));const c="https://openwebui.com",S=await window.open(`${c}/models/create`,"_blank"),f=d=>{d.origin===c&&d.data==="loaded"&&(S.postMessage(JSON.stringify(s),"*"),window.removeEventListener("message",f))};window.addEventListener("message",f,!1)},Oe=async s=>{var S,f,d,C;s.meta={...s.meta,hidden:!(((S=s==null?void 0:s.meta)==null?void 0:S.hidden)??!1)},await Ht(localStorage.token,s.id,s)&&Me.success(n().t("Model {{name}} is now {{status}}",{name:s.id,status:s.meta.hidden?"hidden":"visible"})),await we.set(await Ne(localStorage.token,((d=(f=G())==null?void 0:f.features)==null?void 0:d.enable_direct_connections)&&(((C=ee())==null?void 0:C.directConnections)??null))),x(M,await Ge(localStorage.token))},Xe=async s=>{const c=window.location.origin;await fr(`${c}/?model=${encodeURIComponent(s.id)}`)?Me.success(n().t("Copied link to clipboard")):Me.error(n().t("Failed to copy link"))},j=async s=>{let c=new Blob([JSON.stringify(s)],{type:"application/json"});K(c,`models-export-${Date.now()}.json`)},J=async s=>{let c=new Blob([JSON.stringify([s])],{type:"application/json"});K(c,`${s.id}-${Date.now()}.json`)},$=()=>{e(M)&&(x(le,e(M).filter(s=>{var c;return!(((c=s==null?void 0:s.meta)==null?void 0:c.hidden)??!1)}).flatMap(s=>{var c;return((c=s==null?void 0:s.meta)==null?void 0:c.tags)??[]}).map(s=>s.name)),x(le,Array.from(new Set(e(le))).sort((s,c)=>s.localeCompare(c))))};jt(async()=>{x(z,localStorage.workspaceViewOption??""),x(M,await Ge(localStorage.token));let s=await _r(localStorage.token);x(pe,s.map(d=>d.id)),$(),x(ue,!0);const c=d=>{d.key==="Shift"&&x(ne,!0)},S=d=>{d.key==="Shift"&&x(ne,!1)},f=()=>{x(ne,!1)};return window.addEventListener("keydown",c),window.addEventListener("keyup",S),window.addEventListener("blur-sm",f),()=>{window.removeEventListener("keydown",c),window.removeEventListener("keyup",S),window.removeEventListener("blur-sm",f)}}),er(()=>(e(M),e(Y),e(X),e(z)),()=>{e(M)&&e(Y)!==void 0&&e(X)!==void 0&&e(z)!==void 0&&Be()}),tr(),it();var h=Dt();rr(s=>{P(c=>ar.title=`
		${c??""} â€¢ ${Ee()??""}
	`,[()=>(n(),o(()=>n().t("Models")))])});var k=F(h);{var I=s=>{var c=va(),S=F(c);Cr(S,{get show(){return e(ve)},set show(i){x(ve,i)},$$events:{confirm:()=>{je(e(ce))}},$$legacy:!0});var f=l(S,2),d=a(f);St(d,i=>x(Le,i),()=>e(Le));var C=l(d,2),$e=a(C),ke=a($e),Ye=a(ke,!0);r(ke);var dt=l(ke,2),Bt=a(dt,!0);r(dt),r($e);var ct=l($e,2),vt=a(ct);{var Ut=i=>{var u=Zr(),p=F(u),t=a(p),ae=a(t,!0);r(t),r(p);var D=l(p,2);{var _=L=>{var V=Yr(),fe=a(V),Se=a(fe,!0);r(fe),r(V),P(ge=>y(Se,ge),[()=>(n(),o(()=>n().t("Export")))]),oe("click",V,async()=>{j(e(M))}),v(L,V)};W(D,L=>{e(M),o(()=>e(M).length)&&L(_)})}P(L=>y(ae,L),[()=>(n(),o(()=>n().t("Import")))]),oe("click",p,()=>{e(Le).click()}),v(i,u)};W(vt,i=>{g(),o(()=>{var u;return((u=g())==null?void 0:u.role)==="admin"})&&i(Ut)})}var ft=l(vt,2),ut=a(ft);Er(ut,{className:"size-3",strokeWidth:"2.5"});var pt=l(ut,2),zt=a(pt,!0);r(pt),r(ft),r(ct),r(C),r(f);var Ze=l(f,2),Qe=a(Ze),gt=a(Qe),et=a(gt),Ot=a(et);Hr(Ot,{className:"size-3.5"}),r(et);var Ae=l(et,2);dr(Ae);var At=l(Ae,2);{var Tt=i=>{var u=Qr(),p=a(u),t=a(p);Dr(t,{className:"size-3",strokeWidth:"2"}),r(p),r(u),oe("click",p,()=>{x(Y,"")}),v(i,u)};W(At,i=>{e(Y)&&i(Tt)})}r(gt),r(Qe);var Te=l(Qe,2),tt=a(Te),mt=a(tt);Br(mt,{onChange:async i=>{localStorage.workspaceViewOption=i,await sr(),$()},get value(){return e(z)},set value(i){x(z,i)},$$legacy:!0});var Wt=l(mt,2);{var Rt=i=>{{let u=xe(()=>(e(le),o(()=>e(le).map(p=>({value:p,label:p})))));Ur(i,{get items(){return e(u)},get value(){return e(X)},set value(p){x(X,p)},$$legacy:!0})}};W(Wt,i=>{e(le),o(()=>(e(le)??[]).length>0)&&i(Rt)})}r(tt),St(tt,i=>x(Ie,i),()=>e(Ie)),r(Te);var Ft=l(Te,2);{var Jt=i=>{var u=la();lr(u,5,()=>e(re),p=>p.id,(p,t,ae)=>{var D=na(),_=a(D),L=a(_),V=a(L),fe=a(V),Se=a(fe);r(fe),r(V),r(L);var ge=l(L,2),We=a(ge),Re=a(We),De=a(Re),Fe=a(De);he(Fe,{get content(){return e(t),o(()=>e(t).name)},className:" w-fit",placement:"top-start",children:(b,w)=>{var E=ea(),H=a(E,!0);r(E),P(O=>{qe(E,"href",O),y(H,(e(t),o(()=>e(t).name)))},[()=>(e(t),o(()=>`/?models=${encodeURIComponent(e(t).id)}`))]),v(b,E)},$$slots:{default:!0}});var _t=l(Fe,2),Je=a(_t),xt=a(Je),ht=l(a(xt),2),Kt=a(ht);{var Xt=b=>{var w=aa(),E=F(w);{let O=xe(()=>(e(t),n(),o(()=>{var U,de;return(de=(U=e(t))==null?void 0:U.meta)!=null&&de.hidden?n().t("Show"):n().t("Hide")})));he(E,{get content(){return e(O)},children:(U,de)=>{var T=ta(),R=a(T);{var q=Z=>{Nr(Z,{})},me=Z=>{Ir(Z,{})};W(R,Z=>{e(t),o(()=>{var yt,$t;return($t=(yt=e(t))==null?void 0:yt.meta)==null?void 0:$t.hidden})?Z(q):Z(me,!1)})}r(T),oe("click",T,Z=>{Z.stopPropagation(),Oe(e(t))}),v(U,T)},$$slots:{default:!0}})}var H=l(E,2);{let O=xe(()=>(n(),o(()=>n().t("Delete"))));he(H,{get content(){return e(O)},children:(U,de)=>{var T=ra(),R=a(T);It(R,{}),r(T),oe("click",T,q=>{q.stopPropagation(),je(e(t))}),v(U,T)},$$slots:{default:!0}})}v(b,w)},Yt=b=>{Xr(b,{get user(){return g()},get model(){return e(t)},editHandler:()=>{at(`/workspace/models/edit?id=${encodeURIComponent(e(t).id)}`)},shareHandler:()=>{ze(e(t))},cloneHandler:()=>{Ue(e(t))},exportHandler:()=>{J(e(t))},hideHandler:()=>{Oe(e(t))},copyLinkHandler:()=>{Xe(e(t))},deleteHandler:()=>{x(ce,e(t)),x(ve,!0)},onClose:()=>{},children:(w,E)=>{var H=sa(),O=a(H);xr(O,{className:"size-5"}),r(H),v(w,H)},$$slots:{default:!0}})};W(Kt,b=>{e(ne)?b(Xt):b(Yt,!1)})}r(ht),r(xt),r(Je);var rt=l(Je,2),Zt=a(rt);{let b=xe(()=>(e(t),n(),o(()=>e(t).is_active?n().t("Enabled"):n().t("Disabled"))));he(Zt,{get content(){return e(b)},children:(w,E)=>{Lr(w,{get state(){return e(t).is_active},set state(H){e(t).is_active=H,or(()=>e(re))},$$events:{change:async()=>{var H,O,U;mr(localStorage.token,e(t).id),we.set(await Ne(localStorage.token,((O=(H=G())==null?void 0:H.features)==null?void 0:O.enable_direct_connections)&&(((U=ee())==null?void 0:U.directConnections)??null)))}},$$legacy:!0})},$$slots:{default:!0}})}r(rt),r(_t),r(De);var wt=l(De,2),bt=a(wt);{let b=xe(()=>(e(t),n(),o(()=>{var w,E;return((E=(w=e(t))==null?void 0:w.user)==null?void 0:E.email)??n().t("Deleted User")})));he(bt,{get content(){return e(b)},className:"flex shrink-0",placement:"top-start",children:(w,E)=>{var H=oa(),O=a(H,!0);r(H),P(U=>y(O,U),[()=>(n(),Ce(Mt),e(t),o(()=>{var U,de,T,R;return n().t("By {{name}}",{name:Mt(((de=(U=e(t))==null?void 0:U.user)==null?void 0:de.name)??((R=(T=e(t))==null?void 0:T.user)==null?void 0:R.email)??n().t("Deleted User"))})}))]),v(w,H)},$$slots:{default:!0}})}var Qt=l(bt,4);{let b=xe(()=>(Ce(Ct),e(t),o(()=>{var w,E;return Ct.parse(((E=(w=e(t))==null?void 0:w.meta)==null?void 0:E.description)??e(t).id)})));he(Qt,{get content(){return e(b)},className:" w-fit text-left",placement:"top-start",children:(w,E)=>{var H=ia(),O=a(H),U=a(O);{var de=R=>{var q=Ke();P(()=>y(q,(e(t),o(()=>{var me,Z;return(Z=(me=e(t))==null?void 0:me.meta)==null?void 0:Z.description})))),v(R,q)},T=R=>{var q=Ke();P(()=>y(q,(e(t),o(()=>e(t).id)))),v(R,q)};W(U,R=>{e(t),o(()=>{var q,me;return(((me=(q=e(t))==null?void 0:q.meta)==null?void 0:me.description)??"").trim()})?R(de):R(T,!1)})}r(O),r(H),v(w,H)},$$slots:{default:!0}})}r(wt),r(Re),r(We),r(ge),r(_),r(D),P(()=>{qe(D,"id",`model-item-${e(t),o(()=>e(t).id)??""}`),kt(fe,1,`${e(t),o(()=>e(t).is_active?"":"opacity-50 dark:opacity-50")??""} ${e(t),Ce(Ve),o(()=>e(t).meta.profile_image_url!==`${Ve}/static/favicon.png`?"bg-transparent":"bg-white")??""} rounded-2xl`),qe(Se,"src",(e(t),Ce(Ve),o(()=>{var b,w;return((w=(b=e(t))==null?void 0:b.meta)==null?void 0:w.profile_image_url)??`${Ve}/static/favicon.png`}))),kt(Je,1,`flex justify-end w-full ${e(t),o(()=>e(t).is_active?"":"text-gray-500")??""}`)}),oe("click",rt,b=>{b.stopPropagation()}),oe("click",D,()=>{var b,w;(((b=g())==null?void 0:b.role)==="admin"||e(t).user_id===((w=g())==null?void 0:w.id)||e(t).access_control.write.group_ids.some(E=>e(pe).includes(E)))&&at(`/workspace/models/edit?id=${encodeURIComponent(e(t).id)}`)}),v(p,D)}),r(u),v(i,u)},Vt=i=>{var u=da(),p=a(u),t=l(a(p),2),ae=a(t,!0);r(t);var D=l(t,2),_=a(D,!0);r(D),r(p),r(u),P((L,V)=>{y(ae,L),y(_,V)},[()=>(n(),o(()=>n().t("No models found"))),()=>(n(),o(()=>n().t("Try adjusting your search or filter to find what you are looking for.")))]),v(i,u)};W(Ft,i=>{e(re),o(()=>(e(re)??[]).length!==0)?i(Jt):i(Vt,!1)})}r(Ze);var qt=l(Ze,2);{var Gt=i=>{var u=ca(),p=a(u),t=a(p,!0);r(p);var ae=l(p,2),D=a(ae),_=a(D),L=a(_,!0);r(_);var V=l(_,2),fe=a(V,!0);r(V),r(D);var Se=l(D,2),ge=a(Se),We=a(ge);Pr(We,{}),r(ge),r(Se),r(ae),r(u),P((Re,De,Fe)=>{y(t,Re),y(L,De),y(fe,Fe)},[()=>(n(),o(()=>n().t("Made by Open WebUI Community"))),()=>(n(),o(()=>n().t("Discover a model"))),()=>(n(),o(()=>n().t("Discover, download, and explore model presets")))]),v(i,u)};W(qt,i=>{G(),o(()=>{var u;return(u=G())==null?void 0:u.features.enable_community_sharing})&&i(Gt)})}P((i,u,p)=>{y(Ye,i),y(Bt,(e(re),o(()=>e(re).length))),y(zt,u),qe(Ae,"placeholder",p)},[()=>(n(),o(()=>n().t("Models"))),()=>(n(),o(()=>n().t("New Model"))),()=>(n(),o(()=>n().t("Search Models")))]),cr(d,()=>e(ye),i=>x(ye,i)),oe("change",d,()=>{e(ye);let i=new FileReader;i.onload=async u=>{var t,ae,D;let p=JSON.parse(u.target.result);for(const _ of p)(_==null?void 0:_.info)??!1?ie().find(L=>L.id===_.id)?await Ht(localStorage.token,_.id,_.info).catch(L=>null):await Et(localStorage.token,_.info).catch(L=>null):_!=null&&_.id&&(_!=null&&_.name)&&await Et(localStorage.token,_).catch(L=>null);await we.set(await Ne(localStorage.token,((ae=(t=G())==null?void 0:t.features)==null?void 0:ae.enable_direct_connections)&&(((D=ee())==null?void 0:D.directConnections)??null))),x(M,await Ge(localStorage.token))},i.readAsText(e(ye)[0])}),vr(Ae,()=>e(Y),i=>x(Y,i)),oe("wheel",Te,i=>{i.deltaY!==0&&(i.preventDefault(),i.currentTarget.scrollLeft+=i.deltaY)}),v(s,c)},B=s=>{var c=fa(),S=a(c);jr(S,{className:"size-5"}),r(c),v(s,c)};W(k,s=>{e(ue)?s(I):s(B,!1)})}v(He,h),ot(),Pe()}function as(He,N){st(N,!1);const g=()=>Q(lt,"$config",ee),n=()=>Q(Nt,"$settings",ee),G=()=>Q(we,"$models",ee),[ee,Ee]=nt();jt(async()=>{await Promise.all([(async()=>{var K,be,ne;we.set(await Ne(localStorage.token,((be=(K=g())==null?void 0:K.features)==null?void 0:be.enable_direct_connections)&&(((ne=n())==null?void 0:ne.directConnections)??null)))})()])}),it();var ie=Dt(),te=F(ie);{var Pe=K=>{ua(K,{})};W(te,K=>{G()!==null&&K(Pe)})}v(He,ie),ot(),Ee()}export{as as component};
//# sourceMappingURL=33.D3sgBGK8.js.map
