import"./CWj6FrbW.js";import"./CN51-NxK.js";import{t as x,a as v,B as la,b as oa,g as ia,o as ua,q as ta,i as o,j as t,u as Ee,v as fa,c as r,r as a,k as n,w as l,l as pe,aW as aa,s as d,p as sa,f as w,m as U,z as ze,n as Oe,e as ye,d as De,aY as ka}from"./CvTLsZlf.js";import{i as S}from"./B3D73U8p.js";import{e as wa,i as $a}from"./uF71e8HK.js";import{a as fe,s as M,c as na,r as We,d as ra}from"./CPzR4-ix.js";import{b as Je}from"./BpTtYi1u.js";import{i as da}from"./CNVL70pO.js";import{p as oe}from"./DBxQAEQJ.js";import{a as Dt,s as va}from"./DzS5ldT-.js";import{t as Y}from"./Cqe-NRGo.js";import{d as xa}from"./BhUNH95W.js";import{v as Ca}from"./DRVJxa9v.js";import{v as Ma}from"./Dm6y1yBd.js";import{M as pa}from"./B1Io5-Zn.js";import{P as Aa}from"./DbQqwFih.js";import{S as ga}from"./DwuaZoXf.js";import{T as Re}from"./k6hQMChD.js";import{S as _a}from"./YVf9iXaV.js";import{T as Sa}from"./CXpGnVFN.js";import{S as ha}from"./DD1zKOTk.js";import{X as ya}from"./BFL0NFeS.js";import{T as Oa}from"./VKbJuFMC.js";import{C as Na}from"./CJhxu3Yk.js";import{b as Pa}from"./Cz9Z7v2M.js";import{f as ja}from"./dsq8o_n-.js";import{b as Da}from"./-iKachMe.js";import{v as Ia,r as za}from"./v6PWgmMl.js";import{A as Ja}from"./B92zAXG9.js";var Ra=la('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" aria-hidden="true" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>');function La(Ne,q){let e=oe(q,"className",8,"w-4 h-4"),s=oe(q,"strokeWidth",8,"1.5");var ce=Ra();x(()=>{fe(ce,"stroke-width",s()),M(ce,0,na(e()))}),v(Ne,ce)}var Ha=la('<svg xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14"></path></svg>');function qa(Ne,q){let e=oe(q,"className",8,"w-4 h-4"),s=oe(q,"strokeWidth",8,"1.5");var ce=Ha();x(()=>{fe(ce,"stroke-width",s()),M(ce,0,na(e()))}),v(Ne,ce)}var Ta=w('<div class="flex gap-2"><div class="flex w-full justify-between items-center"><div class=" text-xs text-gray-500"> </div> <div><button type="button" class=" text-xs text-gray-700 dark:text-gray-300"><!></button></div></div></div>'),Ea=w('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button>'),Wa=w("<option> </option>"),Ua=w("<option> </option> <!>",1),Va=w("<option> </option> <!>",1),Ba=w("<div> </div>"),Fa=w("<div> </div>"),Ka=w("<div> </div>"),Xa=w("<div> </div>"),Za=w('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="headers-input"> </label> <div class="flex-1"><!></div></div></div>'),Ya=w('<input type="text" id="prefix-id-input" autocomplete="off"/>'),Ga=w('<div class="flex flex-row justify-between items-center w-full mt-2"><label for="prefix-id-input"> </label> <div><button type="button" class=" text-xs text-gray-700 dark:text-gray-300"> </button></div></div>'),Qa=w('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="api-version-input"> </label> <div class="flex-1"><input id="api-version-input" type="text" autocomplete="off" required/></div></div></div>'),er=w('<li class=" flex gap-2 w-full justify-between items-center"><div class=" text-sm flex-1 py-1 rounded-lg"> </div> <div class="shrink-0"><button type="button"><!></button></div></li>'),tr=w('<ul class="flex flex-col"></ul>'),ar=w("<div><!></div>"),rr=w('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),lr=w('<div class="ml-2 self-center"><!></div>'),or=w('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-1.5"><h1 class="text-lg font-medium self-center font-primary"><!></h1> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class="px-1"><!> <div class="flex gap-2 mt-1.5"><div class="flex flex-col w-full"><label for="url-input"> </label> <div class="flex-1"><input id="url-input" type="text" autocomplete="off" required/></div></div> <!> <div class="flex flex-col shrink-0 self-end"><label class="sr-only" for="toggle-connection"> </label> <!></div></div> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="select-bearer-or-session"> </label> <div class="flex gap-2"><div class="flex-shrink-0 self-start"><select id="select-bearer-or-session"><option> </option><option> </option><!></select></div> <div class="flex flex-1 items-center"><!></div></div></div></div> <!> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="prefix-id-input"> </label> <div class="flex-1"><!></div></div></div> <!> <!> <div class="flex flex-col w-full mt-2"><div class="mb-1 flex justify-between"><div> </div></div> <!></div> <div class="flex items-center"><label class="sr-only" for="add-model-id-input"> </label> <input id="add-model-id-input"/> <div><button type="button"><!></button></div></div></div> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><div> </div> <div class="flex-1 mt-0.5"><!></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form></div></div></div>');function ul(Ne,q){oa(q,!1);const e=()=>Dt(_t,"$i18n",ce),s=()=>Dt(xa,"$settings",ce),[ce,gt]=va(),_t=ia("i18n");let ht=oe(q,"onSubmit",8,()=>{}),ue=oe(q,"onDelete",8,()=>{}),Pe=oe(q,"show",12,!1),ke=oe(q,"edit",8,!1),me=oe(q,"ollama",8,!1),ge=oe(q,"direct",8,!1),R=oe(q,"connection",8,null),B=U(""),L=U(""),I=U("bearer"),ee=U("external"),Q=U(!1),D=U(""),G=U(!0),ne=U(""),F=U(""),K=U([]),xe=U(""),ie=U([]),de=U(!1);const re=async()=>{o(B,t(B).replace(/\/$/,"")),await Ma(localStorage.token,{url:t(B),key:t(L)}).catch(_e=>{Y.error(`${_e}`)})&&Y.success(e().t("Server connection verified"))},V=async()=>{o(B,t(B).replace(/\/$/,""));let te=null;if(t(F))try{if(te=JSON.parse(t(F)),typeof te!="object"||Array.isArray(te))throw te=null,new Error("Headers must be a valid JSON object");o(F,JSON.stringify(te,null,2))}catch{Y.error(e().t("Headers must be a valid JSON object"));return}await Ca(localStorage.token,{url:t(B),key:t(L),config:{auth_type:t(I),azure:t(Q),api_version:t(ne),...te?{headers:te}:{}}},ge()).catch(z=>{Y.error(`${z}`)})&&Y.success(e().t("Server connection verified"))},Me=()=>{me()?re():V()},Le=()=>{t(xe)&&(o(ie,[...t(ie),t(xe)]),o(xe,""))},yt=async()=>{if(o(de,!0),!me()&&!t(B)){o(de,!1),Y.error(e().t("URL is required"));return}if(t(Q)){if(!t(ne)){o(de,!1),Y.error(e().t("API Version is required"));return}if(!t(L)&&!["azure_ad","microsoft_entra_id"].includes(t(I))){o(de,!1),Y.error(e().t("Key is required"));return}if(t(ie).length===0){o(de,!1),Y.error(e().t("Deployment names are required for Azure OpenAI"));return}}if(t(F))try{const _e=JSON.parse(t(F));if(typeof _e!="object"||Array.isArray(_e))throw new Error("Headers must be a valid JSON object");o(F,JSON.stringify(_e,null,2))}catch{Y.error(e().t("Headers must be a valid JSON object"));return}o(B,t(B).replace(/\/$/,""));const te={url:t(B),key:t(L),config:{enable:t(G),tags:t(K),prefix_id:t(D),model_ids:t(ie),connection_type:t(ee),auth_type:t(I),headers:t(F)?JSON.parse(t(F)):void 0,...!me()&&t(Q)?{azure:!0,api_version:t(ne)}:{}}};await ht()(te),o(de,!1),Pe(!1),o(B,""),o(L,""),o(I,"bearer"),o(D,""),o(K,[]),o(ie,[])},Ie=()=>{var te,_e,z,ve,be,Ce,we,j,Ae;R()&&(o(B,R().url),o(L,R().key),o(I,R().config.auth_type??"bearer"),o(F,(te=R().config)!=null&&te.headers?JSON.stringify(R().config.headers,null,2):""),o(G,((_e=R().config)==null?void 0:_e.enable)??!0),o(K,((z=R().config)==null?void 0:z.tags)??[]),o(D,((ve=R().config)==null?void 0:ve.prefix_id)??""),o(ie,((be=R().config)==null?void 0:be.model_ids)??[]),me()?o(ee,((Ce=R().config)==null?void 0:Ce.connection_type)??"local"):(o(ee,((we=R().config)==null?void 0:we.connection_type)??"external"),o(Q,((j=R().config)==null?void 0:j.azure)??!1),o(ne,((Ae=R().config)==null?void 0:Ae.api_version)??"")))};ua(()=>{Ie()}),ta(()=>(t(B),Ee(ge())),()=>{o(Q,!!((t(B).includes("azure.")||t(B).includes("cognitive.microsoft.com"))&&!ge()))}),ta(()=>Ee(Pe()),()=>{Pe()&&Ie()}),fa(),da(),pa(Ne,{size:"sm",get show(){return Pe()},set show(te){Pe(te)},children:(te,_e)=>{var z=or(),ve=r(z),be=r(ve),Ce=r(be);{var we=i=>{var u=ze();x(p=>d(u,p),[()=>(e(),l(()=>e().t("Edit Connection")))]),v(i,u)},j=i=>{var u=ze();x(p=>d(u,p),[()=>(e(),l(()=>e().t("Add Connection")))]),v(i,u)};S(Ce,i=>{ke()?i(we):i(j,!1)})}a(be);var Ae=n(be,2),ot=r(Ae);ya(ot,{className:"size-5"}),a(Ae),a(ve);var Ue=n(ve,2),He=r(Ue),je=r(He),Ve=r(je),it=r(Ve);{var Vt=i=>{var u=Ta(),p=r(u),f=r(p),N=r(f,!0);a(f);var h=n(f,2),m=r(h),A=r(m);{var g=b=>{var C=ze();x(k=>d(C,k),[()=>(e(),l(()=>e().t("Local")))]),v(b,C)},$=b=>{var C=ze();x(k=>d(C,k),[()=>(e(),l(()=>e().t("External")))]),v(b,C)};S(A,b=>{t(ee)==="local"?b(g):b($,!1)})}a(m),a(h),a(p),a(u),x(b=>d(N,b),[()=>(e(),l(()=>e().t("Connection Type")))]),pe("click",m,()=>{o(ee,t(ee)==="local"?"external":"local")}),v(i,u)};S(it,i=>{ge()||i(Vt)})}var Be=n(it,2),mt=r(Be),Ge=r(mt),It=r(Ge,!0);a(Ge);var st=n(Ge,2),Fe=r(st);We(Fe),a(st),a(mt);var nt=n(mt,2);{let i=Oe(()=>(e(),l(()=>e().t("Verify Connection"))));Re(nt,{get content(){return t(i)},className:"self-end -mb-1",children:(u,p)=>{var f=Ea();x(N=>fe(f,"aria-label",N),[()=>(e(),l(()=>e().t("Verify Connection")))]),pe("click",f,()=>{Me()}),v(u,f)},$$slots:{default:!0}})}var bt=n(nt,2),kt=r(bt),wt=r(kt,!0);a(kt);var zt=n(kt,2);{let i=Oe(()=>(t(G),e(),l(()=>t(G)?e().t("Enabled"):e().t("Disabled"))));Re(zt,{get content(){return t(i)},children:(u,p)=>{_a(u,{id:"toggle-connection",get state(){return t(G)},set state(f){o(G,f)},$$legacy:!0})},$$slots:{default:!0}})}a(bt),a(Be);var Qe=n(Be,2),dt=r(Qe),vt=r(dt),Jt=r(vt,!0);a(vt);var Ke=n(vt,2),ct=r(Ke),ut=r(ct);x(()=>{t(I),aa(()=>{s(),e(),me(),ge(),t(Q)})});var Xe=r(ut),Bt=r(Xe,!0);a(Xe),Xe.value=Xe.__value="none";var qe=n(Xe),Rt=r(qe,!0);a(qe),qe.value=qe.__value="bearer";var $t=n(qe);{var Ct=i=>{var u=Va(),p=ye(u),f=r(p,!0);a(p),p.value=p.__value="session";var N=n(p,2);{var h=m=>{var A=Ua(),g=ye(A),$=r(g,!0);a(g),g.value=g.__value="system_oauth";var b=n(g,2);{var C=k=>{var Z=Wa(),P=r(Z,!0);a(Z),Z.value=Z.__value="microsoft_entra_id",x(he=>d(P,he),[()=>(e(),l(()=>e().t("Entra ID")))]),v(k,Z)};S(b,k=>{t(Q)&&k(C)})}x(k=>d($,k),[()=>(e(),l(()=>e().t("OAuth")))]),v(m,A)};S(N,m=>{ge()||m(h)})}x(m=>d(f,m),[()=>(e(),l(()=>e().t("Session")))]),v(i,u)};S($t,i=>{me()||i(Ct)})}a(ut),a(ct);var ft=n(ct,2),Ft=r(ft);{var Kt=i=>{{let u=Oe(()=>(e(),l(()=>e().t("API Key"))));ga(i,{get placeholder(){return t(u)},required:!1,get value(){return t(L)},set value(p){o(L,p)},$$legacy:!0})}},Xt=i=>{var u=De(),p=ye(u);{var f=h=>{var m=Ba(),A=r(m,!0);a(m),x(g=>{M(m,1,(s(),l(()=>{var $;return`text-xs self-center translate-y-[1px] ${(($=s())==null?void 0:$.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(A,g)},[()=>(e(),l(()=>e().t("No authentication")))]),v(h,m)},N=h=>{var m=De(),A=ye(m);{var g=b=>{var C=Fa(),k=r(C,!0);a(C),x(Z=>{M(C,1,(s(),l(()=>{var P;return`text-xs self-center translate-y-[1px] ${((P=s())==null?void 0:P.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(k,Z)},[()=>(e(),l(()=>e().t("Forwards system user session credentials to authenticate")))]),v(b,C)},$=b=>{var C=De(),k=ye(C);{var Z=he=>{var $e=Ka(),Te=r($e,!0);a($e),x(le=>{M($e,1,(s(),l(()=>{var Se;return`text-xs self-center translate-y-[1px] ${((Se=s())==null?void 0:Se.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(Te,le)},[()=>(e(),l(()=>e().t("Forwards system user OAuth access token to authenticate")))]),v(he,$e)},P=he=>{var $e=De(),Te=ye($e);{var le=Se=>{var Ut=Xa(),ma=r(Ut,!0);a(Ut),x(ba=>{M(Ut,1,(s(),l(()=>{var ca;return`text-xs self-center translate-y-[1px] ${((ca=s())==null?void 0:ca.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(ma,ba)},[()=>(e(),l(()=>e().t("Uses DefaultAzureCredential to authenticate")))]),v(Se,Ut)};S(Te,Se=>{t(I),l(()=>["azure_ad","microsoft_entra_id"].includes(t(I)))&&Se(le)},!0)}v(he,$e)};S(k,he=>{t(I)==="system_oauth"?he(Z):he(P,!1)},!0)}v(b,C)};S(A,b=>{t(I)==="session"?b(g):b($,!1)},!0)}v(h,m)};S(p,h=>{t(I)==="none"?h(f):h(N,!1)},!0)}v(i,u)};S(Ft,i=>{t(I)==="bearer"?i(Kt):i(Xt,!1)})}a(ft),a(Ke),a(dt),a(Qe);var Mt=n(Qe,2);{var At=i=>{var u=Za(),p=r(u),f=r(p),N=r(f,!0);a(f);var h=n(f,2),m=r(h);{let A=Oe(()=>(e(),l(()=>e().t(`Enter additional headers in JSON format (e.g. {{'{{"X-Custom-Header": "value"}}'}})`))));Re(m,{get content(){return t(A)},children:(g,$)=>{{let b=Oe(()=>(e(),l(()=>e().t("Enter additional headers in JSON format"))));Oa(g,{className:"w-full text-sm outline-hidden",get placeholder(){return t(b)},required:!1,minSize:30,get value(){return t(F)},set value(C){o(F,C)},$$legacy:!0})}},$$slots:{default:!0}})}a(h),a(p),a(u),x(A=>{M(f,1,(s(),l(()=>{var g;return`mb-0.5 text-xs text-gray-500
								${((g=s())==null?void 0:g.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(N,A)},[()=>(e(),l(()=>e().t("Headers")))]),v(i,u)};S(Mt,i=>{!me()&&!ge()&&i(At)})}var Ze=n(Mt,2),Ye=r(Ze),xt=r(Ye),et=r(xt,!0);a(xt);var Lt=n(xt,2),tt=r(Lt);{let i=Oe(()=>(e(),l(()=>e().t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"))));Re(tt,{get content(){return t(i)},children:(u,p)=>{var f=Ya();We(f),x(N=>{M(f,1,(s(),l(()=>{var h;return`w-full text-sm bg-transparent ${((h=s())==null?void 0:h.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(f,"placeholder",N)},[()=>(e(),l(()=>e().t("Prefix ID")))]),Je(f,()=>t(D),N=>o(D,N)),v(u,f)},$$slots:{default:!0}})}a(Lt),a(Ye),a(Ze);var Ht=n(Ze,2);{var Zt=i=>{var u=Ga(),p=r(u),f=r(p,!0);a(p);var N=n(p,2),h=r(N),m=r(h,!0);a(h),a(N),a(u),x((A,g)=>{M(p,1,(s(),l(()=>{var $;return`mb-0.5 text-xs text-gray-500
								${(($=s())==null?void 0:$.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(f,A),d(m,g)},[()=>(e(),l(()=>e().t("Provider Type"))),()=>(t(Q),e(),l(()=>t(Q)?e().t("Azure OpenAI"):e().t("OpenAI")))]),pe("click",h,()=>{o(Q,!t(Q))}),v(i,u)};S(Ht,i=>{!me()&&!ge()&&i(Zt)})}var qt=n(Ht,2);{var Tt=i=>{var u=Qa(),p=r(u),f=r(p),N=r(f,!0);a(f);var h=n(f,2),m=r(h);We(m),a(h),a(p),a(u),x((A,g)=>{M(f,1,(s(),l(()=>{var $;return`mb-0.5 text-xs text-gray-500
								${(($=s())==null?void 0:$.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(N,A),M(m,1,(s(),l(()=>{var $;return`w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 ${(($=s())==null?void 0:$.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(m,"placeholder",g)},[()=>(e(),l(()=>e().t("API Version"))),()=>(e(),l(()=>e().t("API Version")))]),Je(m,()=>t(ne),A=>o(ne,A)),v(i,u)};S(qt,i=>{t(Q)&&i(Tt)})}var St=n(qt,2),Ot=r(St),Nt=r(Ot),Yt=r(Nt,!0);a(Nt),a(Ot);var Gt=n(Ot,2);{var Et=i=>{var u=tr();wa(u,5,()=>t(ie),$a,(p,f,N,h)=>{var m=er(),A=r(m),g=r(A,!0);a(A);var $=n(A,2),b=r($),C=r(b);qa(C,{strokeWidth:"2",className:"size-3.5"}),a(b),a($),a(m),x(k=>{d(g,t(f)),fe(b,"aria-label",k)},[()=>(e(),t(f),l(()=>e().t("Remove {{MODELID}} from list.",{MODELID:t(f)})))]),pe("click",b,()=>{o(ie,t(ie).filter((k,Z)=>Z!==N))}),v(p,m)}),a(u),v(i,u)},Qt=i=>{var u=ar(),p=r(u);{var f=h=>{var m=ze();x(A=>d(m,A),[()=>(e(),t(B),l(()=>e().t('Leave empty to include all models from "{{url}}/api/tags" endpoint',{url:t(B)})))]),v(h,m)},N=h=>{var m=De(),A=ye(m);{var g=b=>{var C=ze();x(k=>d(C,k),[()=>(e(),l(()=>e().t("Deployment names are required for Azure OpenAI")))]),v(b,C)},$=b=>{var C=ze();x(k=>d(C,k),[()=>(e(),t(B),l(()=>e().t('Leave empty to include all models from "{{url}}/models" endpoint',{url:t(B)})))]),v(b,C)};S(A,b=>{t(Q)?b(g):b($,!1)},!0)}v(h,m)};S(p,h=>{me()?h(f):h(N,!1)})}a(u),x(()=>M(u,1,(s(),l(()=>{var h;return`text-gray-500 text-xs text-center py-2 px-10
								${((h=s())==null?void 0:h.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`})))),v(i,u)};S(Gt,i=>{t(ie),l(()=>t(ie).length>0)?i(Et):i(Qt,!1)})}a(St);var Pt=n(St,2),pt=r(Pt),Wt=r(pt,!0);a(pt);var at=n(pt,2);We(at);var rt=n(at,2),lt=r(rt),ea=r(lt);Aa(ea,{className:"size-3.5",strokeWidth:"2"}),a(lt),a(rt),a(Pt),a(Ve);var jt=n(Ve,2),c=r(jt),_=r(c),O=r(_,!0);a(_);var T=n(_,2),ae=r(T);Sa(ae,{get tags(){return t(K)},set tags(i){o(K,i)},$$events:{add:i=>{o(K,[...t(K),{name:i.detail}])},delete:i=>{o(K,t(K).filter(u=>u.name!==i.detail))}},$$legacy:!0}),a(T),a(c),a(jt);var X=n(jt,2),W=r(X);{var H=i=>{var u=rr(),p=r(u,!0);a(u),x(f=>d(p,f),[()=>(e(),l(()=>e().t("Delete")))]),pe("click",u,()=>{ue()(),Pe(!1)}),v(i,u)};S(W,i=>{ke()&&i(H)})}var J=n(W,2),E=r(J),y=n(E);{var se=i=>{var u=lr(),p=r(u);ha(p,{}),a(u),v(i,u)};S(y,i=>{t(de)&&i(se)})}a(J),a(X),a(je),a(He),a(Ue),a(z),x((i,u,p,f,N,h,m,A,g,$,b,C,k,Z)=>{fe(Ae,"aria-label",i),M(Ge,1,(s(),l(()=>{var P;return`mb-0.5 text-xs text-gray-500
								${((P=s())==null?void 0:P.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(It,u),M(Fe,1,(s(),l(()=>{var P;return`w-full text-sm bg-transparent ${((P=s())==null?void 0:P.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(Fe,"placeholder",p),d(wt,f),M(vt,1,(s(),l(()=>{var P;return`text-xs ${((P=s())==null?void 0:P.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(Jt,N),M(ut,1,(s(),l(()=>{var P;return`w-full text-sm bg-transparent pr-5 ${((P=s())==null?void 0:P.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),d(Bt,h),d(Rt,m),M(xt,1,(s(),l(()=>{var P;return`mb-0.5 text-xs text-gray-500
								${((P=s())==null?void 0:P.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(et,A),M(Nt,1,(s(),l(()=>{var P;return`mb-0.5 text-xs text-gray-500
								${((P=s())==null?void 0:P.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(Yt,g),d(Wt,$),M(at,1,`w-full py-1 text-sm rounded-lg bg-transparent ${t(xe)?"":"text-gray-500"} ${s(),l(()=>{var P;return((P=s())==null?void 0:P.highContrastMode)??!1?"dark:placeholder:text-gray-100 placeholder:text-gray-700":"placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"})??""}`),fe(at,"placeholder",b),fe(lt,"aria-label",C),M(_,1,(s(),l(()=>{var P;return`mb-0.5 text-xs text-gray-500
								${((P=s())==null?void 0:P.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),d(O,k),M(J,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${t(de)?" cursor-not-allowed":""}`),J.disabled=t(de),d(E,`${Z??""} `)},[()=>(e(),l(()=>e().t("Close modal"))),()=>(e(),l(()=>e().t("URL"))),()=>(e(),l(()=>e().t("API Base URL"))),()=>(e(),l(()=>e().t("Toggle whether current connection is active."))),()=>(e(),l(()=>e().t("Auth"))),()=>(e(),l(()=>e().t("None"))),()=>(e(),l(()=>e().t("Bearer"))),()=>(e(),l(()=>e().t("Prefix ID"))),()=>(e(),l(()=>e().t("Model IDs"))),()=>(e(),l(()=>e().t("Add a model ID"))),()=>(e(),l(()=>e().t("Add a model ID"))),()=>(e(),l(()=>e().t("Add"))),()=>(e(),l(()=>e().t("Tags"))),()=>(e(),l(()=>e().t("Save")))]),pe("click",Ae,()=>{Pe(!1)}),Je(Fe,()=>t(B),i=>o(B,i)),ra(ut,()=>t(I),i=>o(I,i)),Je(at,()=>t(xe),i=>o(xe,i)),pe("click",lt,()=>{Le()}),pe("submit",je,i=>{i.preventDefault(),yt()}),v(te,z)},$$slots:{default:!0},$$legacy:!0}),sa(),gt()}var ir=w(' <span class="text-gray-500"> </span>',1),sr=w('<div class="flex gap-2 mb-1.5"><div class="flex w-full justify-between items-center"><div class=" text-xs text-gray-500"> </div> <div><button type="button" class=" text-xs text-gray-700 dark:text-gray-300"><!></button></div></div></div>'),nr=w('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4" aria-hidden="true"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button>'),dr=w('<div class="flex-1 flex items-center"><label for="url-or-path" class="sr-only"> </label> <input type="text" id="url-or-path" autocomplete="off" required/></div>'),vr=w('<div><label for="url-or-path" class="sr-only"> </label> <textarea autocomplete="off" required rows="5"></textarea></div>'),cr=w("<div> </div>"),ur=w('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><div class="flex justify-between items-center mb-0.5"><div class="flex gap-2 items-center"><div for="select-bearer-or-session"> </div></div></div> <div class="flex gap-2"><div class="flex-shrink-0 self-start"><select id="select-bearer-or-session"><option> </option><option> </option></select></div> <div class="flex flex-1 items-center"><!></div></div> <!></div></div>'),fr=w('<button class=" text-xs underline dark:text-gray-500 dark:hover:text-gray-200 text-gray-700 hover:text-gray-900 transition" type="button"> </button>'),xr=w('<div class="text-xs font-medium px-1.5 rounded-md bg-yellow-500/20 text-yellow-700 dark:text-yellow-200"> </div>'),pr=w('<div class="text-xs font-medium px-1.5 rounded-md bg-green-500/20 text-green-700 dark:text-green-200"> </div>'),gr=w('<div class="flex items-center gap-2"><div class="flex flex-col justify-end items-center shrink-0"><!></div> <!></div>'),_r=w("<option> </option>"),hr=w("<option> </option> <!>",1),yr=w("<div> </div>"),mr=w("<div> </div>"),br=w("<div> </div>"),kr=w("<div> </div>"),wr=w('<span class="text-xs text-gray-200 dark:text-gray-800 ml-0.5"> </span>'),$r=w('<hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="flex gap-2"><div class="flex flex-col w-full"><label for="enter-id"> <!></label> <div class="flex-1"><input id="enter-id" type="text" autocomplete="off"/></div></div></div> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="enter-name"> </label> <div class="flex-1"><input id="enter-name" type="text" autocomplete="off" required/></div></div></div> <div class="flex flex-col w-full mt-2"><label for="description"> </label> <div class="flex-1"><input id="description" type="text" autocomplete="off"/></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="my-2 -mx-2"><div class="px-4 py-3 bg-gray-50 dark:bg-gray-950 rounded-3xl"><!></div></div>',1),Cr=w('<div class=" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-2xl text-xs px-4 py-3 mb-2"><span class="font-medium"> </span> <a class="font-medium underline" href="https://docs.openwebui.com/features/mcp" target="_blank"> </a></div>'),Mr=w('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),Ar=w('<div class="ml-2 self-center"><!></div>'),Sr=w('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><h1 class=" text-lg font-medium self-center font-primary"><!></h1> <div class="flex items-center gap-3"><div class="flex gap-1.5 text-xs justify-end"><button class=" hover:underline" type="button"> </button> <button class=" hover:underline" type="button"> </button></div> <button class="self-center"><!></button></div></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><input type="file" hidden="" accept=".json"/> <form class="flex flex-col w-full"><div class="px-1"><!> <div class="flex gap-2"><div class="flex flex-col w-full"><div class="flex justify-between mb-0.5"><label for="api-base-url"> </label></div> <div class="flex flex-1 items-center"><input id="api-base-url" type="text" autocomplete="off" required/> <!> <!></div></div></div> <!> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><div class="flex justify-between items-center"><div class="flex gap-2 items-center"><div for="select-bearer-or-session"> </div></div> <!></div> <div class="flex gap-2"><div class="flex-shrink-0 self-start"><select id="select-bearer-or-session"><option> </option><option> </option><option> </option><!></select></div> <div class="flex flex-1 items-center"><!></div></div></div></div> <!></div> <!> <div class="flex justify-between pt-3 text-sm font-medium gap-1.5"><div></div> <div class="flex gap-1.5"><!> <button type="submit"> <!></button></div></div></form></div></div></div>');function Or(Ne,q){oa(q,!1);const e=()=>Dt(ht,"$i18n",ce),s=()=>Dt(xa,"$settings",ce),[ce,gt]=va(),{saveAs:_t}=ja,ht=ia("i18n");let ue=oe(q,"onSubmit",8,()=>{}),Pe=oe(q,"onDelete",8,()=>{}),ke=oe(q,"show",12,!1),me=oe(q,"edit",8,!1),ge=oe(q,"direct",8,!1),R=oe(q,"connection",8,null),B=U(null),L=U("openapi"),I=U(""),ee=U("url"),Q=U(""),D=U("openapi.json"),G=U("bearer"),ne=U(""),F=U({}),K=U(""),xe=U(""),ie=U(""),de=U(null),re=U(!0),V=U(!1);const Me=async()=>{if(t(I)===""){Y.error(e().t("Please enter a valid URL"));return}if(t(K)===""){Y.error(e().t("Please enter a valid ID"));return}const z=await za(localStorage.token,{url:t(I),client_id:t(K)},"mcp").catch(ve=>(Y.error(e().t("Registration failed")),null));z&&(Y.warning(e().t("Please save the connection to persist the OAuth client information and do not change the ID")),Y.success(e().t("Registration successful")),o(de,(z==null?void 0:z.oauth_client_info)??null))},Le=async()=>{if(t(I)===""){Y.error(e().t("Please enter a valid URL"));return}if(["openapi",""].includes(t(L))){if(t(ee)==="json"&&t(Q)===""){Y.error(e().t("Please enter a valid JSON spec"));return}if(t(ee)==="url"&&t(D)===""){Y.error(e().t("Please enter a valid path"));return}}if(ge()){const z=await Da(t(G)==="bearer"?t(ne):localStorage.token,t(D).includes("://")?t(D):`${t(I)}${t(D).startsWith("/")?"":"/"}${t(D)}`).catch(ve=>{Y.error(e().t("Connection failed"))});z&&Y.success(e().t("Connection successful"))}else{const z=await Ia(localStorage.token,{url:t(I),path:t(D),type:t(L),auth_type:t(G),key:t(ne),config:{enable:t(re),access_control:t(F)},info:{id:t(K),name:t(xe),description:t(ie)}}).catch(ve=>{Y.error(e().t("Connection failed"))});z&&Y.success(e().t("Connection successful"))}},yt=async z=>{const ve=z.target.files[0];if(!ve)return;const be=new FileReader;be.onload=Ce=>{const we=Ce.target.result;try{let j=JSON.parse(we);if(Array.isArray(j)){if(j.length===0){Y.error(e().t("Please select a valid JSON file"));return}j=j[0]}j.type&&o(L,j.type),j.url&&o(I,j.url),j.spec_type&&o(ee,j.spec_type),j.spec&&o(Q,j.spec),j.path&&o(D,j.path),j.auth_type&&o(G,j.auth_type),j.key&&o(ne,j.key),j.info&&(o(K,j.info.id??""),o(xe,j.info.name??""),o(ie,j.info.description??"")),j.config&&(o(re,j.config.enable??!0),o(F,j.config.access_control??{})),Y.success(e().t("Import successful"))}catch{Y.error(e().t("Please select a valid JSON file"))}},be.readAsText(ve)},Ie=async()=>{const z=JSON.stringify([{type:t(L),url:t(I),spec_type:t(ee),spec:t(Q),path:t(D),auth_type:t(G),key:t(ne),info:{id:t(K),name:t(xe),description:t(ie)}}]),ve=new Blob([z],{type:"application/json"});_t(ve,`tool-server-${t(K)||t(xe)||"export"}.json`)},te=async()=>{if(o(V,!0),o(I,t(I).replace(/\/$/,"")),t(K).includes(":")||t(K).includes("|")){Y.error(e().t('ID cannot contain ":" or "|" characters')),o(V,!1);return}if(t(L)==="mcp"&&t(G)==="oauth_2.1"&&!t(de)){Y.error(e().t("Please register the OAuth client")),o(V,!1);return}if(t(ee)==="json")try{const ve=JSON.parse(t(Q));o(Q,JSON.stringify(ve,null,2))}catch{Y.error(e().t("Please enter a valid JSON spec")),o(V,!1);return}const z={type:t(L),url:t(I),spec_type:t(ee),spec:t(Q),path:t(D),auth_type:t(G),key:t(ne),config:{enable:t(re),access_control:t(F)},info:{id:t(K),name:t(xe),description:t(ie),...t(de)?{oauth_client_info:t(de)}:{}}};await ue()(z),o(V,!1),ke(!1),o(L,"openapi"),o(I,""),o(ee,"url"),o(Q,""),o(D,"openapi.json"),o(ne,""),o(G,"bearer"),o(K,""),o(xe,""),o(ie,""),o(de,null),o(re,!0),o(F,null)},_e=()=>{var z,ve,be,Ce,we,j,Ae,ot,Ue,He,je,Ve;R()&&(o(L,((z=R())==null?void 0:z.type)??"openapi"),o(I,R().url),o(ee,((ve=R())==null?void 0:ve.spec_type)??"url"),o(Q,((be=R())==null?void 0:be.spec)??""),o(D,((Ce=R())==null?void 0:Ce.path)??"openapi.json"),o(G,((we=R())==null?void 0:we.auth_type)??"bearer"),o(ne,((j=R())==null?void 0:j.key)??""),o(K,((Ae=R().info)==null?void 0:Ae.id)??""),o(xe,((ot=R().info)==null?void 0:ot.name)??""),o(ie,((Ue=R().info)==null?void 0:Ue.description)??""),o(de,((He=R().info)==null?void 0:He.oauth_client_info)??null),o(re,((je=R().config)==null?void 0:je.enable)??!0),o(F,((Ve=R().config)==null?void 0:Ve.access_control)??null))};ua(()=>{_e()}),ta(()=>Ee(ke()),()=>{ke()&&_e()}),fa(),da(),pa(Ne,{size:"sm",get show(){return ke()},set show(z){ke(z)},children:(z,ve)=>{var be=Sr(),Ce=r(be),we=r(Ce),j=r(we);{var Ae=c=>{var _=ze();x(O=>d(_,O),[()=>(e(),l(()=>e().t("Edit Connection")))]),v(c,_)},ot=c=>{var _=ze();x(O=>d(_,O),[()=>(e(),l(()=>e().t("Add Connection")))]),v(c,_)};S(j,c=>{me()?c(Ae):c(ot,!1)})}a(we);var Ue=n(we,2),He=r(Ue),je=r(He),Ve=r(je,!0);a(je);var it=n(je,2),Vt=r(it,!0);a(it),a(He);var Be=n(He,2),mt=r(Be);ya(mt,{className:"size-5"}),a(Be),a(Ue),a(Ce);var Ge=n(Ce,2),It=r(Ge),st=r(It);Pa(st,c=>o(B,c),()=>t(B));var Fe=n(st,2),nt=r(Fe),bt=r(nt);{var kt=c=>{var _=sr(),O=r(_),T=r(O),ae=r(T,!0);a(T);var X=n(T,2),W=r(X),H=r(W);{var J=y=>{var se=ze();x(i=>d(se,i),[()=>(e(),l(()=>e().t("OpenAPI")))]),v(y,se)},E=y=>{var se=De(),i=ye(se);{var u=p=>{var f=ir(),N=ye(f),h=n(N),m=r(h,!0);a(h),x((A,g)=>{d(N,`${A??""} `),d(m,g)},[()=>(e(),l(()=>e().t("MCP"))),()=>(e(),l(()=>e().t("Streamable HTTP")))]),v(p,f)};S(i,p=>{t(L)==="mcp"&&p(u)},!0)}v(y,se)};S(H,y=>{t(L),l(()=>["","openapi"].includes(t(L)))?y(J):y(E,!1)})}a(W),a(X),a(O),a(_),x(y=>d(ae,y),[()=>(e(),l(()=>e().t("Type")))]),pe("click",W,()=>{o(L,["","openapi"].includes(t(L))?"mcp":"openapi")}),v(c,_)};S(bt,c=>{ge()||c(kt)})}var wt=n(bt,2),zt=r(wt),Qe=r(zt),dt=r(Qe),vt=r(dt,!0);a(dt),a(Qe);var Jt=n(Qe,2),Ke=r(Jt);We(Ke);var ct=n(Ke,2);{let c=Oe(()=>(e(),l(()=>e().t("Verify Connection"))));Re(ct,{get content(){return t(c)},className:"shrink-0 flex items-center mr-1",children:(_,O)=>{var T=nr();x(ae=>fe(T,"aria-label",ae),[()=>(e(),l(()=>e().t("Verify Connection")))]),pe("click",T,()=>{Le()}),v(_,T)},$$slots:{default:!0}})}var ut=n(ct,2);{let c=Oe(()=>(t(re),e(),l(()=>t(re)?e().t("Enabled"):e().t("Disabled"))));Re(ut,{get content(){return t(c)},children:(_,O)=>{_a(_,{get state(){return t(re)},set state(T){o(re,T)},$$legacy:!0})},$$slots:{default:!0}})}a(Jt),a(zt),a(wt);var Xe=n(wt,2);{var Bt=c=>{var _=ur(),O=r(_),T=r(O),ae=r(T),X=r(ae),W=r(X,!0);a(X),a(ae),a(T);var H=n(T,2),J=r(H),E=r(J);x(()=>{t(ee),aa(()=>{s(),e()})});var y=r(E),se=r(y,!0);a(y),y.value=y.__value="url";var i=n(y),u=r(i,!0);a(i),i.value=i.__value="json",a(E),a(J);var p=n(J,2),f=r(p);{var N=g=>{var $=dr(),b=r($),C=r(b,!0);a(b);var k=n(b,2);We(k),a($),x((Z,P)=>{d(C,Z),M(k,1,(s(),l(()=>{var he;return`w-full text-sm bg-transparent ${((he=s())==null?void 0:he.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(k,"placeholder",P)},[()=>(e(),l(()=>e().t("openapi.json URL or Path"))),()=>(e(),l(()=>e().t("openapi.json URL or Path")))]),Je(k,()=>t(D),Z=>o(D,Z)),v(g,$)},h=g=>{var $=De(),b=ye($);{var C=k=>{var Z=vr(),P=r(Z),he=r(P,!0);a(P);var $e=n(P,2);ka($e),a(Z),x((Te,le)=>{M(Z,1,(s(),l(()=>{var Se;return`text-xs w-full self-center translate-y-[1px] ${((Se=s())==null?void 0:Se.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(he,Te),M($e,1,(s(),l(()=>{var Se;return`w-full text-sm bg-transparent ${((Se=s())==null?void 0:Se.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-black dark:text-white"}`}))),fe($e,"placeholder",le)},[()=>(e(),l(()=>e().t("JSON Spec"))),()=>(e(),l(()=>e().t("JSON Spec")))]),Je($e,()=>t(Q),Te=>o(Q,Te)),v(k,Z)};S(b,k=>{t(ee)==="json"&&k(C)},!0)}v(g,$)};S(f,g=>{t(ee)==="url"?g(N):g(h,!1)})}a(p),a(H);var m=n(H,2);{var A=g=>{var $=cr(),b=r($,!0);a($),x(C=>{M($,1,(s(),l(()=>{var k;return`text-xs mt-1 ${((k=s())==null?void 0:k.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(b,C)},[()=>(e(),t(D),t(I),l(()=>e().t('WebUI will make requests to "{{url}}"',{url:t(D).includes("://")?t(D):`${t(I)}${t(D).startsWith("/")?"":"/"}${t(D)}`})))]),v(g,$)};S(m,g=>{t(ee),l(()=>["","url"].includes(t(ee)))&&g(A)})}a(O),a(_),x((g,$,b)=>{M(X,1,(s(),l(()=>{var C;return`text-xs ${((C=s())==null?void 0:C.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(W,g),M(E,1,(s(),l(()=>{var C;return`w-full text-sm bg-transparent pr-5 ${((C=s())==null?void 0:C.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),d(se,$),d(u,b)},[()=>(e(),l(()=>e().t("OpenAPI Spec"))),()=>(e(),l(()=>e().t("URL"))),()=>(e(),l(()=>e().t("JSON")))]),ra(E,()=>t(ee),g=>o(ee,g)),v(c,_)};S(Xe,c=>{t(L),l(()=>["","openapi"].includes(t(L)))&&c(Bt)})}var qe=n(Xe,2),Rt=r(qe),$t=r(Rt),Ct=r($t),ft=r(Ct),Ft=r(ft,!0);a(ft),a(Ct);var Kt=n(Ct,2);{var Xt=c=>{var _=gr(),O=r(_),T=r(O);{let H=Oe(()=>(t(de),e(),l(()=>t(de)?e().t("Register Again"):e().t("Register Client"))));Re(T,{get content(){return t(H)},children:(J,E)=>{var y=fr(),se=r(y,!0);a(y),x(i=>d(se,i),[()=>(e(),l(()=>e().t("Register Client")))]),pe("click",y,()=>{Me()}),v(J,y)},$$slots:{default:!0}})}a(O);var ae=n(O,2);{var X=H=>{var J=xr(),E=r(J,!0);a(J),x(y=>d(E,y),[()=>(e(),l(()=>e().t("Not Registered")))]),v(H,J)},W=H=>{var J=pr(),E=r(J,!0);a(J),x(y=>d(E,y),[()=>(e(),l(()=>e().t("Registered")))]),v(H,J)};S(ae,H=>{t(de)?H(W,!1):H(X)})}a(_),v(c,_)};S(Kt,c=>{t(G)==="oauth_2.1"&&c(Xt)})}a($t);var Mt=n($t,2),At=r(Mt),Ze=r(At);x(()=>{t(G),aa(()=>{s(),e(),ge(),t(L)})});var Ye=r(Ze),xt=r(Ye,!0);a(Ye),Ye.value=Ye.__value="none";var et=n(Ye),Lt=r(et,!0);a(et),et.value=et.__value="bearer";var tt=n(et),Ht=r(tt,!0);a(tt),tt.value=tt.__value="session";var Zt=n(tt);{var qt=c=>{var _=hr(),O=ye(_),T=r(O,!0);a(O),O.value=O.__value="system_oauth";var ae=n(O,2);{var X=W=>{var H=_r(),J=r(H,!0);a(H),H.value=H.__value="oauth_2.1",x(E=>d(J,E),[()=>(e(),l(()=>e().t("OAuth 2.1")))]),v(W,H)};S(ae,W=>{t(L)==="mcp"&&W(X)})}x(W=>d(T,W),[()=>(e(),l(()=>e().t("OAuth")))]),v(c,_)};S(Zt,c=>{ge()||c(qt)})}a(Ze),a(At);var Tt=n(At,2),St=r(Tt);{var Ot=c=>{{let _=Oe(()=>(e(),l(()=>e().t("API Key"))));ga(c,{get placeholder(){return t(_)},required:!1,get value(){return t(ne)},set value(O){o(ne,O)},$$legacy:!0})}},Nt=c=>{var _=De(),O=ye(_);{var T=X=>{var W=yr(),H=r(W,!0);a(W),x(J=>{M(W,1,(s(),l(()=>{var E;return`text-xs self-center translate-y-[1px] ${((E=s())==null?void 0:E.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(H,J)},[()=>(e(),l(()=>e().t("No authentication")))]),v(X,W)},ae=X=>{var W=De(),H=ye(W);{var J=y=>{var se=mr(),i=r(se,!0);a(se),x(u=>{M(se,1,(s(),l(()=>{var p;return`text-xs self-center translate-y-[1px] ${((p=s())==null?void 0:p.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(i,u)},[()=>(e(),l(()=>e().t("Forwards system user session credentials to authenticate")))]),v(y,se)},E=y=>{var se=De(),i=ye(se);{var u=f=>{var N=br(),h=r(N,!0);a(N),x(m=>{M(N,1,(s(),l(()=>{var A;return`text-xs self-center translate-y-[1px] ${((A=s())==null?void 0:A.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(h,m)},[()=>(e(),l(()=>e().t("Forwards system user OAuth access token to authenticate")))]),v(f,N)},p=f=>{var N=De(),h=ye(N);{var m=A=>{var g=kr(),$=r(g,!0);a(g),x(b=>{M(g,1,(s(),l(()=>{var C;return`flex items-center text-xs self-center translate-y-[1px] ${((C=s())==null?void 0:C.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d($,b)},[()=>(e(),l(()=>e().t("Uses OAuth 2.1 Dynamic Client Registration")))]),v(A,g)};S(h,A=>{t(G)==="oauth_2.1"&&A(m)},!0)}v(f,N)};S(i,f=>{t(G)==="system_oauth"?f(u):f(p,!1)},!0)}v(y,se)};S(H,y=>{t(G)==="session"?y(J):y(E,!1)},!0)}v(X,W)};S(O,X=>{t(G)==="none"?X(T):X(ae,!1)},!0)}v(c,_)};S(St,c=>{t(G)==="bearer"?c(Ot):c(Nt,!1)})}a(Tt),a(Mt),a(Rt),a(qe);var Yt=n(qe,2);{var Gt=c=>{var _=$r(),O=n(ye(_),2),T=r(O),ae=r(T),X=r(ae),W=n(X);{var H=k=>{var Z=wr(),P=r(Z,!0);a(Z),x(he=>d(P,he),[()=>(e(),l(()=>e().t("Optional")))]),v(k,Z)};S(W,k=>{t(L)!=="mcp"&&k(H)})}a(ae);var J=n(ae,2),E=r(J);We(E),a(J),a(T),a(O);var y=n(O,2),se=r(y),i=r(se),u=r(i,!0);a(i);var p=n(i,2),f=r(p);We(f),a(p),a(se),a(y);var N=n(y,2),h=r(N),m=r(h,!0);a(h);var A=n(h,2),g=r(A);We(g),a(A),a(N);var $=n(N,4),b=r($),C=r(b);Ja(C,{get accessControl(){return t(F)},set accessControl(k){o(F,k)},$$legacy:!0}),a(b),a($),x((k,Z,P,he,$e,Te)=>{M(ae,1,(s(),l(()=>{var le;return`mb-0.5 text-xs ${((le=s())==null?void 0:le.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(X,`${k??""} `),M(E,1,(s(),l(()=>{var le;return`w-full text-sm bg-transparent ${((le=s())==null?void 0:le.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(E,"placeholder",Z),E.required=t(L)==="mcp",M(i,1,(s(),l(()=>{var le;return`mb-0.5 text-xs ${((le=s())==null?void 0:le.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(u,P),M(f,1,(s(),l(()=>{var le;return`w-full text-sm bg-transparent ${((le=s())==null?void 0:le.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(f,"placeholder",he),M(h,1,(s(),l(()=>{var le;return`mb-1 text-xs ${((le=s())==null?void 0:le.highContrastMode)??!1?"text-gray-800 dark:text-gray-100 placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-gray-500"}`}))),d(m,$e),M(g,1,(s(),l(()=>{var le;return`w-full text-sm bg-transparent ${((le=s())==null?void 0:le.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(g,"placeholder",Te)},[()=>(e(),l(()=>e().t("ID"))),()=>(e(),l(()=>e().t("Enter ID"))),()=>(e(),l(()=>e().t("Name"))),()=>(e(),l(()=>e().t("Enter name"))),()=>(e(),l(()=>e().t("Description"))),()=>(e(),l(()=>e().t("Enter description")))]),Je(E,()=>t(K),k=>o(K,k)),Je(f,()=>t(xe),k=>o(xe,k)),Je(g,()=>t(ie),k=>o(ie,k)),v(c,_)};S(Yt,c=>{ge()||c(Gt)})}a(nt);var Et=n(nt,2);{var Qt=c=>{var _=Cr(),O=r(_),T=r(O);a(O);var ae=n(O),X=n(ae),W=r(X,!0);a(X),a(_),x((H,J,E)=>{d(T,`${H??""}:`),d(ae,` ${J??""} `),d(W,E)},[()=>(e(),l(()=>e().t("Warning"))),()=>(e(),l(()=>e().t("MCP support is experimental and its specification changes often, which can lead to incompatibilities. OpenAPI specification support is directly maintained by the Open WebUI team, making it the more reliable option for compatibility."))),()=>(e(),l(()=>e().t("Read more â†’")))]),v(c,_)};S(Et,c=>{t(L)==="mcp"&&c(Qt)})}var Pt=n(Et,2),pt=n(r(Pt),2),Wt=r(pt);{var at=c=>{var _=Mr(),O=r(_,!0);a(_),x(T=>d(O,T),[()=>(e(),l(()=>e().t("Delete")))]),pe("click",_,()=>{Pe()(),ke(!1)}),v(c,_)};S(Wt,c=>{me()&&c(at)})}var rt=n(Wt,2),lt=r(rt),ea=n(lt);{var jt=c=>{var _=Ar(),O=r(_);ha(O,{}),a(_),v(c,_)};S(ea,c=>{t(V)&&c(jt)})}a(rt),a(pt),a(Pt),a(Fe),a(It),a(Ge),a(be),x((c,_,O,T,ae,X,W,H,J,E)=>{d(Ve,c),d(Vt,_),fe(Be,"aria-label",O),M(dt,1,(s(),l(()=>{var y;return`text-xs ${((y=s())==null?void 0:y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(vt,T),M(Ke,1,(s(),l(()=>{var y;return`w-full flex-1 text-sm bg-transparent ${((y=s())==null?void 0:y.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),fe(Ke,"placeholder",ae),M(ft,1,(s(),l(()=>{var y;return`text-xs ${((y=s())==null?void 0:y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),d(Ft,X),M(Ze,1,(s(),l(()=>{var y;return`w-full text-sm bg-transparent pr-5 ${((y=s())==null?void 0:y.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),d(xt,W),d(Lt,H),d(Ht,J),M(rt,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${t(V)?" cursor-not-allowed":""}`),rt.disabled=t(V),d(lt,`${E??""} `)},[()=>(e(),l(()=>e().t("Import"))),()=>(e(),l(()=>e().t("Export"))),()=>(e(),l(()=>e().t("Close Configure Connection Modal"))),()=>(e(),l(()=>e().t("URL"))),()=>(e(),l(()=>e().t("API Base URL"))),()=>(e(),l(()=>e().t("Auth"))),()=>(e(),l(()=>e().t("None"))),()=>(e(),l(()=>e().t("Bearer"))),()=>(e(),l(()=>e().t("Session"))),()=>(e(),l(()=>e().t("Save")))]),pe("click",je,()=>{var c;(c=t(B))==null||c.click()}),pe("click",it,Ie),pe("click",Be,()=>{ke(!1)}),pe("change",st,c=>{yt(c)}),Je(Ke,()=>t(I),c=>o(I,c)),ra(Ze,()=>t(G),c=>o(G,c)),pe("submit",Fe,c=>{c.preventDefault(),te()}),v(z,be)},$$slots:{default:!0},$$legacy:!0}),sa(),gt()}var Nr=la('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.725 2.97923 20.5061V20.5061C3.76027 21.2871 5.0266 21.2871 5.80765 20.5061L12.8787 13.435" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.0502 10.6066C9.20638 8.45358 9.37134 5.6286 11.1109 3.88909C12.8504 2.14957 16.0606 1.76777 17.8284 2.82843L14.7877 5.8691L14.5051 8.98014L17.6161 8.69753L20.6568 5.65685C21.7175 7.42462 21.3357 10.6349 19.5961 12.3744C17.8566 14.1139 15.0316 14.2789 12.8786 13.435" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Pr(Ne,q){let e=oe(q,"className",8,"w-4 h-4"),s=oe(q,"strokeWidth",8,"1.5");var ce=Nr();x(()=>{M(ce,0,na(e())),fe(ce,"stroke-width",s())}),v(Ne,ce)}var jr=w('<div class=" capitalize outline-hidden w-full bg-transparent"> <span class="text-gray-500"> </span></div>'),Dr=w("<div> </div>"),Ir=w('<div class="flex w-full"><div><!> <!></div></div>'),zr=w('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Jr=w('<!> <!> <div class="flex w-full gap-2 items-center"><!> <div class="flex gap-1"><!></div></div>',1);function fl(Ne,q){oa(q,!1);const e=()=>Dt(gt,"$i18n",s),[s,ce]=va(),gt=ia("i18n");let _t=oe(q,"onDelete",8,()=>{}),ht=oe(q,"onSubmit",8,()=>{}),ue=oe(q,"connection",12,null),Pe=oe(q,"direct",8,!1),ke=U(!1),me=U(!1);da();var ge=Jr(),R=ye(ge);Or(R,{edit:!0,get direct(){return Pe()},get connection(){return ue()},onDelete:()=>{o(me,!0)},onSubmit:D=>{ue(D),ht()(D)},get show(){return t(ke)},set show(D){o(ke,D)},$$legacy:!0});var B=n(R,2);Na(B,{get show(){return t(me)},set show(D){o(me,D)},$$events:{confirm:()=>{_t()(),o(ke,!1)}},$$legacy:!0});var L=n(B,2),I=r(L);Re(I,{className:"w-full relative",content:"",placement:"top-start",children:(D,G)=>{var ne=Ir(),F=r(ne),K=r(F);{let re=Oe(()=>(Ee(ue()),e(),l(()=>{var V;return((V=ue())==null?void 0:V.type)==="mcp"?e().t("MCP"):e().t("OpenAPI")})));Re(K,{get content(){return t(re)},children:(V,Me)=>{Pr(V,{})},$$slots:{default:!0}})}var xe=n(K,2);{var ie=re=>{var V=jr(),Me=r(V),Le=n(Me),yt=r(Le,!0);a(Le),a(V),x(()=>{d(Me,`${Ee(ue()),l(()=>{var Ie,te,_e;return((te=(Ie=ue())==null?void 0:Ie.info)==null?void 0:te.name)??((_e=ue())==null?void 0:_e.url)})??""} `),d(yt,(Ee(ue()),l(()=>{var Ie,te;return((te=(Ie=ue())==null?void 0:Ie.info)==null?void 0:te.id)??""})))}),v(re,V)},de=re=>{var V=Dr(),Me=r(V,!0);a(V),x(()=>d(Me,(Ee(ue()),l(()=>{var Le;return(Le=ue())==null?void 0:Le.url})))),v(re,V)};S(xe,re=>{Ee(ue()),l(()=>{var V,Me;return(Me=(V=ue())==null?void 0:V.info)==null?void 0:Me.name})?re(ie):re(de,!1)})}a(F),a(ne),x(()=>M(F,1,`flex-1 relative flex gap-1.5 items-center ${Ee(ue()),l(()=>{var re,V;return((V=(re=ue())==null?void 0:re.config)==null?void 0:V.enable)??!0?"":"opacity-50"})??""}`)),v(D,ne)},$$slots:{default:!0}});var ee=n(I,2),Q=r(ee);{let D=Oe(()=>(e(),l(()=>e().t("Configure"))));Re(Q,{get content(){return t(D)},className:"self-start",children:(G,ne)=>{var F=zr(),K=r(F);La(K,{}),a(F),pe("click",F,()=>{o(ke,!0)}),v(G,F)},$$slots:{default:!0}})}a(ee),a(L),v(Ne,ge),sa(),ce()}export{ul as A,La as C,qa as M,Pr as W,Or as a,fl as b};
//# sourceMappingURL=Y54I7P5u.js.map
