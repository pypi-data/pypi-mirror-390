import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as x,o as y,d as U,e as k,a as l,p as B,b as q,i as W,j as r,m as P,c as m,r as u,f as _}from"../chunks/CvTLsZlf.js";import{i as j}from"../chunks/B3D73U8p.js";import{i as C}from"../chunks/CNVL70pO.js";import{s as D,a as i}from"../chunks/DzS5ldT-.js";import{t as c}from"../chunks/Cqe-NRGo.js";import{g as M}from"../chunks/BDMvu-7n.js";import{p as Q}from"../chunks/KihEXLMb.js";import{a as v,f as z,b as H,c as A,d as G}from"../chunks/D6EOiKH3.js";import{a as J,u as K,g as L}from"../chunks/CLryTxFy.js";import{F as T}from"../chunks/DwirxTO5.js";import{S as X}from"../chunks/DD1zKOTk.js";import{g as Y}from"../chunks/U3_qXm6Y.js";import{e as Z,c as ee}from"../chunks/D38tgtmh.js";var te=_('<div class="px-[16px] h-full"><!></div>'),oe=_('<div class="flex items-center justify-center h-full"><div class=" pb-16"><!></div></div>');function Ee(E,I){q(I,!1);const p=()=>i(R,"$i18n",a),S=()=>i(A,"$config",a),$=()=>i(G,"$settings",a),h=()=>i(Q,"$page",a),[a,b]=D(),R=x("i18n");let o=P(null);const w=async e=>{var s,f,g;const t=Z(e.content);if(ee((t==null?void 0:t.required_open_webui_version)??"0.0.0",v)){c.error(p().t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:v,REQUIRED_VERSION:(t==null?void 0:t.required_open_webui_version)??"0.0.0"}));return}await K(localStorage.token,r(o).id,{id:e.id,name:e.name,meta:e.meta,content:e.content}).catch(V=>(c.error(`${V}`),null))&&(c.success(p().t("Function updated successfully")),z.set(await L(localStorage.token)),H.set(await Y(localStorage.token,((f=(s=S())==null?void 0:s.features)==null?void 0:f.enable_direct_connections)&&(((g=$())==null?void 0:g.directConnections)??null),!1,!0)))};y(async()=>{const e=h().url.searchParams.get("id");e&&(W(o,await J(localStorage.token,e).catch(t=>(c.error(`${t}`),M("/admin/functions"),null))),r(o))}),C();var d=U(),N=k(d);{var O=e=>{var t=te(),n=m(t);T(n,{edit:!0,get id(){return r(o).id},get name(){return r(o).name},get meta(){return r(o).meta},get content(){return r(o).content},onSave:s=>{w(s)}}),u(t),l(e,t)},F=e=>{var t=oe(),n=m(t),s=m(n);X(s,{className:"size-5"}),u(n),u(t),l(e,t)};j(N,e=>{r(o)?e(O):e(F,!1)})}l(E,d),B(),b()}export{Ee as component};
//# sourceMappingURL=16.D48ZU6zr.js.map
