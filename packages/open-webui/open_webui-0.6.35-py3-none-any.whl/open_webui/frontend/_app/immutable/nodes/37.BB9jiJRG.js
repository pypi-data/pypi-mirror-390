import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as _,o as h,d as v,e as $,a as b,p as k,b as y,i as s,m as p,j as a}from"../chunks/CvTLsZlf.js";import{k as P}from"../chunks/BOeiEyRi.js";import{i as N}from"../chunks/CNVL70pO.js";import{s as x,a as E}from"../chunks/DzS5ldT-.js";import{t as m}from"../chunks/Cqe-NRGo.js";import{g as J}from"../chunks/BDMvu-7n.js";import{p as M}from"../chunks/D6EOiKH3.js";import{c as O,g as R}from"../chunks/BDyp3o5e.js";import{P as j}from"../chunks/BTNUzWNw.js";function K(i,c){y(c,!1);const l=()=>E(d,"$i18n",g),[g,u]=x(),d=_("i18n");let e=p(null),r=p(!1);const f=async t=>{await O(localStorage.token,t).catch(S=>(m.error(`${S}`),null))&&(m.success(l().t("Prompt created successfully")),await M.set(await R(localStorage.token)),await J("/workspace/prompts"))};h(async()=>{if(window.addEventListener("message",async t=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(t.origin))return;const o=JSON.parse(t.data);s(r,!0),s(e,{title:o.title,command:o.command,content:o.content,access_control:null})}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.prompt){const t=JSON.parse(sessionStorage.prompt);sessionStorage.removeItem("prompt"),s(r,!0),s(e,{title:t.title,command:t.command,content:t.content,access_control:null})}}),N();var n=v(),w=$(n);P(w,()=>a(e),t=>{j(t,{get prompt(){return a(e)},onSubmit:f,get clone(){return a(r)}})}),b(i,n),k(),u()}export{K as component};
//# sourceMappingURL=37.BB9jiJRG.js.map
