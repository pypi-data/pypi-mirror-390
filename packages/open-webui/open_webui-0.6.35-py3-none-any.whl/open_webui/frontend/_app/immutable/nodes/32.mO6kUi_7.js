import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as ve,t as ne,l as E,a as F,p as ce,f as Q,b as me,k as o,c as e,j as s,i,s as m,r as a,aY as ue,m as x,n as fe}from"../chunks/CvTLsZlf.js";import{i as ge}from"../chunks/B3D73U8p.js";import{a as G,s as pe,r as xe}from"../chunks/CPzR4-ix.js";import{b as I}from"../chunks/BpTtYi1u.js";import{p as _e}from"../chunks/Bfc47y5P.js";import{i as be}from"../chunks/CNVL70pO.js";import{s as we,a as J}from"../chunks/DzS5ldT-.js";import{g as O}from"../chunks/BDMvu-7n.js";import{c as ye,g as ke}from"../chunks/BN8BTzd8.js";import{t as A}from"../chunks/Cqe-NRGo.js";import{u as he,l as $e}from"../chunks/D6EOiKH3.js";import{A as Ce}from"../chunks/VImuq4HP.js";import{S as Ke}from"../chunks/DD1zKOTk.js";var je=Q('<div class="ml-1.5 self-center"><!></div>'),Be=Q('<div class="w-full max-h-full"><button class="flex space-x-1"><div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg></div> <div class=" self-center font-medium text-sm"> </div></button> <form class="flex flex-col max-w-lg mx-auto mt-10 mb-10"><div class=" w-full flex flex-col justify-center"><div class=" text-2xl font-medium font-primary mb-2.5"> </div> <div class="w-full flex flex-col gap-2.5"><div class="w-full"><div class=" text-sm mb-2"> </div> <div class="w-full mt-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" required/></div></div> <div><div class="text-sm mb-2"> </div> <div class=" w-full mt-1"><textarea class="w-full resize-none rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" rows="4" required></textarea></div></div></div></div> <div class="mt-2"><div class="px-4 py-3 bg-gray-50 dark:bg-gray-950 rounded-3xl"><!></div></div> <div class="flex justify-end mt-2"><div><button type="submit"><div class=" self-center font-medium"> </div> <!></button></div></div></form></div>');function Se(_,T){me(T,!1);const l=()=>J(V,"$i18n",z),H=()=>J(he,"$user",z),[z,U]=we(),V=ve("i18n");let d=x(!1),n=x(""),c=x(""),b=x({});const X=async()=>{if(i(d,!0),s(n).trim()===""||s(c).trim()===""){A.error(l().t("Please fill in all fields.")),i(n,""),i(c,""),i(d,!1);return}const t=await ye(localStorage.token,s(n),s(c),s(b)).catch(r=>{A.error(`${r}`)});t&&(A.success(l().t("Knowledge created successfully.")),$e.set(await ke(localStorage.token)),O(`/workspace/knowledge/${t.id}`)),i(d,!1)};be();var w=Be(),u=e(w),D=o(e(u),2),Z=e(D,!0);a(D),a(u);var y=o(u,2),k=e(y),h=e(k),ee=e(h,!0);a(h);var N=o(h,2),$=e(N),C=e($),ae=e(C,!0);a(C);var P=o(C,2),K=e(P);xe(K),a(P),a($);var W=o($,2),j=e(W),te=e(j,!0);a(j);var L=o(j,2),B=e(L);ue(B),a(L),a(W),a(N),a(k);var S=o(k,2),M=e(S),re=e(M);{let t=fe(()=>{var r,v,g,p;return((g=(v=(r=H())==null?void 0:r.permissions)==null?void 0:v.sharing)==null?void 0:g.public_knowledge)||((p=H())==null?void 0:p.role)==="admin"});Ce(re,{accessRoles:["read","write"],get allowPublic(){return s(t)},get accessControl(){return s(b)},set accessControl(r){i(b,r)},$$legacy:!0})}a(M),a(S);var R=o(S,2),Y=e(R),f=e(Y),q=e(f),se=e(q,!0);a(q);var le=o(q,2);{var oe=t=>{var r=je(),v=e(r);Ke(v,{}),a(r),F(t,r)};ge(le,t=>{s(d)&&t(oe)})}a(f),a(Y),a(R),a(y),a(w),ne((t,r,v,g,p,ie,de)=>{m(Z,t),m(ee,r),m(ae,v),G(K,"placeholder",g),m(te,p),G(B,"placeholder",ie),pe(f,1,` text-sm px-4 py-2 transition rounded-lg ${s(d)?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800"} flex`),f.disabled=s(d),m(se,de)},[()=>l().t("Back"),()=>l().t("Create a knowledge base"),()=>l().t("What are you working on?"),()=>l().t("Name your knowledge base"),()=>l().t("What are you trying to achieve?"),()=>l().t("Describe your knowledge base and objectives"),()=>l().t("Create Knowledge")]),E("click",u,()=>{O("/workspace/knowledge")}),I(K,()=>s(n),t=>i(n,t)),I(B,()=>s(c),t=>i(c,t)),E("submit",y,_e(()=>{X()})),F(_,w),ce(),U()}function Ie(_){Se(_,{})}export{Ie as component};
//# sourceMappingURL=32.mO6kUi_7.js.map
