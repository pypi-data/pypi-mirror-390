import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{b as De,g as We,e as ye,d as Re,a as n,k as P,j as e,p as Ne,f as _,n as V,u as o,w as r,t as Z,B as dt,i as v,m as le,c as l,r as s,l as Me,s as he,A as vt,z as Xe,x as Oe,o as ut,aT as ct,q as gt,v as ft,aX as Ue,h as Ct,$ as Et}from"../chunks/CvTLsZlf.js";import{i as je}from"../chunks/CNVL70pO.js";import{s as He,a as ce}from"../chunks/DzS5ldT-.js";import{p as Lt}from"../chunks/KihEXLMb.js";import{i as D}from"../chunks/B3D73U8p.js";import{k as zt}from"../chunks/BOeiEyRi.js";import{a as Se,s as Ee,c as mt}from"../chunks/CPzR4-ix.js";import{b as _t}from"../chunks/Cz9Z7v2M.js";import{p as W}from"../chunks/DBxQAEQJ.js";import{t as Ae}from"../chunks/Cqe-NRGo.js";import{P as It,c as Je,d as Ut}from"../chunks/CbDI-1l3.js";import{g as pt}from"../chunks/BDMvu-7n.js";import{u as Ye,d as Rt,e as Ze,g as Fe,m as Dt,s as qe,k as Nt,r as ht,j as et}from"../chunks/D6EOiKH3.js";import{d as jt,u as Bt,r as At,a as Ht,g as tt,s as yt,b as rt,c as Ot}from"../chunks/BXDTal2L.js";import{e as Ge,i as at}from"../chunks/uF71e8HK.js";import{d as ne,r as bt}from"../chunks/BqAeIAOr.js";import{D as xt,E as $t,l as Wt,F as st}from"../chunks/D38tgtmh.js";import{L as Yt,a as Zt,U as Ft,M as lt,I as Vt}from"../chunks/B_VtPlnM.js";import{N as Kt,P as Xt}from"../chunks/0ozA0NkM.js";import{C as qt}from"../chunks/Ch-EHQFf.js";import{G as Gt}from"../chunks/BiTNgcEp.js";import{P as Qt}from"../chunks/B0L9ton2.js";import{T as Le}from"../chunks/k6hQMChD.js";import{T as Jt}from"../chunks/VKbJuFMC.js";import{C as er,F as tr}from"../chunks/B11fDMEM.js";import{s as rr}from"../chunks/D4SMs5q_.js";import"../chunks/CXLK5pxB.js";import{E as it}from"../chunks/D_lbVNXU.js";import{C as ar}from"../chunks/CvOMk5BN.js";import{E as sr}from"../chunks/DLFuM2SH.js";import{S as lr}from"../chunks/Cgvnmqcj.js";import{L as ir}from"../chunks/D3B17OuU.js";import{S as wt}from"../chunks/DD1zKOTk.js";import{M as kt}from"../chunks/CYOe7ttP.js";import{U as or}from"../chunks/ERVESKdh.js";import{S as nr}from"../chunks/CcqZwM1Q.js";import{D as dr}from"../chunks/ChrjiQ2X.js";import{X as vr}from"../chunks/BFL0NFeS.js";import{i as ur}from"../chunks/BlMX3asp.js";var cr=_("<!> <!>",1);function gr(ge,$){De($,!1),We("i18n");let u=W($,"user",8,null);je(),Yt(ge,{openDelay:0,closeDelay:0,children:(I,Y)=>{var ie=cr(),fe=ye(ie);Zt(fe,{class:" cursor-pointer no-underline! font-normal! ",children:(t,y)=>{var de=Re(),M=ye(de);rr(M,$,"default",{},null),n(t,de)},$$slots:{default:!0}});var be=P(fe,2);{let t=V(()=>(o(u()),r(()=>{var y;return(y=u())==null?void 0:y.id})));Ft(be,{get id(){return e(t)},side:"right",align:"center",sideOffset:8})}n(I,ie)},$$slots:{default:!0}}),Ne()}var fr=dt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"></path></svg>');function ot(ge,$){let u=W($,"className",8,"size-4"),I=W($,"strokeWidth",8,"1.5");var Y=fr();Z(()=>{Se(Y,"stroke-width",I()),Ee(Y,0,mt(u()))}),n(ge,Y)}var mr=dt('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10.25 4.75L6.75 8.25L10.25 11.75" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.75 8.25L12.75 8.25C14.9591 8.25 16.75 10.0409 16.75 12.25V19.25" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function _r(ge,$){let u=W($,"className",8,"w-4 h-4"),I=W($,"strokeWidth",8,"1.5");var Y=mr();Z(()=>{Ee(Y,0,mt(u())),Se(Y,"stroke-width",I())}),n(ge,Y)}var pr=_('<button class="hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1 svelte-s6wdik"><!></button>'),hr=_('<button class="hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-0.5 svelte-s6wdik"><!></button>'),yr=_('<button class="hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1 svelte-s6wdik"><!></button>'),br=_('<button class="hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1 svelte-s6wdik"><!></button>'),xr=_('<button class="hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1 svelte-s6wdik"><!></button>'),$r=_("<!> <!>",1),wr=_('<div><div class="flex gap-1 rounded-lg bg-white dark:bg-gray-850 shadow-md p-0.5 border border-gray-100 dark:border-gray-850 svelte-s6wdik"><!> <!> <!> <!></div></div>'),kr=_('<img class="size-4 ml-0.5 rounded-full object-cover svelte-s6wdik"/>'),Tr=_('<img class="size-4 ml-0.5 rounded-full object-cover svelte-s6wdik"/>'),Mr=_('<div class="relative text-xs mb-1 svelte-s6wdik"><div class="absolute h-3 w-7 left-[18px] top-2 rounded-tl-lg border-t-2 border-l-2 border-gray-300 dark:border-gray-500 z-0 svelte-s6wdik"></div> <button class="ml-12 flex items-center space-x-2 relative z-0 svelte-s6wdik"><!> <div class="shrink-0 svelte-s6wdik"> </div> <div class="italic text-sm text-gray-500 dark:text-gray-400 line-clamp-1 w-full flex-1 svelte-s6wdik"><!></div></button></div>'),Sr=_('<img class="size-8 translate-y-1 ml-0.5 object-cover rounded-full svelte-s6wdik"/>'),Pr=_('<div class="mt-1.5 flex shrink-0 items-center text-xs self-center invisible group-hover:visible text-gray-500 font-medium first-letter:capitalize svelte-s6wdik"><!></div>'),Cr=_('<span class="line-clamp-1 svelte-s6wdik"> </span>'),Er=_('<div class=" self-center text-xs invisible group-hover:visible text-gray-400 font-medium first-letter:capitalize ml-0.5 translate-y-[1px] svelte-s6wdik"><!></div>'),Lr=_('<div class=" self-end text-base shrink-0 font-medium truncate svelte-s6wdik"><!></div> <!>',1),zr=_('<div class="svelte-s6wdik"><!></div>'),Ir=_('<div class="my-2.5 w-full flex overflow-x-auto gap-2 flex-wrap svelte-s6wdik"></div>'),Ur=_('<div class="py-2 svelte-s6wdik"><!> <div class=" mt-2 mb-1 flex justify-end text-sm font-medium svelte-s6wdik"><div class="flex space-x-1.5 svelte-s6wdik"><button id="close-edit-message-button" class="px-3.5 py-1.5 bg-white dark:bg-gray-900 hover:bg-gray-100 text-gray-800 dark:text-gray-100 transition rounded-3xl svelte-s6wdik"> </button> <button id="confirm-edit-message-button" class="px-3.5 py-1.5 bg-gray-900 dark:bg-white hover:bg-gray-850 text-gray-100 dark:text-gray-800 transition rounded-3xl svelte-s6wdik"> </button></div></div></div>'),Rr=_('<span class="text-gray-500 text-[10px] svelte-s6wdik"> </span>'),Dr=_("<!><!>",1),Nr=_('<div class="text-xs font-medium text-gray-500 dark:text-gray-400 svelte-s6wdik"> </div>'),jr=_("<button><!> <!></button>"),Br=_('<div class="flex items-center gap-1.5 bg-gray-500/10 hover:outline hover:outline-gray-700/30 dark:hover:outline-gray-300/30 hover:outline-1 transition rounded-xl px-1 py-1 cursor-pointer text-gray-500 dark:text-gray-400 svelte-s6wdik"><!></div>'),Ar=_('<div class="svelte-s6wdik"><div class="flex items-center flex-wrap gap-y-1.5 gap-1 mt-1 mb-2 svelte-s6wdik"><!> <!></div></div>'),Hr=_('<div class="flex items-center gap-1.5 -mt-0.5 mb-1.5 svelte-s6wdik"><button class="flex items-center text-xs py-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition svelte-s6wdik"><span class="font-medium mr-1 svelte-s6wdik"> </span><span class="svelte-s6wdik"> </span> <span class="ml-1 svelte-s6wdik"><!></span></button></div>'),Or=_('<div class=" min-w-full markdown-prose svelte-s6wdik"><!></div> <!> <!>',1),Wr=_('<div><!> <!> <div><div><!></div> <div class="flex-auto w-0 pl-1 svelte-s6wdik"><!> <!> <!></div></div></div>'),Yr=_("<!> <!>",1);function Zr(ge,$){De($,!1);const u=()=>ce(be,"$i18n",ie),I=()=>ce(Ye,"$user",ie),Y=()=>ce(Rt,"$settings",ie),[ie,fe]=He();ne.extend(bt),ne.extend(xt),ne.extend($t),ne.extend(Wt);const be=We("i18n");let t=W($,"message",8),y=W($,"showUserProfile",8,!0),de=W($,"thread",8,!1),M=W($,"replyToMessage",8,!1),xe=W($,"disabled",8,!1),me=W($,"onDelete",8,()=>{}),Q=W($,"onEdit",8,()=>{}),C=W($,"onReply",8,()=>{}),F=W($,"onThread",8,()=>{}),J=W($,"onReaction",8,()=>{}),ee=le(!1),$e=le(!1),_e=le(null),K=le(!1);je();var q=Yr(),te=ye(q);{let g=V(()=>(u(),r(()=>u().t("Delete Message")))),N=V(()=>(u(),r(()=>u().t("Are you sure you want to delete this message?"))));qt(te,{get title(){return e(g)},get message(){return e(N)},onConfirm:async()=>{await me()()},get show(){return e(K)},set show(U){v(K,U)},$$legacy:!0})}var Pe=P(te,2);{var we=g=>{var N=Wr(),U=l(N);{var a=w=>{var f=wr(),b=l(f),k=l(b);it(k,{onClose:()=>v(ee,!1),onSubmit:R=>{v(ee,!1),J()(R)},children:(R,i)=>{{let d=V(()=>(u(),r(()=>u().t("Add Reaction"))));Le(R,{get content(){return e(d)},children:(m,x)=>{var ae=pr(),se=l(ae);ot(se,{}),s(ae),Me("click",ae,()=>{v(ee,!0)}),n(m,ae)},$$slots:{default:!0}})}},$$slots:{default:!0}});var B=P(k,2);{let R=V(()=>(u(),r(()=>u().t("Reply"))));Le(B,{get content(){return e(R)},children:(i,d)=>{var m=hr(),x=l(m);_r(x,{className:"size-5"}),s(m),Me("click",m,()=>{C()(t())}),n(i,m)},$$slots:{default:!0}})}var H=P(B,2);{var G=R=>{{let i=V(()=>(u(),r(()=>u().t("Reply in Thread"))));Le(R,{get content(){return e(i)},children:(d,m)=>{var x=yr(),ae=l(x);er(ae,{}),s(x),Me("click",x,()=>{F()(t().id)}),n(d,x)},$$slots:{default:!0}})}};D(H,R=>{de()||R(G)})}var ue=P(H,2);{var re=R=>{var i=$r(),d=ye(i);{let x=V(()=>(u(),r(()=>u().t("Edit"))));Le(d,{get content(){return e(x)},children:(ae,se)=>{var z=br(),pe=l(z);Qt(pe,{}),s(z),Me("click",z,()=>{v($e,!0),v(_e,t().content)}),n(ae,z)},$$slots:{default:!0}})}var m=P(d,2);{let x=V(()=>(u(),r(()=>u().t("Delete"))));Le(m,{get content(){return e(x)},children:(ae,se)=>{var z=xr(),pe=l(z);Gt(pe,{}),s(z),Me("click",z,()=>v(K,!0)),n(ae,z)},$$slots:{default:!0}})}n(R,i)};D(ue,R=>{o(t()),I(),r(()=>{var i,d;return t().user_id===((i=I())==null?void 0:i.id)||((d=I())==null?void 0:d.role)==="admin"})&&R(re)})}s(b),s(f),Z(()=>Ee(f,1,` absolute ${e(ee)?"":"invisible group-hover:visible"} right-1 -top-2 z-10`,"svelte-s6wdik")),n(w,f)};D(U,w=>{!e($e)&&!xe()&&w(a)})}var j=P(U,2);{var A=w=>{var f=Mr(),b=P(l(f),2),k=l(b);{var B=i=>{var d=kr();Z(()=>{Se(d,"src",(o(Ze),o(t()),r(()=>`${Ze}/models/model/profile/image?id=${t().reply_to_message.meta.model_id}`))),Se(d,"alt",(o(t()),r(()=>t().reply_to_message.meta.model_name??t().reply_to_message.meta.model_id)))}),n(i,d)},H=i=>{var d=Tr();Z(m=>{Se(d,"src",(o(t()),o(Fe),r(()=>{var x;return((x=t().reply_to_message.user)==null?void 0:x.profile_image_url)??`${Fe}/static/favicon.png`}))),Se(d,"alt",m)},[()=>(o(t()),u(),r(()=>{var m;return((m=t().reply_to_message.user)==null?void 0:m.name)??u().t("Unknown User")}))]),n(i,d)};D(k,i=>{o(t()),r(()=>{var d,m,x;return(x=(m=(d=t())==null?void 0:d.reply_to_message)==null?void 0:m.meta)==null?void 0:x.model_id})?i(B):i(H,!1)})}var G=P(k,2),ue=l(G,!0);s(G);var re=P(G,2),R=l(re);{let i=V(()=>(o(t()),r(()=>`${t().id}-reply-to`))),d=V(()=>(o(t()),r(()=>{var m,x;return(x=(m=t())==null?void 0:m.reply_to_message)==null?void 0:x.content})));lt(R,{get id(){return e(i)},get content(){return e(d)}})}s(re),s(b),s(f),Z(i=>he(ue,i),[()=>(o(t()),u(),r(()=>{var i,d,m,x;return((d=(i=t())==null?void 0:i.reply_to_message.meta)==null?void 0:d.model_name)??((x=(m=t())==null?void 0:m.reply_to_message.user)==null?void 0:x.name)??u().t("Unknown User")}))]),Me("click",b,()=>{const i=document.getElementById(`message-${t().reply_to_message.id}`);if(i){i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("highlight"),setTimeout(()=>{i.classList.remove("highlight")},2e3);return}}),n(w,f)};D(j,w=>{o(t()),r(()=>{var f,b;return(b=(f=t())==null?void 0:f.reply_to_message)==null?void 0:b.user})&&w(A)})}var p=P(j,2),O=l(p);Ee(O,1,"shrink-0 mr-3 w-9","svelte-s6wdik");var c=l(O);{var T=w=>{var f=Re(),b=ye(f);{var k=H=>{var G=Sr();Z(()=>{Se(G,"src",(o(Ze),o(t()),r(()=>`${Ze}/models/model/profile/image?id=${t().meta.model_id}`))),Se(G,"alt",(o(t()),r(()=>t().meta.model_name??t().meta.model_id)))}),n(H,G)},B=H=>{gr(H,{get user(){return o(t()),r(()=>t().user)},children:(G,ue)=>{{let re=V(()=>(o(t()),o(Fe),r(()=>{var R;return((R=t().user)==null?void 0:R.profile_image_url)??`${Fe}/static/favicon.png`})));Xt(G,{get src(){return e(re)},className:"size-8 ml-0.5"})}},$$slots:{default:!0}})};D(b,H=>{o(t()),r(()=>{var G,ue;return(ue=(G=t())==null?void 0:G.meta)==null?void 0:ue.model_id})?H(k):H(B,!1)})}n(w,f)},X=w=>{var f=Re(),b=ye(f);{var k=B=>{var H=Pr(),G=l(H);{let ue=V(()=>(o(ne),o(t()),r(()=>ne(t().created_at/1e6).format("LLLL"))));Le(G,{get content(){return e(ue)},children:(re,R)=>{vt();var i=Xe();Z(d=>he(i,d),[()=>(o(ne),o(t()),r(()=>ne(t().created_at/1e6).format("HH:mm")))]),n(re,i)},$$slots:{default:!0}})}s(H),n(B,H)};D(b,B=>{o(t()),r(()=>t().created_at)&&B(k)})}n(w,f)};D(c,w=>{y()?w(T):w(X,!1)})}s(O);var ve=P(O,2),oe=l(ve);{var S=w=>{Kt(w,{children:(f,b)=>{var k=Lr(),B=ye(k),H=l(B);{var G=i=>{var d=Xe();Z(()=>he(d,(o(t()),r(()=>{var m,x,ae,se;return((x=(m=t())==null?void 0:m.meta)==null?void 0:x.model_name)??((se=(ae=t())==null?void 0:ae.meta)==null?void 0:se.model_id)})))),n(i,d)},ue=i=>{var d=Xe();Z(()=>he(d,(o(t()),r(()=>{var m,x;return(x=(m=t())==null?void 0:m.user)==null?void 0:x.name})))),n(i,d)};D(H,i=>{o(t()),r(()=>{var d,m;return(m=(d=t())==null?void 0:d.meta)==null?void 0:m.model_id})?i(G):i(ue,!1)})}s(B);var re=P(B,2);{var R=i=>{var d=Er(),m=l(d);{let x=V(()=>(o(ne),o(t()),r(()=>ne(t().created_at/1e6).format("LLLL"))));Le(m,{get content(){return e(x)},children:(ae,se)=>{var z=Cr(),pe=l(z,!0);s(z),Z(ze=>he(pe,ze),[()=>(u(),o(st),o(t()),o(ne),r(()=>u().t(st(t().created_at/1e6),{LOCALIZED_TIME:ne(t().created_at/1e6).format("LT"),LOCALIZED_DATE:ne(t().created_at/1e6).format("L")})))]),n(ae,z)},$$slots:{default:!0}})}s(d),n(i,d)};D(re,i=>{o(t()),r(()=>t().created_at)&&i(R)})}n(f,k)},$$slots:{default:!0}})};D(oe,w=>{y()&&w(S)})}var h=P(oe,2);{var E=w=>{var f=Ir();Ge(f,5,()=>(o(t()),r(()=>{var b,k;return(k=(b=t())==null?void 0:b.data)==null?void 0:k.files})),at,(b,k)=>{var B=zr(),H=l(B);{var G=re=>{Vt(re,{get src(){return e(k),r(()=>e(k).url)},get alt(){return e(k),r(()=>e(k).name)},imageClassName:" max-h-96 rounded-lg"})},ue=re=>{{let R=V(()=>(e(k),r(()=>{var i;return(i=e(k))==null?void 0:i.size})));tr(re,{get item(){return e(k)},get url(){return e(k),r(()=>e(k).url)},get name(){return e(k),r(()=>e(k).name)},get type(){return e(k),r(()=>e(k).type)},get size(){return e(R)},small:!0})}};D(H,re=>{e(k),r(()=>e(k).type==="image")?re(G):re(ue,!1)})}s(B),n(b,B)}),s(f),n(w,f)};D(h,w=>{o(t()),r(()=>{var f,b;return(((b=(f=t())==null?void 0:f.data)==null?void 0:b.files)??[]).length>0})&&w(E)})}var L=P(h,2);{var ke=w=>{var f=Ur(),b=l(f);Jt(b,{className:" bg-transparent outline-hidden w-full resize-none",onKeydown:R=>{var m,x;R.key==="Escape"&&((m=document.getElementById("close-edit-message-button"))==null||m.click());const i=R.metaKey||R.ctrlKey,d=R.key==="Enter";i&&d&&((x=document.getElementById("confirm-edit-message-button"))==null||x.click())},get value(){return e(_e)},set value(R){v(_e,R)},$$legacy:!0});var k=P(b,2),B=l(k),H=l(B),G=l(H,!0);s(H);var ue=P(H,2),re=l(ue,!0);s(ue),s(B),s(k),s(f),Z((R,i)=>{he(G,R),he(re,i)},[()=>(u(),r(()=>u().t("Cancel"))),()=>(u(),r(()=>u().t("Save")))]),Me("click",H,()=>{v($e,!1),v(_e,null)}),Me("click",ue,async()=>{Q()(e(_e)),v($e,!1),v(_e,null)}),n(w,f)},Te=w=>{var f=Or(),b=ye(f),k=l(b);{var B=i=>{lr(i,{})},H=i=>{var d=Dr(),m=ye(d);lt(m,{get id(){return o(t()),r(()=>t().id)},get content(){return o(t()),r(()=>t().content)}});var x=P(m);{var ae=se=>{var z=Rr(),pe=l(z);s(z),Z(ze=>he(pe,`(${ze??""})`),[()=>(u(),r(()=>u().t("edited")))]),n(se,z)};D(x,se=>{o(t()),r(()=>{var z,pe;return t().created_at!==t().updated_at&&(((pe=(z=t())==null?void 0:z.meta)==null?void 0:pe.model_id)??null)===null})&&se(ae)})}n(i,d)};D(k,i=>{o(t()),r(()=>{var d,m,x;return(((d=t())==null?void 0:d.content)??"").trim()===""&&((x=(m=t())==null?void 0:m.meta)==null?void 0:x.model_id)})?i(B):i(H,!1)})}s(b);var G=P(b,2);{var ue=i=>{var d=Ar(),m=l(d),x=l(m);Ge(x,1,()=>(o(t()),r(()=>t().reactions)),at,(se,z)=>{{let pe=V(()=>(e(z),r(()=>`:${e(z).name}:`)));Le(se,{get content(){return e(pe)},children:(ze,Ve)=>{var Ce=jr(),Be=l(Ce);sr(Be,{get shortCode(){return e(z),r(()=>e(z).name)}});var Mt=P(Be,2);{var St=Ie=>{var Ke=Nr(),Pt=l(Ke,!0);s(Ke),Z(()=>he(Pt,(e(z),r(()=>{var Qe;return(Qe=e(z).user_ids)==null?void 0:Qe.length})))),n(Ie,Ke)};D(Mt,Ie=>{e(z),r(()=>e(z).user_ids.length>0)&&Ie(St)})}s(Ce),Z(Ie=>Ee(Ce,1,`flex items-center gap-1.5 transition rounded-xl px-2 py-1 cursor-pointer ${Ie??""}`,"svelte-s6wdik"),[()=>(e(z),I(),r(()=>{var Ie;return e(z).user_ids.includes((Ie=I())==null?void 0:Ie.id)?" bg-blue-300/10 outline outline-blue-500/50 outline-1":"bg-gray-300/10 dark:bg-gray-500/10 hover:outline hover:outline-gray-700/30 dark:hover:outline-gray-300/30 hover:outline-1"}))]),Me("click",Ce,()=>{J()(e(z).name)}),n(ze,Ce)},$$slots:{default:!0}})}});var ae=P(x,2);it(ae,{onSubmit:se=>{J()(se)},children:(se,z)=>{{let pe=V(()=>(u(),r(()=>u().t("Add Reaction"))));Le(se,{get content(){return e(pe)},children:(ze,Ve)=>{var Ce=Br(),Be=l(Ce);ot(Be,{}),s(Ce),n(ze,Ce)},$$slots:{default:!0}})}},$$slots:{default:!0}}),s(m),s(d),n(i,d)};D(G,i=>{o(t()),r(()=>{var d;return(((d=t())==null?void 0:d.reactions)??[]).length>0})&&i(ue)})}var re=P(G,2);{var R=i=>{var d=Hr(),m=l(d),x=l(m),ae=l(x,!0);s(x);var se=P(x),z=l(se);s(se);var pe=P(se,2),ze=l(pe);ar(ze,{className:"size-2.5",strokeWidth:"3"}),s(pe),s(m),s(d),Z((Ve,Ce,Be)=>{he(ae,Ve),he(z,` - ${Ce??""}
									${Be??""}`)},[()=>(u(),o(t()),r(()=>u().t("{{COUNT}} Replies",{COUNT:t().reply_count}))),()=>(u(),r(()=>u().t("Last reply"))),()=>(o(ne),o(t()),r(()=>ne.unix(t().latest_reply_at/1e9).fromNow()))]),Me("click",m,()=>{F()(t().id)}),n(i,d)};D(re,i=>{o(de()),o(t()),r(()=>!de()&&t().reply_count>0)&&i(R)})}n(w,f)};D(L,w=>{e($e)?w(ke):w(Te,!1)})}s(ve),s(p),s(N),Z(()=>{Se(N,"id",`message-${o(t()),r(()=>t().id)??""}`),Ee(N,1,`flex flex-col justify-between px-5 ${y()?"pt-1.5 pb-0.5":""} w-full max-w-full mx-auto group hover:bg-gray-300/5 dark:hover:bg-gray-700/5 transition relative ${M()?"border-l-4 border-blue-500 bg-blue-100/10 dark:bg-blue-100/5 pl-4":""} ${o(t()),I(),r(()=>{var w,f,b,k,B,H;return(((b=(f=(w=t())==null?void 0:w.reply_to_message)==null?void 0:f.meta)==null?void 0:b.model_id)??((B=(k=t())==null?void 0:k.reply_to_message)==null?void 0:B.user_id))===((H=I())==null?void 0:H.id)?"border-l-4 border-orange-500 bg-orange-100/10 dark:bg-orange-100/5 pl-4":""})??""}`,"svelte-s6wdik"),Ee(p,1,` flex w-full message-${o(t()),r(()=>t().id)??""}`,"svelte-s6wdik"),Se(p,"id",`message-${o(t()),r(()=>t().id)??""}`),Se(p,"dir",(Y(),r(()=>Y().chatDirection))),p.dir=p.dir}),n(g,N)};D(Pe,g=>{t()&&g(we)})}n(ge,q),Ne(),fe()}var Fr=_('<div class="w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2"><!> <div class=" "> </div></div>'),Vr=_('<div class="flex flex-col gap-1.5 pb-5 pt-10"><div class="text-2xl font-medium capitalize"> </div> <div class=" text-gray-500"> </div></div>'),Kr=_('<div class="flex justify-center text-xs items-center gap-2 py-5"><div class=" "> </div></div>'),Xr=_('<hr class=" border-gray-50 dark:border-gray-700/20 py-2.5 w-full"/>'),qr=_('<div class="px-5 max-w-full mx-auto"><!> <!></div>'),Gr=_('<div><!> <!> <div class="pb-6"></div></div>');function Tt(ge,$){De($,!1);const u=()=>ce(fe,"$i18n",Y),I=()=>ce(Ye,"$user",Y),[Y,ie]=He();ne.extend(bt),ne.extend(xt),ne.extend($t);const fe=We("i18n");let be=W($,"id",8,null),t=W($,"channel",8,null),y=W($,"messages",28,()=>[]),de=W($,"replyToMessage",8,null),M=W($,"top",8,!1),xe=W($,"thread",8,!1),me=W($,"onLoad",8,()=>{}),Q=W($,"onReply",8,()=>{}),C=W($,"onThread",8,()=>{}),F=le(!1);const J=async()=>{const K=document.getElementById("messages-container");K.scrollTop=K.scrollTop+100,v(F,!0),await me()(),await Oe(),v(F,!1)};je();var ee=Re(),$e=ye(ee);{var _e=K=>{const q=V(()=>(o(y()),r(()=>y().slice().reverse())));var te=Gr(),Pe=l(te);{var we=U=>{ir(U,{$$events:{visible:a=>{console.info("visible"),e(F)||J()}},children:(a,j)=>{var A=Fr(),p=l(A);wt(p,{className:" size-4"});var O=P(p,2),c=l(O,!0);s(O),s(A),Z(T=>he(c,T),[()=>(u(),r(()=>u().t("Loading...")))]),n(a,A)},$$slots:{default:!0}})},g=U=>{var a=Re(),j=ye(a);{var A=p=>{var O=qr(),c=l(O);{var T=S=>{var h=Vr(),E=l(h),L=l(E,!0);s(E);var ke=P(E,2),Te=l(ke,!0);s(ke),s(h),Z(w=>{he(L,(o(t()),r(()=>t().name))),he(Te,w)},[()=>(u(),o(ne),o(t()),r(()=>u().t("This channel was created on {{createdAt}}. This is the very beginning of the {{channelName}} channel.",{createdAt:ne(t().created_at/1e6).format("MMMM D, YYYY"),channelName:t().name})))]),n(S,h)},X=S=>{var h=Kr(),E=l(h),L=l(E,!0);s(E),s(h),Z(ke=>he(L,ke),[()=>(u(),r(()=>u().t("Start of the channel")))]),n(S,h)};D(c,S=>{t()?S(T):S(X,!1)})}var ve=P(c,2);{var oe=S=>{var h=Xr();n(S,h)};D(ve,S=>{o(e(q)),r(()=>e(q).length>0)&&S(oe)})}s(O),n(p,O)};D(j,p=>{xe()||p(A)},!0)}n(U,a)};D(Pe,U=>{M()?U(g,!1):U(we)})}var N=P(Pe,2);Ge(N,3,()=>e(q),U=>be()?`${be()}-${U.id}`:U.id,(U,a,j)=>{{let A=V(()=>(o(de()),e(a),r(()=>{var c;return((c=de())==null?void 0:c.id)===e(a).id}))),p=V(()=>(o(t()),r(()=>{var c;return!((c=t())!=null&&c.write_access)}))),O=V(()=>(o(e(j)),o(e(q)),e(a),r(()=>{var c,T,X,ve,oe,S;return e(j)===0||((c=e(q).at(e(j)-1))==null?void 0:c.user_id)!==e(a).user_id||((X=(T=e(q).at(e(j)-1))==null?void 0:T.meta)==null?void 0:X.model_id)!==((oe=(ve=e(a))==null?void 0:ve.meta)==null?void 0:oe.model_id)||((S=e(a))==null?void 0:S.reply_to_message)})));Zr(U,{get message(){return e(a)},get thread(){return xe()},get replyToMessage(){return e(A)},get disabled(){return e(p)},get showUserProfile(){return e(O)},onDelete:()=>{y(y().filter(c=>c.id!==e(a).id)),jt(localStorage.token,e(a).channel_id,e(a).id).catch(c=>(Ae.error(`${c}`),null))},onEdit:c=>{y(y().map(T=>(T.id===e(a).id&&(T.content=c),T))),Bt(localStorage.token,e(a).channel_id,e(a).id,{content:c}).catch(T=>(Ae.error(`${T}`),null))},onReply:c=>{Q()(c)},onThread:c=>{C()(c)},onReaction:c=>{var T,X,ve,oe;((oe=(X=(((T=e(a))==null?void 0:T.reactions)??[]).find(S=>S.name===c))==null?void 0:X.user_ids)==null?void 0:oe.includes((ve=I())==null?void 0:ve.id))??!1?(y(y().map(S=>{if(S.id===e(a).id){const h=S.reactions.find(E=>E.name===c);h&&(h.user_ids=h.user_ids.filter(E=>{var L;return E!==((L=I())==null?void 0:L.id)}),h.count=h.user_ids.length,h.count===0&&(S.reactions=S.reactions.filter(E=>E.name!==c)))}return S})),At(localStorage.token,e(a).channel_id,e(a).id,c).catch(S=>(Ae.error(`${S}`),null))):(y(y().map(S=>{var h,E;if(S.id===e(a).id&&S.reactions){const L=S.reactions.find(ke=>ke.name===c);L?(L.user_ids.push((h=I())==null?void 0:h.id),L.count=L.user_ids.length):S.reactions.push({name:c,user_ids:[(E=I())==null?void 0:E.id],count:1})}return S})),Ht(localStorage.token,e(a).channel_id,e(a).id,c).catch(S=>(Ae.error(`${S}`),null)))}})}}),vt(2),s(te),n(K,te)};D($e,K=>{y()&&K(_e)})}n(ge,ee),Ne(),ie()}var Qr=_('<button id="sidebar-toggle-button" class=" cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-"><div class=" self-center p-1.5"><!></div></button>'),Jr=_("<div><!></div>"),ea=_('<div class="line-clamp-1 capitalize font-medium font-primary text-lg"> </div>'),ta=_('<button class="select-none flex rounded-xl p-1.5 w-full hover:bg-gray-50 dark:hover:bg-gray-850 transition" aria-label="User Menu"><div class=" self-center"><img class="size-6 object-cover rounded-full" alt="User profile" draggable="false"/></div></button>'),ra=_('<nav class="sticky top-0 z-30 w-full px-1.5 py-1.5 -mb-8 flex items-center drag-region"><div id="navbar-bg-gradient-to-b" class=" bg-linear-to-b via-50% from-white via-white to-transparent dark:from-gray-900 dark:via-gray-900 dark:to-transparent pointer-events-none absolute inset-0 -bottom-7 z-[-1]"></div> <div class=" flex max-w-full w-full mx-auto px-1 pt-0.5 bg-transparent"><div class="flex items-center w-full max-w-full"><!> <div><!></div> <div class="self-start flex flex-none items-center text-gray-600 dark:text-gray-400"><!></div></div></div></nav>');function aa(ge,$){De($,!1);const u=()=>ce(Dt,"$mobile",fe),I=()=>ce(qe,"$showSidebar",fe),Y=()=>ce(t,"$i18n",fe),ie=()=>ce(Ye,"$user",fe),[fe,be]=He(),t=We("i18n");let y=W($,"channel",8);je();var de=ra(),M=P(l(de),2),xe=l(M),me=l(xe);{var Q=K=>{var q=Jr(),te=l(q);{let Pe=V(()=>(I(),Y(),r(()=>I()?Y().t("Close Sidebar"):Y().t("Open Sidebar"))));Le(te,{get content(){return e(Pe)},interactive:!0,children:(we,g)=>{var N=Qr(),U=l(N),a=l(U);nr(a,{}),s(U),s(N),Me("click",N,()=>{qe.set(!I())}),n(we,N)},$$slots:{default:!0}})}s(q),Z(()=>Ee(q,1,`${I()?"md:hidden":""} mr-1.5 mt-0.5 self-start flex flex-none items-center text-gray-600 dark:text-gray-400`)),n(K,q)};D(me,K=>{u()&&K(Q)})}var C=P(me,2),F=l(C);{var J=K=>{var q=ea(),te=l(q,!0);s(q),Z(()=>he(te,(o(y()),r(()=>y().name)))),n(K,q)};D(F,K=>{y()&&K(J)})}s(C);var ee=P(C,2),$e=l(ee);{var _e=K=>{{let q=V(()=>(ie(),r(()=>{var te;return(te=ie())==null?void 0:te.role})));or(K,{className:"max-w-[240px]",get role(){return e(q)},help:!0,$$events:{show:te=>{te.detail==="archived-chat"&&Nt.set(!0)}},children:(te,Pe)=>{var we=ta(),g=l(we),N=l(g);s(g),s(we),Z(()=>Se(N,"src",(ie(),r(()=>{var U;return(U=ie())==null?void 0:U.profile_image_url})))),n(te,we)},$$slots:{default:!0}})}};D($e,K=>{ie()!==void 0&&K(_e)})}s(ee),s(xe),s(M),s(de),Z(()=>Ee(C,1,`flex-1 overflow-hidden max-w-full py-0.5
			${I()?"ml-1":""}
			`)),n(ge,de),Ne(),be()}var sa=_('<div class="w-full flex justify-center pt-5 pb-10"><!></div>'),la=_('<div class="flex flex-col w-full h-full bg-gray-50 dark:bg-gray-850"><div class="sticky top-0 flex items-center justify-between px-3.5 py-3"><div class=" font-medium text-lg"> </div> <div><button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-2"><!></button></div></div> <div class=" max-h-full w-full overflow-y-auto"><!> <div class=" pb-[1rem] px-2.5 w-full"><!></div></div></div>');function nt(ge,$){De($,!1);const u=()=>ce(Ye,"$user",ie),I=()=>ce(ht,"$socket",ie),Y=()=>ce(be,"$i18n",ie),[ie,fe]=He(),be=We("i18n");let t=W($,"threadId",8,null),y=W($,"channel",8,null),de=W($,"onClose",8,()=>{}),M=le(null),xe=le(!1),me=le(null),Q=le(null),C=le(null),F=le([]),J={};const ee=()=>{Ue(me,e(me).scrollTop=e(me).scrollHeight)},$e=async()=>{v(M,null),v(xe,!1),v(F,[]),J={},y()?(v(M,await tt(localStorage.token,y().id,t())),e(M).length<50&&v(xe,!0),await Oe(),ee()):pt("/")},_e=async g=>{var N,U,a;if(g.channel_id===y().id){const j=((N=g==null?void 0:g.data)==null?void 0:N.type)??null,A=((U=g==null?void 0:g.data)==null?void 0:U.data)??null;if(j==="message")((A==null?void 0:A.parent_id)??null)===t()&&e(M)&&(v(M,[A,...e(M)]),e(F).find(p=>p.id===g.user.id)&&v(F,e(F).filter(p=>p.id!==g.user.id)));else if(j==="message:update"){if(e(M)){const p=e(M).findIndex(O=>O.id===A.id);p!==-1&&Ue(M,e(M)[p]=A)}}else if(j==="message:delete")e(M)&&v(M,e(M).filter(p=>p.id!==A.id));else if(j.includes("message:reaction")){if(e(M)){const p=e(M).findIndex(O=>O.id===A.id);p!==-1&&Ue(M,e(M)[p]=A)}}else if(j==="typing"&&g.message_id===t()){if(g.user.id===((a=u())==null?void 0:a.id))return;v(F,A.typing?[...e(F),...e(F).find(p=>p.id===g.user.id)?[]:[{id:g.user.id,name:g.user.name}]]:e(F).filter(p=>p.id!==g.user.id)),J[g.user.id]&&clearTimeout(J[g.user.id]),J[g.user.id]=setTimeout(()=>{v(F,e(F).filter(p=>p.id!==g.user.id))},5e3)}}},K=async({content:g,data:N})=>{var U;!g&&((N==null?void 0:N.files)??[]).length===0||(await yt(localStorage.token,y().id,{parent_id:t(),reply_to_id:((U=e(C))==null?void 0:U.id)??null,content:g,data:N}).catch(a=>(Ae.error(`${a}`),null)),v(C,null))},q=async()=>{var g;(g=I())==null||g.emit("events:channel",{channel_id:y().id,message_id:t(),data:{type:"typing",data:{typing:!0}}})};ut(()=>{var g;(g=I())==null||g.on("events:channel",_e)}),ct(()=>{var g;(g=I())==null||g.off("events:channel",_e)}),gt(()=>o(t()),()=>{t()&&$e()}),ft(),je();var te=Re(),Pe=ye(te);{var we=g=>{var N=la(),U=l(N),a=l(U),j=l(a,!0);s(a);var A=P(a,2),p=l(A),O=l(p);vr(O,{}),s(p),s(A),s(U);var c=P(U,2),T=l(c);{var X=h=>{Tt(h,{get id(){return t()},get channel(){return y()},get top(){return e(xe)},get messages(){return e(M)},get replyToMessage(){return e(C)},thread:!0,onReply:async E=>{var L;v(C,E),await Oe(),(L=e(Q))==null||L.focus()},onLoad:async()=>{const E=await tt(localStorage.token,y().id,t(),e(M).length);if(v(M,[...e(M),...E]),E.length<50){v(xe,!0);return}}})},ve=h=>{var E=sa(),L=l(E);wt(L,{}),s(E),n(h,E)};D(T,h=>{e(M)!==null?h(X):h(ve,!1)})}var oe=P(T,2),S=l(oe);{let h=V(()=>(o(y()),r(()=>{var L;return!((L=y())!=null&&L.write_access)}))),E=V(()=>(o(y()),Y(),r(()=>{var L;return(L=y())!=null&&L.write_access?Y().t("Reply to thread..."):Y().t("You do not have permission to send messages in this thread.")})));kt(S,{get id(){return t()},get disabled(){return e(h)},get placeholder(){return e(E)},typingUsersClassName:"from-gray-50 dark:from-gray-850",get typingUsers(){return e(F)},userSuggestions:!0,channelSuggestions:!0,onChange:q,onSubmit:K,get replyToMessage(){return e(C)},set replyToMessage(L){v(C,L)},get chatInputElement(){return e(Q)},set chatInputElement(L){v(Q,L)},$$legacy:!0})}s(oe),s(c),_t(c,h=>v(me,h),()=>e(me)),s(N),Z(h=>he(j,h),[()=>(Y(),r(()=>Y().t("Thread")))]),Me("click",p,()=>{de()()}),n(g,N)};D(Pe,g=>{y()&&g(we)})}n(ge,te),Ne(),fe()}var ia=_('<div class=" pb-2.5 max-w-full z-10 scrollbar-hidden w-full h-full pt-6 flex-1 flex flex-col-reverse overflow-auto" id="messages-container"><!></div>'),oa=_('<!> <div class="flex-1 overflow-y-auto"><!></div> <div class=" pb-[1rem] px-2.5"><!></div>',1),na=_("<div><!></div>"),da=_('<div class=" absolute -left-1.5 -right-1.5 -top-0 -bottom-0 z-20 cursor-col-resize bg-transparent"></div>'),va=_('<div class="h-full w-full shadow-xl"><!></div>'),ua=_("<!> <!>",1),ca=_("<!> <!>",1),ga=_('<div id="channel-container"><!></div>');function fa(ge,$){De($,!1);const u=()=>ce(Ye,"$user",be),I=()=>ce(ht,"$socket",be),Y=()=>ce(et,"$chatId",be),ie=()=>ce(qe,"$showSidebar",be),fe=()=>ce(ur,"$i18n",be),[be,t]=He();let y=W($,"id",8,""),de=le(!0),M=le(null),xe=le(null),me=le(!1),Q=le(null),C=le(null),F=le(null),J=le(null),ee=le([]),$e={};const _e=()=>{e(M)&&Ue(M,e(M).scrollTop=e(M).scrollHeight)},K=async()=>{v(me,!1),v(C,null),v(Q,null),v(J,null),v(ee,[]),$e={},v(Q,await Ot(localStorage.token,y()).catch(a=>null)),e(Q)?(v(C,await rt(localStorage.token,y(),0)),e(C)&&(_e(),e(C).length<50&&v(me,!0))):pt("/")},q=async a=>{var j,A,p;if(a.channel_id===y()){const O=((j=a==null?void 0:a.data)==null?void 0:j.type)??null,c=((A=a==null?void 0:a.data)==null?void 0:A.data)??null;if(O==="message")((c==null?void 0:c.parent_id)??null)===null&&(v(C,[c,...e(C)]),e(ee).find(T=>T.id===a.user.id)&&v(ee,e(ee).filter(T=>T.id!==a.user.id)),await Oe(),e(de)&&_e());else if(O==="message:update"){const T=e(C).findIndex(X=>X.id===c.id);T!==-1&&Ue(C,e(C)[T]=c)}else if(O==="message:delete")v(C,e(C).filter(T=>T.id!==c.id));else if(O==="message:reply"){const T=e(C).findIndex(X=>X.id===c.id);T!==-1&&Ue(C,e(C)[T]=c)}else if(O.includes("message:reaction")){const T=e(C).findIndex(X=>X.id===c.id);T!==-1&&Ue(C,e(C)[T]=c)}else if(O==="typing"&&a.message_id===null){if(a.user.id===((p=u())==null?void 0:p.id))return;v(ee,c.typing?[...e(ee),...e(ee).find(T=>T.id===a.user.id)?[]:[{id:a.user.id,name:a.user.name}]]:e(ee).filter(T=>T.id!==a.user.id)),$e[a.user.id]&&clearTimeout($e[a.user.id]),$e[a.user.id]=setTimeout(()=>{v(ee,e(ee).filter(T=>T.id!==a.user.id))},5e3)}}},te=async({content:a,data:j})=>{var p;if(!a&&((j==null?void 0:j.files)??[]).length===0)return;await yt(localStorage.token,y(),{content:a,data:j,reply_to_id:((p=e(F))==null?void 0:p.id)??null}).catch(O=>(Ae.error(`${O}`),null))&&Ue(M,e(M).scrollTop=e(M).scrollHeight),v(F,null)},Pe=async()=>{var a;(a=I())==null||a.emit("events:channel",{channel_id:y(),message_id:null,data:{type:"typing",data:{typing:!0}}})};let we,g=le(!1);ut(()=>{var j;Y()&&et.set(""),(j=I())==null||j.on("events:channel",q),we=window.matchMedia("(min-width: 1024px)");const a=async A=>{A.matches?v(g,!0):v(g,!1)};we.addEventListener("change",a),a(we)}),ct(()=>{var a;(a=I())==null||a.off("events:channel",q)}),gt(()=>o(y()),()=>{y()&&K()}),ft(),je();var N=ga();Ct(a=>{Z(()=>Et.title=`#${e(Q),r(()=>{var j;return((j=e(Q))==null?void 0:j.name)??"Channel"})??""} â€¢ Open WebUI`)});var U=l(N);It(U,{direction:"horizontal",class:"w-full h-full",children:(a,j)=>{var A=ca(),p=ye(A);Je(p,{defaultSize:50,minSize:50,class:"h-full flex flex-col w-full relative",children:(X,ve)=>{var oe=oa(),S=ye(oe);aa(S,{get channel(){return e(Q)}});var h=P(S,2),E=l(h);{var L=w=>{var f=ia(),b=l(f);zt(b,y,k=>{Tt(k,{get channel(){return e(Q)},get top(){return e(me)},get messages(){return e(C)},get replyToMessage(){return e(F)},onReply:async B=>{var H;v(F,B),await Oe(),(H=e(xe))==null||H.focus()},onThread:B=>{v(J,B)},onLoad:async()=>{const B=await rt(localStorage.token,y(),e(C).length);if(v(C,[...e(C),...B]),B.length<50){v(me,!0);return}}})}),s(f),_t(f,k=>v(M,k),()=>e(M)),Me("scroll",f,k=>{v(de,Math.abs(e(M).scrollTop)<=50)}),n(w,f)};D(E,w=>{e(Q)&&w(L)})}s(h);var ke=P(h,2),Te=l(ke);{let w=V(()=>(e(Q),r(()=>{var b;return!((b=e(Q))!=null&&b.write_access)}))),f=V(()=>(e(Q),fe(),r(()=>{var b;return(b=e(Q))!=null&&b.write_access?fe().t("Type here..."):fe().t("You do not have permission to send messages in this channel.")})));kt(Te,{id:"root",get typingUsers(){return e(ee)},userSuggestions:!0,channelSuggestions:!0,get disabled(){return e(w)},get placeholder(){return e(f)},onChange:Pe,onSubmit:te,scrollToBottom:_e,get scrollEnd(){return e(de)},get chatInputElement(){return e(xe)},set chatInputElement(b){v(xe,b)},get replyToMessage(){return e(F)},set replyToMessage(b){v(F,b)},$$legacy:!0})}s(ke),n(X,oe)},$$slots:{default:!0}});var O=P(p,2);{var c=X=>{var ve=Re(),oe=ye(ve);{var S=h=>{{let E=V(()=>e(J)!==null);dr(h,{get show(){return e(E)},onClose:()=>{v(J,null)},children:(L,ke)=>{var Te=na(),w=l(Te);nt(w,{get threadId(){return e(J)},get channel(){return e(Q)},onClose:()=>{v(J,null)}}),s(Te),Z(()=>Ee(Te,1,` ${e(J)!==null?" h-screen  w-full":"px-6 py-4"} h-full`)),n(L,Te)},$$slots:{default:!0}})}};D(oe,h=>{e(J)!==null&&h(S)})}n(X,ve)},T=X=>{var ve=Re(),oe=ye(ve);{var S=h=>{var E=ua(),L=ye(E);Ut(L,{class:"relative flex items-center justify-center group border-l border-gray-50 dark:border-gray-850 hover:border-gray-200 dark:hover:border-gray-800  transition z-20",id:"controls-resizer",children:(Te,w)=>{var f=da();n(Te,f)},$$slots:{default:!0}});var ke=P(L,2);Je(ke,{defaultSize:50,minSize:30,class:"h-full w-full",children:(Te,w)=>{var f=va(),b=l(f);nt(b,{get threadId(){return e(J)},get channel(){return e(Q)},onClose:()=>{v(J,null)}}),s(f),n(Te,f)},$$slots:{default:!0}}),n(h,E)};D(oe,h=>{e(J)!==null&&h(S)},!0)}n(X,ve)};D(O,X=>{e(g)?X(T,!1):X(c)})}n(a,A)},$$slots:{default:!0}}),s(N),Z(()=>Ee(N,1,`h-screen max-h-[100dvh] transition-width duration-200 ease-in-out ${ie()?"md:max-w-[calc(100%-260px)]":""} w-full max-w-full flex flex-col`)),n(ge,N),Ne(),t()}function rs(ge,$){De($,!1);const u=()=>ce(Lt,"$page",I),[I,Y]=He();je(),fa(ge,{get id(){return u().params.id}}),Ne(),Y()}export{rs as component};
//# sourceMappingURL=22.Cqcpv_60.js.map
