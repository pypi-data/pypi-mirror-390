import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as N,o as O,d as $,e as b,a as m,p as V,b as k,i as y,j as r,m as T,c as p,r as u,f as U}from"../chunks/CvTLsZlf.js";import{i as B}from"../chunks/B3D73U8p.js";import{i as q}from"../chunks/CNVL70pO.js";import{s as x,a as g}from"../chunks/DzS5ldT-.js";import{g as W}from"../chunks/BDMvu-7n.js";import{p as P}from"../chunks/KihEXLMb.js";import{a as j,u as C,g as D}from"../chunks/QK5aiF9L.js";import{S as Q}from"../chunks/DD1zKOTk.js";import{T as z}from"../chunks/Ca94avxV.js";import{a as _,t as F}from"../chunks/D6EOiKH3.js";import{e as H,c as M}from"../chunks/D38tgtmh.js";import{t as s}from"../chunks/Cqe-NRGo.js";var A=U('<div class="flex items-center justify-center h-full"><div class=" pb-16"><!></div></div>');function io(d,f){k(f,!1);const i=()=>g(I,"$i18n",c),v=()=>g(P,"$page",c),[c,E]=x(),I=N("i18n");let t=T(null);const S=async o=>{const e=H(o.content);if(M((e==null?void 0:e.required_open_webui_version)??"0.0.0",_)){s.error(i().t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:_,REQUIRED_VERSION:(e==null?void 0:e.required_open_webui_version)??"0.0.0"}));return}await C(localStorage.token,r(t).id,{id:o.id,name:o.name,meta:o.meta,content:o.content,access_control:o.access_control}).catch(n=>(s.error(`${n}`),null))&&(s.success(i().t("Tool updated successfully")),F.set(await D(localStorage.token)))};O(async()=>{const o=v().url.searchParams.get("id");o&&(y(t,await j(localStorage.token,o).catch(e=>(s.error(`${e}`),W("/workspace/tools"),null))),r(t))}),q();var l=$(),h=b(l);{var R=o=>{z(o,{edit:!0,get id(){return r(t).id},get name(){return r(t).name},get meta(){return r(t).meta},get content(){return r(t).content},get accessControl(){return r(t).access_control},onSave:e=>{S(e)}})},w=o=>{var e=A(),a=p(e),n=p(a);Q(n,{className:"size-5"}),u(a),u(e),m(o,e)};B(h,o=>{r(t)?o(R):o(w,!1)})}m(d,l),V(),E()}export{io as component};
//# sourceMappingURL=41.Cacxg1OM.js.map
