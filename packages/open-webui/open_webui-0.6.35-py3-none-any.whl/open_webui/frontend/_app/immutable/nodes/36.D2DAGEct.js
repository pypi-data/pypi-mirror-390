import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{b as Xe,g as Ge,j as e,i as u,d as Ye,e as U,a as m,c as r,w as d,k as v,r as t,t as D,s as f,p as Qe,f as p,m as N,n as _e,o as xt,q as _t,v as bt,h as yt,$ as ht,A as wt,x as $t,l as re,aX as kt,u as Pt}from"../chunks/CvTLsZlf.js";import{i as J}from"../chunks/B3D73U8p.js";import{e as St,i as Ct}from"../chunks/uF71e8HK.js";import{r as Dt,a as Je}from"../chunks/CPzR4-ix.js";import{a as Et,b as Ht}from"../chunks/BpTtYi1u.js";import{b as Fe}from"../chunks/Cz9Z7v2M.js";import{i as Ze}from"../chunks/CNVL70pO.js";import{a as ae,s as et}from"../chunks/DzS5ldT-.js";import{t as ge}from"../chunks/Cqe-NRGo.js";import{D as Nt,f as Lt}from"../chunks/dsq8o_n-.js";import{g as jt}from"../chunks/BDMvu-7n.js";import{c as tt,W as It,p as Re,u as Mt}from"../chunks/D6EOiKH3.js";import{b as Ve,g as qe,c as Ot,d as zt}from"../chunks/BDyp3o5e.js";import{j as Ke,s as Bt}from"../chunks/D38tgtmh.js";import{s as Ut}from"../chunks/D4SMs5q_.js";import{p as ie}from"../chunks/DBxQAEQJ.js";import"../chunks/CXLK5pxB.js";import{b as Wt,c as xe}from"../chunks/DM-96xXi.js";import{f as At}from"../chunks/BjO3HhBo.js";import{D as Tt}from"../chunks/BggWuidE.js";import{G as rt}from"../chunks/BiTNgcEp.js";import{T as Le}from"../chunks/k6hQMChD.js";import{S as Jt}from"../chunks/Cjf5aJ8d.js";import{D as Ft}from"../chunks/CY7FdgFL.js";import{E as Rt}from"../chunks/DEA4EnEJ.js";import{C as Vt}from"../chunks/Ch-EHQFf.js";import{S as qt}from"../chunks/B0jU0TkR.js";import{P as Kt}from"../chunks/DbQqwFih.js";import{C as Xt}from"../chunks/CvOMk5BN.js";import{S as Gt}from"../chunks/DD1zKOTk.js";import{X as Yt}from"../chunks/BFL0NFeS.js";import{V as Qt}from"../chunks/CP-4iS2j.js";var Zt=p('<!> <div class="flex items-center"> </div>',1),er=p('<!> <div class="flex items-center"> </div>',1),tr=p('<!> <div class="flex items-center"> </div>',1),rr=p('<!> <div class="flex items-center"> </div>',1),ar=p('<!> <!> <!> <hr class="border-gray-50 dark:border-gray-850 my-1"/> <!>',1),sr=p('<div slot="content"><!></div>');function or(se,O){Xe(O,!1);const x=()=>ae(G,"$i18n",le),s=()=>ae(tt,"$config",le),[le,de]=et(),G=Ge("i18n");let be=ie(O,"shareHandler",8),ve=ie(O,"cloneHandler",8),Y=ie(O,"exportHandler",8),ye=ie(O,"deleteHandler",8),F=ie(O,"onClose",8),oe=N(!1);Ze(),Tt(se,{get show(){return e(oe)},set show(k){u(oe,k)},$$events:{change:k=>{k.detail===!1&&F()()}},children:(k,j)=>{{let w=_e(()=>(x(),d(()=>x().t("More"))));Le(k,{get content(){return e(w)},children:(R,V)=>{var Q=Ye(),$=U(Q);Ut($,O,"default",{},null),m(R,Q)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(k,j)=>{var w=sr(),R=r(w);Wt(R,{class:"w-full max-w-[170px] rounded-2xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",get transition(){return At},children:(V,Q)=>{var $=ar(),z=U($);{var he=E=>{xe(E,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$events:{click:()=>{be()()}},children:(q,H)=>{var P=Zt(),S=U(P);Jt(S,{});var I=v(S,2),i=r(I,!0);t(I),D(n=>f(i,n),[()=>(x(),d(()=>x().t("Share")))]),m(q,P)},$$slots:{default:!0}})};J(z,E=>{s(),d(()=>s().features.enable_community_sharing)&&E(he)})}var ce=v(z,2);xe(ce,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ve()()}},children:(E,q)=>{var H=er(),P=U(H);Ft(P,{});var S=v(P,2),I=r(S,!0);t(S),D(i=>f(I,i),[()=>(x(),d(()=>x().t("Clone")))]),m(E,H)},$$slots:{default:!0}});var me=v(ce,2);xe(me,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{Y()()}},children:(E,q)=>{var H=tr(),P=U(H);Nt(P,{});var S=v(P,2),I=r(S,!0);t(S),D(i=>f(I,i),[()=>(x(),d(()=>x().t("Export")))]),m(E,H)},$$slots:{default:!0}});var we=v(me,4);xe(we,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ye()()}},children:(E,q)=>{var H=rr(),P=U(H);rt(P,{});var S=v(P,2),I=r(S,!0);t(S),D(i=>f(I,i),[()=>(x(),d(()=>x().t("Delete")))]),m(E,H)},$$slots:{default:!0}}),m(V,$)},$$slots:{default:!0}}),t(w),m(k,w)}},$$legacy:!0}),Qe(),de()}var nr=p('<div class=" text-sm text-gray-500 truncate"> <span class="  font-semibold"> </span>.</div>'),ir=p('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),lr=p('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button> <!>',1),dr=p('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),vr=p('<div class="shrink-0 text-gray-500"> </div>'),cr=p('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),mr=p('<button class="self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),ur=p('<a class=" flex space-x-4 cursor-pointer text-left w-full px-3 py-2.5 dark:hover:bg-gray-850/50 hover:bg-gray-50 transition rounded-2xl"><div class=" flex flex-col flex-1 space-x-4 cursor-pointer w-full pl-1"><div class=" flex-1 flex items-center gap-2 self-start"><div class=" font-medium line-clamp-1 capitalize"> </div> <div class=" text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"> </div></div> <div class=" text-xs"><!></div></div> <div class="flex flex-row gap-0.5 self-center"><!></div></a>'),fr=p('<div class="gap-2 grid my-2 px-3 lg:grid-cols-2"></div>'),pr=p('<div class=" w-full h-full flex flex-col justify-center items-center my-16 mb-24"><div class="max-w-md text-center"><div class=" text-3xl mb-3">ðŸ˜•</div> <div class=" text-lg font-medium mb-1"> </div> <div class=" text-gray-500 text-center text-xs"> </div></div></div>'),gr=p('<div class=" my-16"><div class=" text-xl font-medium mb-1 line-clamp-1"> </div> <a class=" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition" href="https://openwebui.com/prompts" target="_blank"><div class=" self-center"><div class=" font-semibold line-clamp-1"> </div> <div class=" text-sm line-clamp-1"> </div></div> <div><div><!></div></div></a></div>'),xr=p('<!> <div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><input id="prompts-import-input" type="file" accept=".json" hidden=""/> <div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><!> <a class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center" href="/workspace/prompts/create"><!> <div class=" hidden md:block md:ml-1 text-xs"> </div></a></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-850"><div class=" flex w-full space-x-2 py-0.5 px-3.5 pb-2"><div class="flex flex-1"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div> <div class="px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none -mx-1"><div class="flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap"><!></div></div> <!></div> <!>',1),_r=p('<div class="w-full h-full flex justify-center items-center"><!></div>');function br(se,O){Xe(O,!1);const x=()=>ae(Mt,"$user",G),s=()=>ae(ye,"$i18n",G),le=()=>ae(It,"$WEBUI_NAME",G),de=()=>ae(tt,"$config",G),[G,be]=et(),{saveAs:ve}=Lt;let Y=N(!1);const ye=Ge("i18n");let F=N(),oe=N(!1),k=N(null),j=N(""),w=N([]),R=N(!1),V=N(null),Q=N(),$=N(""),z=N([]);const he=()=>{u(z,e(w).filter(i=>{var _,b,K,ne;if(e(j)===""&&e($)==="")return!0;const n=e(j).toLowerCase();return((i.title||"").toLowerCase().includes(n)||(i.command||"").toLowerCase().includes(n)||(((_=i.user)==null?void 0:_.name)||"").toLowerCase().includes(n)||(((b=i.user)==null?void 0:b.email)||"").toLowerCase().includes(n))&&(e($)===""||e($)==="created"&&i.user_id===((K=x())==null?void 0:K.id)||e($)==="shared"&&i.user_id!==((ne=x())==null?void 0:ne.id))}))},ce=async i=>{ge.success(s().t("Redirecting you to Open WebUI Community"));const n="https://openwebui.com",_=await window.open(`${n}/prompts/create`,"_blank");window.addEventListener("message",b=>{b.origin===n&&b.data==="loaded"&&_.postMessage(JSON.stringify(i),"*")},!1)},me=async i=>{const n={...i};n.title=`${n.title} (Clone)`;const _=n.command.startsWith("/")?n.command.substring(1):n.command;n.command=Bt(`${_} clone`),sessionStorage.prompt=JSON.stringify(n),jt("/workspace/prompts/create")},we=async i=>{let n=new Blob([JSON.stringify([i])],{type:"application/json"});ve(n,`prompt-export-${Date.now()}.json`)},E=async i=>{const n=i.command;await zt(localStorage.token,n).catch(b=>(ge.error(b),null))&&ge.success(s().t("Deleted {{name}}",{name:n})),await q()},q=async()=>{u(w,await Ve(localStorage.token)),await Re.set(await qe(localStorage.token))};xt(async()=>{u($,(localStorage==null?void 0:localStorage.workspaceViewOption)||""),await q(),u(oe,!0);const i=b=>{b.key==="Shift"&&u(Y,!0)},n=b=>{b.key==="Shift"&&u(Y,!1)},_=()=>{u(Y,!1)};return window.addEventListener("keydown",i),window.addEventListener("keyup",n),window.addEventListener("blur",_),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",n),window.removeEventListener("blur",_)}}),_t(()=>(e(w),e(j),e($)),()=>{e(w)&&e(j)!==void 0&&e($)!==void 0&&he()}),bt(),Ze();var H=Ye();yt(i=>{D(n=>ht.title=`
		${n??""} â€¢ ${le()??""}
	`,[()=>(s(),d(()=>s().t("Prompts")))])});var P=U(H);{var S=i=>{var n=xr(),_=U(n);{let a=_e(()=>(s(),d(()=>s().t("Delete prompt?"))));Vt(_,{get title(){return e(a)},get show(){return e(R)},set show(l){u(R,l)},$$events:{confirm:()=>{E(e(V))}},children:(l,c)=>{var o=nr(),g=r(o),y=v(g),C=r(y,!0);t(y),wt(),t(o),D(h=>{f(g,`${h??""} `),f(C,(e(V),d(()=>e(V).command)))},[()=>(s(),d(()=>s().t("This will delete")))]),m(l,o)},$$slots:{default:!0},$$legacy:!0})}var b=v(_,2),K=r(b);Fe(K,a=>u(F,a),()=>e(F));var ne=v(K,2),$e=r(ne),ke=r($e),at=r(ke,!0);t(ke);var je=v(ke,2),st=r(je,!0);t(je),t($e);var Ie=v($e,2),Me=r(Ie);{var ot=a=>{var l=lr(),c=U(l),o=r(c),g=r(o,!0);t(o),t(c);var y=v(c,2);{var C=h=>{var L=ir(),X=r(L),Z=r(X,!0);t(X),t(L),D(B=>f(Z,B),[()=>(s(),d(()=>s().t("Export")))]),re("click",L,async()=>{let B=new Blob([JSON.stringify(e(w))],{type:"application/json"});ve(B,`prompts-export-${Date.now()}.json`)}),m(h,L)};J(y,h=>{e(w),d(()=>e(w).length)&&h(C)})}D(h=>f(g,h),[()=>(s(),d(()=>s().t("Import")))]),re("click",c,()=>{e(F).click()}),m(a,l)};J(Me,a=>{x(),d(()=>{var l;return((l=x())==null?void 0:l.role)==="admin"})&&a(ot)})}var Oe=v(Me,2),ze=r(Oe);Kt(ze,{className:"size-3",strokeWidth:"2.5"});var Be=v(ze,2),nt=r(Be,!0);t(Be),t(Oe),t(Ie),t(ne),t(b);var Pe=v(b,2),Se=r(Pe),Ue=r(Se),Ce=r(Ue),it=r(Ce);qt(it,{className:"size-3.5"}),t(Ce);var ue=v(Ce,2);Dt(ue);var lt=v(ue,2);{var dt=a=>{var l=dr(),c=r(l),o=r(c);Yt(o,{className:"size-3",strokeWidth:"2"}),t(c),t(l),re("click",c,()=>{u(j,"")}),m(a,l)};J(lt,a=>{e(j)&&a(dt)})}t(Ue),t(Se);var fe=v(Se,2),De=r(fe),vt=r(De);Qt(vt,{onChange:async a=>{localStorage.workspaceViewOption=a,await $t()},get value(){return e($)},set value(a){u($,a)},$$legacy:!0}),t(De),Fe(De,a=>u(Q,a),()=>e(Q)),t(fe);var ct=v(fe,2);{var mt=a=>{var l=fr();St(l,5,()=>e(z),Ct,(c,o)=>{var g=ur(),y=r(g),C=r(y),h=r(C),L=r(h,!0);t(h);var X=v(h,2),Z=r(X,!0);t(X),t(C);var B=v(C,2),Ee=r(B);{let M=_e(()=>(e(o),s(),d(()=>{var W,ee;return((ee=(W=e(o))==null?void 0:W.user)==null?void 0:ee.email)??s().t("Deleted User")})));Le(Ee,{get content(){return e(M)},className:"flex shrink-0",placement:"top-start",children:(W,ee)=>{var A=vr(),T=r(A,!0);t(A),D(te=>f(T,te),[()=>(s(),Pt(Ke),e(o),d(()=>{var te,We,Ae,Te;return s().t("By {{name}}",{name:Ke(((We=(te=e(o))==null?void 0:te.user)==null?void 0:We.name)??((Te=(Ae=e(o))==null?void 0:Ae.user)==null?void 0:Te.email)??s().t("Deleted User"))})}))]),m(W,A)},$$slots:{default:!0}})}t(B),t(y);var pe=v(y,2),He=r(pe);{var Ne=M=>{{let W=_e(()=>(s(),d(()=>s().t("Delete"))));Le(M,{get content(){return e(W)},children:(ee,A)=>{var T=cr(),te=r(T);rt(te,{}),t(T),re("click",T,()=>{E(e(o))}),m(ee,T)},$$slots:{default:!0}})}},gt=M=>{or(M,{shareHandler:()=>{ce(e(o))},cloneHandler:()=>{me(e(o))},exportHandler:()=>{we(e(o))},deleteHandler:async()=>{u(V,e(o)),u(R,!0)},onClose:()=>{},children:(W,ee)=>{var A=mr(),T=r(A);Rt(T,{className:"size-5"}),t(A),m(W,A)},$$slots:{default:!0}})};J(He,M=>{e(Y)?M(Ne):M(gt,!1)})}t(pe),t(g),D(M=>{Je(g,"href",M),f(L,(e(o),d(()=>e(o).title))),f(Z,(e(o),d(()=>e(o).command)))},[()=>(e(o),d(()=>`/workspace/prompts/edit?command=${encodeURIComponent(e(o).command)}`))]),m(c,g)}),t(l),m(a,l)},ut=a=>{var l=pr(),c=r(l),o=v(r(c),2),g=r(o,!0);t(o);var y=v(o,2),C=r(y,!0);t(y),t(c),t(l),D((h,L)=>{f(g,h),f(C,L)},[()=>(s(),d(()=>s().t("No prompts found"))),()=>(s(),d(()=>s().t("Try adjusting your search or filter to find what you are looking for.")))]),m(a,l)};J(ct,a=>{e(z),d(()=>(e(z)??[]).length!==0)?a(mt):a(ut,!1)})}t(Pe);var ft=v(Pe,2);{var pt=a=>{var l=gr(),c=r(l),o=r(c,!0);t(c);var g=v(c,2),y=r(g),C=r(y),h=r(C,!0);t(C);var L=v(C,2),X=r(L,!0);t(L),t(y);var Z=v(y,2),B=r(Z),Ee=r(B);Xt(Ee,{}),t(B),t(Z),t(g),t(l),D((pe,He,Ne)=>{f(o,pe),f(h,He),f(X,Ne)},[()=>(s(),d(()=>s().t("Made by Open WebUI Community"))),()=>(s(),d(()=>s().t("Discover a prompt"))),()=>(s(),d(()=>s().t("Discover, download, and explore custom prompts")))]),m(a,l)};J(ft,a=>{de(),d(()=>{var l;return(l=de())==null?void 0:l.features.enable_community_sharing})&&a(pt)})}D((a,l,c)=>{f(at,a),f(st,(e(z),d(()=>e(z).length))),f(nt,l),Je(ue,"placeholder",c)},[()=>(s(),d(()=>s().t("Prompts"))),()=>(s(),d(()=>s().t("New Prompt"))),()=>(s(),d(()=>s().t("Search Prompts")))]),Et(K,()=>e(k),a=>u(k,a)),re("change",K,()=>{e(k);const a=new FileReader;a.onload=async l=>{const c=JSON.parse(l.target.result);for(const o of c)await Ot(localStorage.token,{command:o.command.charAt(0)==="/"?o.command.slice(1):o.command,title:o.title,content:o.content}).catch(g=>(ge.error(`${g}`),null));u(w,await Ve(localStorage.token)),await Re.set(await qe(localStorage.token)),u(k,[]),kt(F,e(F).value="")},a.readAsText(e(k)[0])}),Ht(ue,()=>e(j),a=>u(j,a)),re("wheel",fe,a=>{a.deltaY!==0&&(a.preventDefault(),a.currentTarget.scrollLeft+=a.deltaY)}),m(i,n)},I=i=>{var n=_r(),_=r(n);Gt(_,{className:"size-5"}),t(n),m(i,n)};J(P,i=>{e(oe)?i(S):i(I,!1)})}m(se,H),Qe(),be()}function ea(se){br(se,{})}export{ea as component};
//# sourceMappingURL=36.D2DAGEct.js.map
