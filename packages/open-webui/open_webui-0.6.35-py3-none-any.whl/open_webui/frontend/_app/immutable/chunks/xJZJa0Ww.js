import"./CWj6FrbW.js";import"./CN51-NxK.js";import{t as h,a as u,B as oa,b as gt,g as ht,y as Ar,q as dt,u as x,v as Tt,c as t,r as e,k as v,j as r,aX as St,w as i,aW as Er,s as c,l as de,p as wt,f as _,i as p,m as H,n as at,e as Fe,d as Nt,z as va,A as al,o as na}from"./CvTLsZlf.js";import{i as g}from"./B3D73U8p.js";import{s as rt,c as ca,a as st,r as Lt,d as Lr}from"./CPzR4-ix.js";import{i as yt}from"./CNVL70pO.js";import{a as Xe,s as bt}from"./DzS5ldT-.js";import{t as We}from"./Cqe-NRGo.js";import{g as da}from"./BDMvu-7n.js";import{g as pa,u as br,c as rl}from"./D6EOiKH3.js";import{p as Ir}from"./KihEXLMb.js";import{e as ga,i as $r}from"./uF71e8HK.js";import{b as It,a as sl}from"./BpTtYi1u.js";import{d as pt,r as Br}from"./BqAeIAOr.js";import{l as kr,f as Nr}from"./D38tgtmh.js";import{u as ll,b as il,d as vl,c as dl,e as ol,f as Tr,h as nl}from"./F2FbVfzc.js";import{P as cl}from"./BoiAYUv6.js";import{p as V}from"./DBxQAEQJ.js";import{T as Ft}from"./k6hQMChD.js";import{p as wr}from"./Bfc47y5P.js";import{M as Cr}from"./B1Io5-Zn.js";import{X as Pr}from"./BFL0NFeS.js";import{S as Dr}from"./DlN87LPP.js";import{U as ul,C as fl}from"./Bg13iYhn.js";import{h as ma}from"./DQY3XKi0.js";import{c as Mr}from"./B6APT5jt.js";import{S as Sr}from"./DD1zKOTk.js";import{C as Gr}from"./Ch-EHQFf.js";import{B as Zr}from"./Ch4IWKao.js";import{P as qr}from"./DbQqwFih.js";import{C as Pt}from"./D-Tr9fFQ.js";import{C as ia}from"./BzIph71e.js";import"./BFK-koEx.js";import{B as xl}from"./CMoJozUc.js";import{M as _l}from"./B_VtPlnM.js";import{C as ml}from"./CvOMk5BN.js";import{S as Hr}from"./B0jU0TkR.js";import{T as pl}from"./VKbJuFMC.js";import{S as ae}from"./CMAI-O2r.js";import{C as gl}from"./5Hz4xsjz.js";import{u as hl,d as wl,g as zr,c as yl}from"./CsQ1aKw9.js";import{P as bl}from"./B0L9ton2.js";import{U as $l}from"./BivvhpuX.js";var kl=oa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd"></path></svg>');function Cl(le,k){let a=V(k,"className",8,"w-4 h-4");var I=kl();h(()=>rt(I,0,ca(a()))),u(le,I)}var Pl=oa('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"></path></svg>');function Sl(le,k){let a=V(k,"className",8,"size-4"),I=V(k,"strokeWidth",8,"1.5");var S=Pl();h(()=>{st(S,"stroke-width",I()),rt(S,0,ca(a()))}),u(le,S)}var Ul=_('<span class="px-1.5 py-0.5 rounded-xl bg-gray-100 dark:bg-gray-850 text-xs"><a> </a></span>'),jl=_('<div class="flex flex-col w-full text-sm"><div class="mb-1 text-xs text-gray-500"> </div> <div class="flex flex-wrap gap-1 my-0.5 -mx-1"></div></div>'),Nl=_('<div class="flex flex-col w-full"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1 text-sm break-all mb-1"> </div></div>'),Tl=_('<div><div class=" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"><div class=" text-lg font-medium self-center"> </div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class=" px-5 pt-3 pb-5 w-full"><div class="flex self-center w-full"><div class=" self-start h-full mr-6"><!></div> <div class=" flex-1"><div class="overflow-hidden w-ful mb-2"><div class=" self-center capitalize font-medium truncate"> </div> <div class="text-xs text-gray-500"> </div></div> <div class=" flex flex-col space-y-1.5"><!> <div class="flex flex-col w-full"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><select class="w-full dark:bg-gray-900 text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden" required><option> </option><option> </option><option> </option></select></div></div> <div class="flex flex-col w-full"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden svelte-zhsfcf" type="text" autocomplete="off" required/></div></div> <div class="flex flex-col w-full"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-zhsfcf" type="email" autocomplete="off" required/></div></div> <!> <div class="flex flex-col w-full"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><!></div></div></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="submit"> </button></div></div></form></div></div></div>');function Ml(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt(),pe=ht("i18n"),_e=Ar();pt.extend(kr);let s=V(k,"show",12,!1),n=V(k,"selectedUser",8),z=V(k,"sessionUser",8);const j=()=>{n()&&(p(f,n()),St(f,r(f).password=""),B())};let f=H({profile_image_url:"",role:"pending",name:"",email:"",password:""}),A=H(null);const E=async()=>{await ll(localStorage.token,n().id,r(f)).catch(D=>{We.error(`${D}`)})&&(_e("save"),s(!1))},B=async()=>{var U;(U=n())!=null&&U.id&&(p(A,null),p(A,await il(localStorage.token,n().id).catch(D=>(We.error(`${D}`),null))))};dt(()=>x(s()),()=>{s()&&j()}),Tt(),yt(),Cr(le,{size:"sm",get show(){return s()},set show(U){s(U)},children:(U,D)=>{var K=Tl(),W=t(K),J=t(W),R=t(J,!0);e(J);var w=v(J,2),$=t(w);Pr($,{className:"size-5"}),e(w),e(W);var C=v(W,2),G=t(C),F=t(G),ge=t(F),re=t(ge),ue=t(re),he=t(ue);ul(he,{imageClassName:"size-14",get user(){return r(f)},get profileImageUrl(){return r(f).profile_image_url},set profileImageUrl(xe){St(f,r(f).profile_image_url=xe)},$$legacy:!0}),e(ue);var ye=v(ue,2),De=t(ye),Ye=t(De),Ae=t(Ye,!0);e(Ye);var Ee=v(Ye,2),M=t(Ee);e(Ee),e(De);var q=v(De,2),oe=t(q);{var ie=xe=>{var Se=jl(),Be=t(Se),ot=t(Be,!0);e(Be);var Qe=v(Be,2);ga(Qe,5,()=>r(A),$r,(lt,it)=>{var ft=Ul(),et=t(ft),Mt=t(et,!0);e(et),e(ft),h(()=>{st(et,"href",(r(it),i(()=>"/admin/users/groups?id="+r(it).id))),c(Mt,(r(it),i(()=>r(it).name)))}),de("click",et,wr(()=>da("/admin/users/groups?id="+r(it).id))),u(lt,ft)}),e(Qe),e(Se),h(lt=>c(ot,lt),[()=>(a(),i(()=>a().t("User Groups")))]),u(xe,Se)};g(oe,xe=>{r(A),i(()=>(r(A)??[]).length>0)&&xe(ie)})}var O=v(oe,2),ne=t(O),$e=t(ne,!0);e(ne);var Ue=v(ne,2),be=t(Ue);h(()=>{r(f),Er(()=>{z(),a()})});var fe=t(be),Ge=t(fe,!0);e(fe),fe.value=fe.__value="admin";var ke=v(fe),je=t(ke,!0);e(ke),ke.value=ke.__value="user";var qe=v(ke),Ze=t(qe,!0);e(qe),qe.value=qe.__value="pending",e(be),e(Ue),e(O);var Le=v(O,2),Ce=t(Le),Ie=t(Ce,!0);e(Ce);var Q=v(Ce,2),Z=t(Q);Lt(Z),e(Q),e(Le);var ee=v(Le,2),X=t(ee),Pe=t(X,!0);e(X);var Oe=v(X,2),Ve=t(Oe);Lt(Ve),e(Oe),e(ee);var P=v(ee,2);{var N=xe=>{var Se=Nl(),Be=t(Se),ot=t(Be,!0);e(Be);var Qe=v(Be,2),lt=t(Qe,!0);e(Qe),e(Se),h(it=>{c(ot,it),c(lt,(r(f),i(()=>r(f).oauth_sub??"")))},[()=>(a(),i(()=>a().t("OAuth ID")))]),u(xe,Se)};g(P,xe=>{r(f),i(()=>{var Se;return(Se=r(f))==null?void 0:Se.oauth_sub})&&xe(N)})}var Y=v(P,2),ce=t(Y),me=t(ce,!0);e(ce);var ve=v(ce,2),te=t(ve);{let xe=at(()=>(a(),i(()=>a().t("Enter New Password"))));Dr(te,{class:"w-full text-sm bg-transparent outline-hidden",type:"password",get placeholder(){return r(xe)},autocomplete:"new-password",required:!1,get value(){return r(f).password},set value(Se){St(f,r(f).password=Se)},$$legacy:!0})}e(ve),e(Y),e(q),e(ye),e(re);var Ke=v(re,2),ct=t(Ke),ut=t(ct,!0);e(ct),e(Ke),e(ge),e(F),e(G),e(C),e(K),h((xe,Se,Be,ot,Qe,lt,it,ft,et,Mt,zt,Bt,Dt)=>{c(R,xe),c(Ae,(x(n()),i(()=>n().name))),c(M,`${Se??""}
										${Be??""}`),c($e,ot),be.disabled=(r(f),x(z()),i(()=>r(f).id==z().id)),c(Ge,Qe),c(je,lt),c(Ze,it),c(Ie,ft),st(Z,"placeholder",et),c(Pe,Mt),st(Ve,"placeholder",zt),c(me,Bt),c(ut,Dt)},[()=>(a(),i(()=>a().t("Edit User"))),()=>(a(),i(()=>a().t("Created at"))),()=>(x(pt),x(n()),i(()=>pt(n().created_at*1e3).format("LL"))),()=>(a(),i(()=>a().t("Role"))),()=>(a(),i(()=>a().t("Admin"))),()=>(a(),i(()=>a().t("User"))),()=>(a(),i(()=>a().t("Pending"))),()=>(a(),i(()=>a().t("Name"))),()=>(a(),i(()=>a().t("Enter Your Name"))),()=>(a(),i(()=>a().t("Email"))),()=>(a(),i(()=>a().t("Enter Your Email"))),()=>(a(),i(()=>a().t("New Password"))),()=>(a(),i(()=>a().t("Save")))]),de("click",w,()=>{s(!1)}),Lr(be,()=>r(f).role,xe=>St(f,r(f).role=xe)),It(Z,()=>r(f).name,xe=>St(f,r(f).name=xe)),It(Ve,()=>r(f).email,xe=>St(f,r(f).email=xe)),de("submit",F,wr(()=>{E()})),u(U,K)},$$slots:{default:!0},$$legacy:!0}),wt(),S()}function zl(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt();pt.extend(kr);const pe=ht("i18n");let _e=V(k,"show",12,!1),s=V(k,"user",8),n=H(null),z=H(1),j=H(""),f=H("updated_at"),A=H("desc"),E=H({}),B=H(!1),U=H(!1),D;const K=async()=>{_e()&&(D&&clearTimeout(D),p(z,1),p(n,null),r(j)===""?p(n,await ma(localStorage.token,s().id,r(z),r(E))):D=setTimeout(async()=>{p(n,await ma(localStorage.token,s().id,r(z),r(E)))},500),(r(n)??[]).length===0?p(B,!0):p(B,!1))},W=async()=>{p(U,!0),p(z,r(z)+1);let R=[];R=await ma(localStorage.token,s().id,r(z),r(E)),p(B,R.length===0),R.length>0&&p(n,[...r(n),...R]),p(U,!1)},J=async()=>{p(n,await ma(localStorage.token,s().id,r(z),r(E)))};dt(()=>(r(j),r(f),r(A)),()=>{p(E,{...r(j)?{query:r(j)}:{},...r(f)?{order_by:r(f)}:{},...r(A)?{direction:r(A)}:{}})}),dt(()=>r(E),()=>{r(E)!==null&&K()}),dt(()=>x(_e()),()=>{_e()?J():(p(n,null),p(z,1),p(B,!1),p(U,!1))}),Tt(),yt();{let R=at(()=>(a(),x(s()),i(()=>a().t("{{user}}'s Chats",{user:s().name.length>32?`${s().name.slice(0,32)}...`:s().name})))),w=at(()=>(a(),i(()=>a().t("No chats found for this user."))));fl(le,{get title(){return r(R)},get emptyPlaceholder(){return r(w)},shareUrl:!0,get chatList(){return r(n)},get allChatsLoaded(){return r(B)},get chatListLoading(){return r(U)},onUpdate:()=>{J()},loadHandler:W,get show(){return _e()},set show($){_e($)},get query(){return r(j)},set query($){p(j,$)},get orderBy(){return r(f)},set orderBy($){p(f,$)},get direction(){return r(A)},set direction($){p(A,$)},$$legacy:!0})}wt(),S()}var Al=_('<div class="flex flex-col w-full mb-3"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><select class="w-full capitalize rounded-lg text-sm bg-transparent dark:disabled:text-gray-500 outline-hidden" required><option> </option><option> </option><option> </option></select></div></div> <div class="flex flex-col w-full mt-1"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1ga5uvq" type="text" autocomplete="off" required/></div></div> <hr class=" border-gray-100 dark:border-gray-850 my-2.5 w-full"/> <div class="flex flex-col w-full"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1ga5uvq" type="email" required/></div></div> <div class="flex flex-col w-full mt-1"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><!></div></div>',1),El=_('<div><div class="mb-3 w-full"><input id="upload-user-csv-input" hidden="" type="file" accept=".csv" class="svelte-1ga5uvq"/> <button class="w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl" type="button"><!></button></div> <div class=" text-xs text-gray-500"> <a class="underline dark:text-gray-200"> </a></div></div>'),Ll=_('<div class="ml-2 self-center"><!></div>'),Il=_('<div><div class=" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"><div class=" text-lg font-medium self-center"> </div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class="flex -mt-2 mb-1.5 gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"><button type="button"> </button> <button type="button"> </button></div> <div class="px-1"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button type="submit"> <!></button></div></form></div></div></div>');function Bl(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt(),pe=ht("i18n"),_e=Ar();let s=V(k,"show",12,!1),n=H(!1),z=H(""),j=H(),f=H({name:"",email:"",password:"",role:"user"});const A=async()=>{const E=()=>{_e("save"),p(n,!1)};if(r(z)==="")p(n,!0),await Mr(localStorage.token,r(f).name,r(f).email,r(f).password,r(f).role,Nr(r(f).name)).catch(U=>{We.error(`${U}`)})&&(E(),s(!1));else if(r(j)){p(n,!0);const B=r(j)[0],U=new FileReader;U.onload=async D=>{const W=D.target.result.split(`
`);let J=0;for(const[w,$]of W.entries()){const C=$.split(",").map(G=>G.trim());w>0&&(C.length===4&&["admin","user","pending"].includes(C[3].toLowerCase())?await Mr(localStorage.token,C[0],C[1],C[2],C[3].toLowerCase(),Nr(C[0])).catch(F=>(We.error(`Row ${w+1}: ${F}`),null))&&(J=J+1):We.error(`Row ${w+1}: invalid format.`))}We.success(a().t("Successfully imported {{userCount}} users.",{userCount:J})),p(j,null);const R=document.getElementById("upload-user-csv-input");R&&(R.value=null),E()},U.readAsText(B,"utf-8")}else We.error(a().t("File not found."));p(n,!1)};dt(()=>x(s()),()=>{s()&&p(f,{name:"",email:"",password:"",role:"user"})}),Tt(),yt(),Cr(le,{size:"sm",get show(){return s()},set show(E){s(E)},children:(E,B)=>{var U=Il(),D=t(U),K=t(D),W=t(K,!0);e(K);var J=v(K,2),R=t(J);Pr(R,{className:"size-5"}),e(J),e(D);var w=v(D,2),$=t(w),C=t($),G=t(C),F=t(G),ge=t(F,!0);e(F);var re=v(F,2),ue=t(re,!0);e(re),e(G);var he=v(G,2),ye=t(he);{var De=ie=>{var O=Al(),ne=Fe(O),$e=t(ne),Ue=t($e,!0);e($e);var be=v($e,2),fe=t(be);h(()=>{r(f),Er(()=>{a()})});var Ge=t(fe),ke=t(Ge,!0);e(Ge),Ge.value=Ge.__value="pending";var je=v(Ge),qe=t(je,!0);e(je),je.value=je.__value="user";var Ze=v(je),Le=t(Ze,!0);e(Ze),Ze.value=Ze.__value="admin",e(fe),e(be),e(ne);var Ce=v(ne,2),Ie=t(Ce),Q=t(Ie,!0);e(Ie);var Z=v(Ie,2),ee=t(Z);Lt(ee),e(Z),e(Ce);var X=v(Ce,4),Pe=t(X),Oe=t(Pe,!0);e(Pe);var Ve=v(Pe,2),P=t(Ve);Lt(P),e(Ve),e(X);var N=v(X,2),Y=t(N),ce=t(Y,!0);e(Y);var me=v(Y,2),ve=t(me);{let te=at(()=>(a(),i(()=>a().t("Enter Your Password"))));Dr(ve,{class:"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden",type:"password",get placeholder(){return r(te)},autocomplete:"off",required:!0,get value(){return r(f).password},set value(Ke){St(f,r(f).password=Ke)},$$legacy:!0})}e(me),e(N),h((te,Ke,ct,ut,xe,Se,Be,ot,Qe,lt)=>{c(Ue,te),st(fe,"placeholder",Ke),c(ke,ct),c(qe,ut),c(Le,xe),c(Q,Se),st(ee,"placeholder",Be),c(Oe,ot),st(P,"placeholder",Qe),c(ce,lt)},[()=>(a(),i(()=>a().t("Role"))),()=>(a(),i(()=>a().t("Enter Your Role"))),()=>(a(),i(()=>a().t("pending"))),()=>(a(),i(()=>a().t("user"))),()=>(a(),i(()=>a().t("admin"))),()=>(a(),i(()=>a().t("Name"))),()=>(a(),i(()=>a().t("Enter Your Full Name"))),()=>(a(),i(()=>a().t("Email"))),()=>(a(),i(()=>a().t("Enter Your Email"))),()=>(a(),i(()=>a().t("Password")))]),Lr(fe,()=>r(f).role,te=>St(f,r(f).role=te)),It(ee,()=>r(f).name,te=>St(f,r(f).name=te)),It(P,()=>r(f).email,te=>St(f,r(f).email=te)),u(ie,O)},Ye=ie=>{var O=Nt(),ne=Fe(O);{var $e=Ue=>{var be=El(),fe=t(be),Ge=t(fe),ke=v(Ge,2),je=t(ke);{var qe=Z=>{var ee=va();h(()=>c(ee,`${r(j),i(()=>r(j).length>0?`${r(j).length}`:"")??""} document(s) selected.`)),u(Z,ee)},Ze=Z=>{var ee=va();h(X=>c(ee,X),[()=>(a(),i(()=>a().t("Click here to select a csv file.")))]),u(Z,ee)};g(je,Z=>{r(j)?Z(qe):Z(Ze,!1)})}e(ke),e(fe);var Le=v(fe,2),Ce=t(Le),Ie=v(Ce),Q=t(Ie,!0);e(Ie),e(Le),e(be),h((Z,ee)=>{c(Ce,`â“˜ ${Z??""} `),st(Ie,"href",`${pa}/static/user-import.csv`),c(Q,ee)},[()=>(a(),i(()=>a().t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role."))),()=>(a(),i(()=>a().t("Click here to download user import template file.")))]),sl(Ge,()=>r(j),Z=>p(j,Z)),de("click",ke,()=>{var Z;(Z=document.getElementById("upload-user-csv-input"))==null||Z.click()}),u(Ue,be)};g(ne,Ue=>{r(z)==="import"&&Ue($e)},!0)}u(ie,O)};g(ye,ie=>{r(z)===""?ie(De):ie(Ye,!1)})}e(he);var Ae=v(he,2),Ee=t(Ae),M=t(Ee),q=v(M);{var oe=ie=>{var O=Ll(),ne=t(O);Sr(ne,{}),e(O),u(ie,O)};g(q,ie=>{r(n)&&ie(oe)})}e(Ee),e(Ae),e(C),e($),e(w),e(U),h((ie,O,ne,$e)=>{c(W,ie),rt(F,1,`min-w-fit p-1.5 ${r(z)===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"} transition`),c(ge,O),rt(re,1,`min-w-fit p-1.5 ${r(z)==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"} transition`),c(ue,ne),rt(Ee,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${r(n)?" cursor-not-allowed":""}`),Ee.disabled=r(n),c(M,`${$e??""} `)},[()=>(a(),i(()=>a().t("Add User"))),()=>(a(),i(()=>a().t("Form"))),()=>(a(),i(()=>a().t("CSV Import"))),()=>(a(),i(()=>a().t("Save")))]),de("click",J,()=>{s(!1)}),de("click",F,()=>{p(z,"")}),de("click",re,()=>{p(z,"import")}),de("submit",C,wr(()=>{A()})),u(E,U)},$$slots:{default:!0},$$legacy:!0}),wt(),S()}var Dl=_('<div class=" mt-1 mb-2 text-xs text-red-500"><!></div>'),Gl=_('<div class="my-10"><!></div>'),Zl=_('<span class="text-lg font-medium text-red-500"> <span class="text-sm font-normal"> </span></span>'),ql=_('<span class="text-lg font-medium text-gray-500 dark:text-gray-300"> <span class="text-sm font-normal"> </span></span>'),Hl=_('<span class="text-lg font-medium text-gray-500 dark:text-gray-300"> </span>'),Rl=_('<button class=" p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1"><!></button>'),Wl=_('<span class="font-normal"><!></span>'),Fl=_('<span class="invisible"><!></span>'),Yl=_('<span class="font-normal"><!></span>'),Ol=_('<span class="invisible"><!></span>'),Vl=_('<span class="font-normal"><!></span>'),Kl=_('<span class="invisible"><!></span>'),Xl=_('<span class="font-normal"><!></span>'),Jl=_('<span class="invisible"><!></span>'),Ql=_('<span class="font-normal"><!></span>'),ei=_('<span class="invisible"><!></span>'),ti=_('<button class="self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"><!></button>'),ai=_('<button class="self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></button>'),ri=_('<button class="self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg></button>'),si=_('<tr class="bg-white dark:bg-gray-900 dark:border-gray-850 text-xs"><td class="px-3 py-1 min-w-[7rem] w-28"><button class=" translate-y-0.5"><!></button></td><td class="px-3 py-1 font-medium text-gray-900 dark:text-white max-w-48"><div class="flex items-center"><img class="rounded-full w-6 h-6 object-cover mr-2.5 flex-shrink-0" alt="user"/> <div class="font-medium truncate"> </div></div></td><td class=" px-3 py-1"> </td><td class=" px-3 py-1"> </td><td class=" px-3 py-1"> </td><td class="px-3 py-1 text-right"><div class="flex justify-end w-full"><!> <!> <!></div></td></tr>'),li=_('<div class="pt-0.5 pb-1 gap-1 flex flex-col md:flex-row justify-between sticky top-0 z-10 bg-white dark:bg-gray-900"><div class="flex md:self-center text-lg font-medium px-0.5"><div class="flex-shrink-0"> </div> <div class="flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"></div> <!></div> <div class="flex gap-1"><div class=" flex w-full space-x-2"><div class="flex flex-1"><div class=" self-center ml-1 mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg></div> <input class=" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"/></div> <div><!></div></div></div></div> <div class="scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full"><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full"><thead class="text-xs text-gray-800 uppercase bg-transparent dark:text-gray-200"><tr class=" border-b-[1.5px] border-gray-50 dark:border-gray-850"><th scope="col" class="px-2.5 py-2 cursor-pointer select-none"><div class="flex gap-1.5 items-center"> <!></div></th><th scope="col" class="px-2.5 py-2 cursor-pointer select-none"><div class="flex gap-1.5 items-center"> <!></div></th><th scope="col" class="px-2.5 py-2 cursor-pointer select-none"><div class="flex gap-1.5 items-center"> <!></div></th><th scope="col" class="px-2.5 py-2 cursor-pointer select-none"><div class="flex gap-1.5 items-center"> <!></div></th><th scope="col" class="px-2.5 py-2 cursor-pointer select-none"><div class="flex gap-1.5 items-center"> <!></div></th><th scope="col" class="px-2.5 py-2 text-right"></th></tr></thead><tbody></tbody></table></div> <div class=" text-gray-500 text-xs mt-1.5 text-right"> </div> <!>',1),ii=_('<div class="text-sm"><!></div>'),vi=_("<!> <!> <!> <!> <!> <!> <!>",1);function di(le,k){gt(k,!1);const a=()=>Xe(br,"$user",pe),I=()=>Xe(rl,"$config",pe),S=()=>Xe(s,"$i18n",pe),[pe,_e]=bt();pt.extend(Br),pt.extend(kr);const s=ht("i18n");let n=H(1),z=H(null),j=H(null),f=H(""),A=H("created_at"),E=H("asc"),B=H(null),U=H(!1),D=H(!1),K=H(!1),W=H(!1);const J=async M=>{const q=await vl(localStorage.token,M).catch(oe=>(We.error(`${oe}`),null));r(z).length===1&&r(n)>1&&p(n,r(n)-1),q&&w()},R=M=>{r(A)===M?p(E,r(E)==="asc"?"desc":"asc"):(p(A,M),p(E,"asc"))},w=async()=>{try{const M=await dl(localStorage.token,r(f),r(A),r(E),r(n)).catch(q=>(We.error(`${q}`),null));M&&(p(z,M.users),p(j,M.total))}catch(M){}};dt(()=>r(n),()=>{r(n)&&w()}),dt(()=>(r(f),r(A),r(E)),()=>{r(f)!==null&&r(A)&&r(E)&&w()}),Tt(),yt();var $=vi(),C=Fe($);Gr(C,{get show(){return r(U)},set show(M){p(U,M)},$$events:{confirm:()=>{J(r(B).id)}},$$legacy:!0});var G=v(C,2);Bl(G,{get show(){return r(D)},set show(M){p(D,M)},$$events:{save:async()=>{w()}},$$legacy:!0});var F=v(G,2);Ml(F,{get selectedUser(){return r(B)},get sessionUser(){return a()},get show(){return r(W)},set show(M){p(W,M)},$$events:{save:async()=>{w()}},$$legacy:!0});var ge=v(F,2);{var re=M=>{zl(M,{get user(){return r(B)},get show(){return r(K)},set show(q){p(K,q)},$$legacy:!0})};g(ge,M=>{r(B)&&M(re)})}var ue=v(ge,2);{var he=M=>{var q=Dl(),oe=t(q);xl(oe,{className:"mx-0",banner:{type:"error",title:"License Error",content:"Exceeded the number of seats in your license. Please contact support to increase the number of seats."}}),e(q),u(M,q)};g(ue,M=>{I(),r(j),i(()=>{var q,oe,ie,O;return(((oe=(q=I())==null?void 0:q.license_metadata)==null?void 0:oe.seats)??null)!==null&&r(j)&&r(j)>((O=(ie=I())==null?void 0:ie.license_metadata)==null?void 0:O.seats)})&&M(he)})}var ye=v(ue,2);{var De=M=>{var q=Gl(),oe=t(q);Sr(oe,{className:"size-5"}),e(q),u(M,q)},Ye=M=>{var q=li(),oe=Fe(q),ie=t(oe),O=t(ie),ne=t(O,!0);e(O);var $e=v(O,4);{var Ue=T=>{var m=Nt(),se=Fe(m);{var Ne=L=>{var He=Zl(),Je=t(He),vt=v(Je),$t=t(vt,!0);e(vt),e(He),h(At=>{c(Je,`${r(j)??""} of ${I(),i(()=>{var kt,Ut;return(Ut=(kt=I())==null?void 0:kt.license_metadata)==null?void 0:Ut.seats})??""} `),c($t,At)},[()=>(S(),i(()=>S().t("available users")))]),u(L,He)},Te=L=>{var He=ql(),Je=t(He),vt=v(Je),$t=t(vt,!0);e(vt),e(He),h(At=>{c(Je,`${r(j)??""} of ${I(),i(()=>{var kt,Ut;return(Ut=(kt=I())==null?void 0:kt.license_metadata)==null?void 0:Ut.seats})??""} `),c($t,At)},[()=>(S(),i(()=>S().t("available users")))]),u(L,He)};g(se,L=>{r(j),I(),i(()=>{var He,Je;return r(j)>((Je=(He=I())==null?void 0:He.license_metadata)==null?void 0:Je.seats)})?L(Ne):L(Te,!1)})}u(T,m)},be=T=>{var m=Hl(),se=t(m,!0);e(m),h(()=>c(se,r(j))),u(T,m)};g($e,T=>{I(),i(()=>{var m,se;return(((se=(m=I())==null?void 0:m.license_metadata)==null?void 0:se.seats)??null)!==null})?T(Ue):T(be,!1)})}e(ie);var fe=v(ie,2),Ge=t(fe),ke=t(Ge),je=v(t(ke),2);Lt(je),e(ke);var qe=v(ke,2),Ze=t(qe);{let T=at(()=>(S(),i(()=>S().t("Add User"))));Ft(Ze,{get content(){return r(T)},children:(m,se)=>{var Ne=Rl(),Te=t(Ne);qr(Te,{className:"size-3.5"}),e(Ne),de("click",Ne,()=>{p(D,!r(D))}),u(m,Ne)},$$slots:{default:!0}})}e(qe),e(Ge),e(fe),e(oe);var Le=v(oe,2),Ce=t(Le),Ie=t(Ce),Q=t(Ie),Z=t(Q),ee=t(Z),X=t(ee),Pe=v(X);{var Oe=T=>{var m=Wl(),se=t(m);{var Ne=L=>{Pt(L,{className:"size-2"})},Te=L=>{ia(L,{className:"size-2"})};g(se,L=>{r(E)==="asc"?L(Ne):L(Te,!1)})}e(m),u(T,m)},Ve=T=>{var m=Fl(),se=t(m);Pt(se,{className:"size-2"}),e(m),u(T,m)};g(Pe,T=>{r(A)==="role"?T(Oe):T(Ve,!1)})}e(ee),e(Z);var P=v(Z),N=t(P),Y=t(N),ce=v(Y);{var me=T=>{var m=Yl(),se=t(m);{var Ne=L=>{Pt(L,{className:"size-2"})},Te=L=>{ia(L,{className:"size-2"})};g(se,L=>{r(E)==="asc"?L(Ne):L(Te,!1)})}e(m),u(T,m)},ve=T=>{var m=Ol(),se=t(m);Pt(se,{className:"size-2"}),e(m),u(T,m)};g(ce,T=>{r(A)==="name"?T(me):T(ve,!1)})}e(N),e(P);var te=v(P),Ke=t(te),ct=t(Ke),ut=v(ct);{var xe=T=>{var m=Vl(),se=t(m);{var Ne=L=>{Pt(L,{className:"size-2"})},Te=L=>{ia(L,{className:"size-2"})};g(se,L=>{r(E)==="asc"?L(Ne):L(Te,!1)})}e(m),u(T,m)},Se=T=>{var m=Kl(),se=t(m);Pt(se,{className:"size-2"}),e(m),u(T,m)};g(ut,T=>{r(A)==="email"?T(xe):T(Se,!1)})}e(Ke),e(te);var Be=v(te),ot=t(Be),Qe=t(ot),lt=v(Qe);{var it=T=>{var m=Xl(),se=t(m);{var Ne=L=>{Pt(L,{className:"size-2"})},Te=L=>{ia(L,{className:"size-2"})};g(se,L=>{r(E)==="asc"?L(Ne):L(Te,!1)})}e(m),u(T,m)},ft=T=>{var m=Jl(),se=t(m);Pt(se,{className:"size-2"}),e(m),u(T,m)};g(lt,T=>{r(A)==="last_active_at"?T(it):T(ft,!1)})}e(ot),e(Be);var et=v(Be),Mt=t(et),zt=t(Mt),Bt=v(zt);{var Dt=T=>{var m=Ql(),se=t(m);{var Ne=L=>{Pt(L,{className:"size-2"})},Te=L=>{ia(L,{className:"size-2"})};g(se,L=>{r(E)==="asc"?L(Ne):L(Te,!1)})}e(m),u(T,m)},ha=T=>{var m=ei(),se=t(m);Pt(se,{className:"size-2"}),e(m),u(T,m)};g(Bt,T=>{r(A)==="created_at"?T(Dt):T(ha,!1)})}e(Mt),e(et),al(),e(Q),e(Ie);var ua=v(Ie);ga(ua,5,()=>r(z),$r,(T,m,se,Ne)=>{var Te=si(),L=t(Te),He=t(L),Je=t(He);{let Re=at(()=>(r(m),i(()=>r(m).role==="admin"?"info":r(m).role==="user"?"success":"muted"))),tt=at(()=>(S(),r(m),i(()=>S().t(r(m).role))));Zr(Je,{get type(){return r(Re)},get content(){return r(tt)}})}e(He),e(L);var vt=v(L),$t=t(vt),At=t($t),kt=v(At,2),Ut=t(kt,!0);e(kt),e($t),e(vt);var Jt=v(vt),Qt=t(Jt,!0);e(Jt);var Gt=v(Jt),ea=t(Gt,!0);e(Gt);var ta=v(Gt),ya=t(ta,!0);e(ta);var fa=v(ta),xa=t(fa),Yt=t(xa);{var aa=Re=>{{let tt=at(()=>(S(),i(()=>S().t("Chats"))));Ft(Re,{get content(){return r(tt)},children:(Ct,Et)=>{var xt=ti(),ka=t(xt);Sl(ka,{}),e(xt),de("click",xt,async()=>{p(K,!r(K)),p(B,r(m))}),u(Ct,xt)},$$slots:{default:!0}})}};g(Yt,Re=>{I(),r(m),i(()=>I().features.enable_admin_chat_access&&r(m).role!=="admin")&&Re(aa)})}var Ot=v(Yt,2);{let Re=at(()=>(S(),i(()=>S().t("Edit User"))));Ft(Ot,{get content(){return r(Re)},children:(tt,Ct)=>{var Et=ai();de("click",Et,async()=>{p(W,!r(W)),p(B,r(m))}),u(tt,Et)},$$slots:{default:!0}})}var ba=v(Ot,2);{var $a=Re=>{{let tt=at(()=>(S(),i(()=>S().t("Delete User"))));Ft(Re,{get content(){return r(tt)},children:(Ct,Et)=>{var xt=ri();de("click",xt,async()=>{p(U,!0),p(B,r(m))}),u(Ct,xt)},$$slots:{default:!0}})}};g(ba,Re=>{r(m),i(()=>r(m).role!=="admin")&&Re($a)})}e(xa),e(fa),e(Te),h((Re,tt,Ct)=>{st(At,"src",Re),c(Ut,(r(m),i(()=>r(m).name))),c(Qt,(r(m),i(()=>r(m).email))),c(ea,tt),c(ya,Ct)},[()=>(r(m),x(pa),i(()=>{var Re,tt;return(tt=(Re=r(m))==null?void 0:Re.profile_image_url)!=null&&tt.startsWith(pa)||r(m).profile_image_url.startsWith("https://www.gravatar.com/avatar/")||r(m).profile_image_url.startsWith("data:")?r(m).profile_image_url:`${pa}/user.png`})),()=>(x(pt),r(m),i(()=>pt(r(m).last_active_at*1e3).fromNow())),()=>(x(pt),r(m),i(()=>pt(r(m).created_at*1e3).format("LL")))]),de("click",He,()=>{p(B,r(m)),p(W,!r(W))}),u(T,Te)}),e(ua),e(Ce),e(Le);var Vt=v(Le,2),wa=t(Vt);e(Vt);var Kt=v(Vt,2);{var Xt=T=>{cl(T,{get count(){return r(j)},perPage:30,get page(){return r(n)},set page(m){p(n,m)},$$legacy:!0})};g(Kt,T=>{r(j)>30&&T(Xt)})}h((T,m,se,Ne,Te,L,He,Je)=>{c(ne,T),st(je,"placeholder",m),c(X,`${se??""} `),c(Y,`${Ne??""} `),c(ct,`${Te??""} `),c(Qe,`${L??""} `),c(zt,`${He??""} `),c(wa,`â“˜ ${Je??""}`)},[()=>(S(),i(()=>S().t("Users"))),()=>(S(),i(()=>S().t("Search"))),()=>(S(),i(()=>S().t("Role"))),()=>(S(),i(()=>S().t("Name"))),()=>(S(),i(()=>S().t("Email"))),()=>(S(),i(()=>S().t("Last Active"))),()=>(S(),i(()=>S().t("Created at"))),()=>(S(),i(()=>S().t("Click on the user role button to change a user's role.")))]),It(je,()=>r(f),T=>p(f,T)),de("click",Z,()=>R("role")),de("click",P,()=>R("name")),de("click",te,()=>R("email")),de("click",Be,()=>R("last_active_at")),de("click",et,()=>R("created_at")),u(M,q)};g(ye,M=>{r(z)===null||r(j)===null?M(De):M(Ye,!1)})}var Ae=v(ye,2);{var Ee=M=>{var q=Nt(),oe=Fe(q);{var ie=O=>{var ne=ii(),$e=t(ne);_l($e,{content:`
> [!NOTE]
> # **Hey there! ðŸ‘‹**
>
> It looks like you have over 50 users, that usually falls under organizational usage.
> 
> Open WebUI is completely free to use as-is, with no restrictions or hidden limits, and we'd love to keep it that way. ðŸŒ±  
>
> By supporting the project through sponsorship or an enterprise license, youâ€™re not only helping us stay independent, youâ€™re also helping us ship new features faster, improve stability, and grow the project for the long haul. With an *enterprise license*, you also get additional perks like dedicated support, customization options, and more, all at a fraction of what it would cost to build and maintain internally.  
> 
> Your support helps us stay independent and continue building great tools for everyone. ðŸ’›
> 
> - ðŸ‘‰ **[Click here to learn more about enterprise licensing](https://docs.openwebui.com/enterprise)**
> - ðŸ‘‰ *[Click here to sponsor the project on GitHub](https://github.com/sponsors/tjbck)*
`}),e(ne),u(O,ne)};g(oe,O=>{r(j)>50&&O(ie)})}u(M,q)};g(Ae,M=>{I(),i(()=>{var q;return!((q=I())!=null&&q.license_metadata)})&&M(Ee)})}u(le,$),wt(),_e()}var oi=oa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"></path></svg>');function ni(le,k){let a=V(k,"className",8,"size-4");var I=oi();h(()=>rt(I,0,ca(a()))),u(le,I)}var ci=_('<div class="flex gap-2"><div class="flex flex-col w-full"><div class=" mb-0.5 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off" required/></div></div></div> <div class="flex flex-col w-full mt-2"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><!></div></div>',1);function ui(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt(),pe=ht("i18n");let _e=V(k,"name",12,"");V(k,"color",8,"");let s=V(k,"description",12,"");yt();var n=ci(),z=Fe(n),j=t(z),f=t(j),A=t(f,!0);e(f);var E=v(f,2),B=t(E);Lt(B),e(E),e(j),e(z);var U=v(z,2),D=t(U),K=t(D,!0);e(D);var W=v(D,2),J=t(W);{let R=at(()=>(a(),i(()=>a().t("Group Description"))));pl(J,{className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:4,get placeholder(){return r(R)},get value(){return s()},set value(w){s(w)},$$legacy:!0})}e(W),e(U),h((R,w,$)=>{c(A,R),st(B,"placeholder",w),c(K,$)},[()=>(a(),i(()=>a().t("Name"))),()=>(a(),i(()=>a().t("Group Name"))),()=>(a(),i(()=>a().t("Description")))]),It(B,_e),u(le,n),wt(),S()}var fi=_('<div><div class="text-xs text-gray-500"> </div></div>'),xi=_('<div><div class="text-xs text-gray-500"> </div></div>'),_i=_('<div><div class="text-xs text-gray-500"> </div></div>'),mi=_('<div class=" self-center text-xs font-medium"> </div> <!>',1),pi=_('<div><div class="text-xs text-gray-500"> </div></div>'),gi=_('<div><div class="text-xs text-gray-500"> </div></div>'),hi=_('<div><div class="text-xs text-gray-500"> </div></div>'),wi=_('<div><div class="text-xs text-gray-500"> </div></div>'),yi=_('<div><div class="text-xs text-gray-500"> </div></div>'),bi=_('<div><div class="text-xs text-gray-500"> </div></div>'),$i=_('<div><div class="text-xs text-gray-500"> </div></div>'),ki=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ci=_('<div><div class="text-xs text-gray-500"> </div></div>'),Pi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Si=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ui=_('<div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div>',1),ji=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ni=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ti=_('<div><div class="text-xs text-gray-500"> </div></div>'),Mi=_('<div><div class="text-xs text-gray-500"> </div></div>'),zi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ai=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ei=_('<div><div class="text-xs text-gray-500"> </div></div>'),Li=_('<div><div class="text-xs text-gray-500"> </div></div>'),Ii=_('<div><div class="text-xs text-gray-500"> </div></div>'),Bi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Di=_('<div><div class="text-xs text-gray-500"> </div></div>'),Gi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Zi=_('<div><div class="text-xs text-gray-500"> </div></div>'),qi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Hi=_('<div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div>'),Ri=_('<div><div class="text-xs text-gray-500"> </div></div>'),Wi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Fi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Yi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Oi=_('<div><div class="text-xs text-gray-500"> </div></div>'),Vi=_('<div class="space-y-2"><div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><!> <!></div></div> <hr class=" border-gray-100 dark:border-gray-850"/> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div></div> <hr class=" border-gray-100 dark:border-gray-850"/> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <!> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <!></div> <hr class=" border-gray-100 dark:border-gray-850"/> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div> <div class="flex flex-col w-full"><div class="flex w-full justify-between my-1"><div class=" self-center text-xs font-medium"> </div> <!></div> <!></div></div></div>');function Ki(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt(),pe=ht("i18n"),_e={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},sharing:{public_models:!1,public_knowledge:!1,public_prompts:!1,public_tools:!1,public_notes:!1},chat:{controls:!0,valves:!0,system_prompt:!0,params:!0,file_upload:!0,delete:!0,delete_message:!0,continue_response:!0,regenerate_response:!0,rate_response:!0,edit:!0,share:!0,export:!0,stt:!0,tts:!0,call:!0,multiple_models:!0,temporary:!0,temporary_enforced:!1},features:{direct_tool_servers:!1,web_search:!0,image_generation:!0,code_interpreter:!0,notes:!0}};let s=V(k,"permissions",28,()=>({})),n=V(k,"defaultPermissions",24,()=>({}));function z(d,l){return{...l,...d,workspace:{...l.workspace,...d.workspace},sharing:{...l.sharing,...d.sharing},chat:{...l.chat,...d.chat},features:{...l.features,...d.features}}}na(()=>{s(z(s(),_e))}),dt(()=>x(s()),()=>{s(z(s(),_e))}),Tt(),yt();var j=Vi(),f=t(j),A=t(f),E=t(A,!0);e(A);var B=v(A,2),U=t(B),D=t(U),K=t(D,!0);e(D);var W=v(D,2);ae(W,{get state(){return s().workspace.models},set state(d){s(s().workspace.models=d,!0)},$$legacy:!0}),e(U);var J=v(U,2);{var R=d=>{var l=fi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(J,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.workspace)==null?void 0:o.models)&&!s().workspace.models})&&d(R)})}e(B);var w=v(B,2),$=t(w),C=t($),G=t(C,!0);e(C);var F=v(C,2);ae(F,{get state(){return s().workspace.knowledge},set state(d){s(s().workspace.knowledge=d,!0)},$$legacy:!0}),e($);var ge=v($,2);{var re=d=>{var l=xi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(ge,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.workspace)==null?void 0:o.knowledge)&&!s().workspace.knowledge})&&d(re)})}e(w);var ue=v(w,2),he=t(ue),ye=t(he),De=t(ye,!0);e(ye);var Ye=v(ye,2);ae(Ye,{get state(){return s().workspace.prompts},set state(d){s(s().workspace.prompts=d,!0)},$$legacy:!0}),e(he);var Ae=v(he,2);{var Ee=d=>{var l=_i(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Ae,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.workspace)==null?void 0:o.prompts)&&!s().workspace.prompts})&&d(Ee)})}e(ue);var M=v(ue,2),q=t(M);{let d=at(()=>(a(),i(()=>a().t("Warning: Enabling this will allow users to upload arbitrary code on the server."))));Ft(q,{className:"flex w-full justify-between my-1",get content(){return r(d)},placement:"top-start",children:(l,o)=>{var y=mi(),b=Fe(y),Zt=t(b,!0);e(b);var qt=v(b,2);ae(qt,{get state(){return s().workspace.tools},set state(jt){s(s().workspace.tools=jt,!0)},$$legacy:!0}),h(jt=>c(Zt,jt),[()=>(a(),i(()=>a().t("Tools Access")))]),u(l,y)},$$slots:{default:!0}})}var oe=v(q,2);{var ie=d=>{var l=pi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(oe,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.workspace)==null?void 0:o.tools)&&!s().workspace.tools})&&d(ie)})}e(M),e(f);var O=v(f,4),ne=t(O),$e=t(ne,!0);e(ne);var Ue=v(ne,2),be=t(Ue),fe=t(be),Ge=t(fe,!0);e(fe);var ke=v(fe,2);ae(ke,{get state(){return s().sharing.public_models},set state(d){s(s().sharing.public_models=d,!0)},$$legacy:!0}),e(be);var je=v(be,2);{var qe=d=>{var l=gi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(je,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.sharing)==null?void 0:o.public_models)&&!s().sharing.public_models})&&d(qe)})}e(Ue);var Ze=v(Ue,2),Le=t(Ze),Ce=t(Le),Ie=t(Ce,!0);e(Ce);var Q=v(Ce,2);ae(Q,{get state(){return s().sharing.public_knowledge},set state(d){s(s().sharing.public_knowledge=d,!0)},$$legacy:!0}),e(Le);var Z=v(Le,2);{var ee=d=>{var l=hi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Z,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.sharing)==null?void 0:o.public_knowledge)&&!s().sharing.public_knowledge})&&d(ee)})}e(Ze);var X=v(Ze,2),Pe=t(X),Oe=t(Pe),Ve=t(Oe,!0);e(Oe);var P=v(Oe,2);ae(P,{get state(){return s().sharing.public_prompts},set state(d){s(s().sharing.public_prompts=d,!0)},$$legacy:!0}),e(Pe);var N=v(Pe,2);{var Y=d=>{var l=wi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(N,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.sharing)==null?void 0:o.public_prompts)&&!s().sharing.public_prompts})&&d(Y)})}e(X);var ce=v(X,2),me=t(ce),ve=t(me),te=t(ve,!0);e(ve);var Ke=v(ve,2);ae(Ke,{get state(){return s().sharing.public_tools},set state(d){s(s().sharing.public_tools=d,!0)},$$legacy:!0}),e(me);var ct=v(me,2);{var ut=d=>{var l=yi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(ct,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.sharing)==null?void 0:o.public_tools)&&!s().sharing.public_tools})&&d(ut)})}e(ce);var xe=v(ce,2),Se=t(xe),Be=t(Se),ot=t(Be,!0);e(Be);var Qe=v(Be,2);ae(Qe,{get state(){return s().sharing.public_notes},set state(d){s(s().sharing.public_notes=d,!0)},$$legacy:!0}),e(Se);var lt=v(Se,2);{var it=d=>{var l=bi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(lt,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.sharing)==null?void 0:o.public_notes)&&!s().sharing.public_notes})&&d(it)})}e(xe),e(O);var ft=v(O,4),et=t(ft),Mt=t(et,!0);e(et);var zt=v(et,2),Bt=t(zt),Dt=t(Bt),ha=t(Dt,!0);e(Dt);var ua=v(Dt,2);ae(ua,{get state(){return s().chat.file_upload},set state(d){s(s().chat.file_upload=d,!0)},$$legacy:!0}),e(Bt);var Vt=v(Bt,2);{var wa=d=>{var l=$i(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Vt,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.file_upload)&&!s().chat.file_upload})&&d(wa)})}e(zt);var Kt=v(zt,2),Xt=t(Kt),T=t(Xt),m=t(T,!0);e(T);var se=v(T,2);ae(se,{get state(){return s().chat.controls},set state(d){s(s().chat.controls=d,!0)},$$legacy:!0}),e(Xt);var Ne=v(Xt,2);{var Te=d=>{var l=ki(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Ne,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.controls)&&!s().chat.controls})&&d(Te)})}e(Kt);var L=v(Kt,2);{var He=d=>{var l=Ui(),o=Fe(l),y=t(o),b=t(y),Zt=t(b,!0);e(b);var qt=v(b,2);ae(qt,{get state(){return s().chat.valves},set state(Me){s(s().chat.valves=Me,!0)},$$legacy:!0}),e(y);var jt=v(y,2);{var _t=Me=>{var we=Ci(),ze=t(we),Rt=t(ze,!0);e(ze),e(we),h(Wt=>c(Rt,Wt),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(Me,we)};g(jt,Me=>{x(n()),x(s()),i(()=>{var we,ze;return((ze=(we=n())==null?void 0:we.chat)==null?void 0:ze.valves)&&!s().chat.valves})&&Me(_t)})}e(o);var nt=v(o,2),mt=t(nt),Ht=t(mt),ra=t(Ht,!0);e(Ht);var fr=v(Ht,2);ae(fr,{get state(){return s().chat.system_prompt},set state(Me){s(s().chat.system_prompt=Me,!0)},$$legacy:!0}),e(mt);var xr=v(mt,2);{var _r=Me=>{var we=Pi(),ze=t(we),Rt=t(ze,!0);e(ze),e(we),h(Wt=>c(Rt,Wt),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(Me,we)};g(xr,Me=>{x(n()),x(s()),i(()=>{var we,ze;return((ze=(we=n())==null?void 0:we.chat)==null?void 0:ze.system_prompt)&&!s().chat.system_prompt})&&Me(_r)})}e(nt);var _a=v(nt,2),sa=t(_a),la=t(sa),mr=t(la,!0);e(la);var pr=v(la,2);ae(pr,{get state(){return s().chat.params},set state(Me){s(s().chat.params=Me,!0)},$$legacy:!0}),e(sa);var gr=v(sa,2);{var hr=Me=>{var we=Si(),ze=t(we),Rt=t(ze,!0);e(ze),e(we),h(Wt=>c(Rt,Wt),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(Me,we)};g(gr,Me=>{x(n()),x(s()),i(()=>{var we,ze;return((ze=(we=n())==null?void 0:we.chat)==null?void 0:ze.params)&&!s().chat.params})&&Me(hr)})}e(_a),h((Me,we,ze)=>{c(Zt,Me),c(ra,we),c(mr,ze)},[()=>(a(),i(()=>a().t("Allow Chat Valves"))),()=>(a(),i(()=>a().t("Allow Chat System Prompt"))),()=>(a(),i(()=>a().t("Allow Chat Params")))]),u(d,l)};g(L,d=>{x(s()),i(()=>s().chat.controls)&&d(He)})}var Je=v(L,2),vt=t(Je),$t=t(vt),At=t($t,!0);e($t);var kt=v($t,2);ae(kt,{get state(){return s().chat.edit},set state(d){s(s().chat.edit=d,!0)},$$legacy:!0}),e(vt);var Ut=v(vt,2);{var Jt=d=>{var l=ji(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Ut,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.edit)&&!s().chat.edit})&&d(Jt)})}e(Je);var Qt=v(Je,2),Gt=t(Qt),ea=t(Gt),ta=t(ea,!0);e(ea);var ya=v(ea,2);ae(ya,{get state(){return s().chat.delete},set state(d){s(s().chat.delete=d,!0)},$$legacy:!0}),e(Gt);var fa=v(Gt,2);{var xa=d=>{var l=Ni(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(fa,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.delete)&&!s().chat.delete})&&d(xa)})}e(Qt);var Yt=v(Qt,2),aa=t(Yt),Ot=t(aa),ba=t(Ot,!0);e(Ot);var $a=v(Ot,2);ae($a,{get state(){return s().chat.delete_message},set state(d){s(s().chat.delete_message=d,!0)},$$legacy:!0}),e(aa);var Re=v(aa,2);{var tt=d=>{var l=Ti(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Re,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.delete_message)&&!s().chat.delete_message})&&d(tt)})}e(Yt);var Ct=v(Yt,2),Et=t(Ct),xt=t(Et),ka=t(xt,!0);e(xt);var Rr=v(xt,2);ae(Rr,{get state(){return s().chat.continue_response},set state(d){s(s().chat.continue_response=d,!0)},$$legacy:!0}),e(Et);var Wr=v(Et,2);{var Fr=d=>{var l=Mi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Wr,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.continue_response)&&!s().chat.continue_response})&&d(Fr)})}e(Ct);var Ca=v(Ct,2),Pa=t(Ca),Sa=t(Pa),Yr=t(Sa,!0);e(Sa);var Or=v(Sa,2);ae(Or,{get state(){return s().chat.regenerate_response},set state(d){s(s().chat.regenerate_response=d,!0)},$$legacy:!0}),e(Pa);var Vr=v(Pa,2);{var Kr=d=>{var l=zi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Vr,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.regenerate_response)&&!s().chat.regenerate_response})&&d(Kr)})}e(Ca);var Ua=v(Ca,2),ja=t(Ua),Na=t(ja),Xr=t(Na,!0);e(Na);var Jr=v(Na,2);ae(Jr,{get state(){return s().chat.rate_response},set state(d){s(s().chat.rate_response=d,!0)},$$legacy:!0}),e(ja);var Qr=v(ja,2);{var es=d=>{var l=Ai(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Qr,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.rate_response)&&!s().chat.rate_response})&&d(es)})}e(Ua);var Ta=v(Ua,2),Ma=t(Ta),za=t(Ma),ts=t(za,!0);e(za);var as=v(za,2);ae(as,{get state(){return s().chat.share},set state(d){s(s().chat.share=d,!0)},$$legacy:!0}),e(Ma);var rs=v(Ma,2);{var ss=d=>{var l=Ei(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(rs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.share)&&!s().chat.share})&&d(ss)})}e(Ta);var Aa=v(Ta,2),Ea=t(Aa),La=t(Ea),ls=t(La,!0);e(La);var is=v(La,2);ae(is,{get state(){return s().chat.export},set state(d){s(s().chat.export=d,!0)},$$legacy:!0}),e(Ea);var vs=v(Ea,2);{var ds=d=>{var l=Li(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(vs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.export)&&!s().chat.export})&&d(ds)})}e(Aa);var Ia=v(Aa,2),Ba=t(Ia),Da=t(Ba),os=t(Da,!0);e(Da);var ns=v(Da,2);ae(ns,{get state(){return s().chat.stt},set state(d){s(s().chat.stt=d,!0)},$$legacy:!0}),e(Ba);var cs=v(Ba,2);{var us=d=>{var l=Ii(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(cs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.stt)&&!s().chat.stt})&&d(us)})}e(Ia);var Ga=v(Ia,2),Za=t(Ga),qa=t(Za),fs=t(qa,!0);e(qa);var xs=v(qa,2);ae(xs,{get state(){return s().chat.tts},set state(d){s(s().chat.tts=d,!0)},$$legacy:!0}),e(Za);var _s=v(Za,2);{var ms=d=>{var l=Bi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(_s,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.tts)&&!s().chat.tts})&&d(ms)})}e(Ga);var Ha=v(Ga,2),Ra=t(Ha),Wa=t(Ra),ps=t(Wa,!0);e(Wa);var gs=v(Wa,2);ae(gs,{get state(){return s().chat.call},set state(d){s(s().chat.call=d,!0)},$$legacy:!0}),e(Ra);var hs=v(Ra,2);{var ws=d=>{var l=Di(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(hs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.call)&&!s().chat.call})&&d(ws)})}e(Ha);var Fa=v(Ha,2),Ya=t(Fa),Oa=t(Ya),ys=t(Oa,!0);e(Oa);var bs=v(Oa,2);ae(bs,{get state(){return s().chat.multiple_models},set state(d){s(s().chat.multiple_models=d,!0)},$$legacy:!0}),e(Ya);var $s=v(Ya,2);{var ks=d=>{var l=Gi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g($s,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.multiple_models)&&!s().chat.multiple_models})&&d(ks)})}e(Fa);var Va=v(Fa,2),Ka=t(Va),Xa=t(Ka),Cs=t(Xa,!0);e(Xa);var Ps=v(Xa,2);ae(Ps,{get state(){return s().chat.temporary},set state(d){s(s().chat.temporary=d,!0)},$$legacy:!0}),e(Ka);var Ss=v(Ka,2);{var Us=d=>{var l=Zi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Ss,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.chat)==null?void 0:o.temporary)&&!s().chat.temporary})&&d(Us)})}e(Va);var js=v(Va,2);{var Ns=d=>{var l=Hi(),o=t(l),y=t(o),b=t(y,!0);e(y);var Zt=v(y,2);ae(Zt,{get state(){return s().chat.temporary_enforced},set state(_t){s(s().chat.temporary_enforced=_t,!0)},$$legacy:!0}),e(o);var qt=v(o,2);{var jt=_t=>{var nt=qi(),mt=t(nt),Ht=t(mt,!0);e(mt),e(nt),h(ra=>c(Ht,ra),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(_t,nt)};g(qt,_t=>{x(n()),x(s()),i(()=>{var nt,mt;return((mt=(nt=n())==null?void 0:nt.chat)==null?void 0:mt.temporary_enforced)&&!s().chat.temporary_enforced})&&_t(jt)})}e(l),h(_t=>c(b,_t),[()=>(a(),i(()=>a().t("Enforce Temporary Chat")))]),u(d,l)};g(js,d=>{x(s()),i(()=>s().chat.temporary)&&d(Ns)})}e(ft);var Ur=v(ft,4),Ja=t(Ur),Ts=t(Ja,!0);e(Ja);var Qa=v(Ja,2),er=t(Qa),tr=t(er),Ms=t(tr,!0);e(tr);var zs=v(tr,2);ae(zs,{get state(){return s().features.direct_tool_servers},set state(d){s(s().features.direct_tool_servers=d,!0)},$$legacy:!0}),e(er);var As=v(er,2);{var Es=d=>{var l=Ri(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(As,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.features)==null?void 0:o.direct_tool_servers)&&!s().features.direct_tool_servers})&&d(Es)})}e(Qa);var ar=v(Qa,2),rr=t(ar),sr=t(rr),Ls=t(sr,!0);e(sr);var Is=v(sr,2);ae(Is,{get state(){return s().features.web_search},set state(d){s(s().features.web_search=d,!0)},$$legacy:!0}),e(rr);var Bs=v(rr,2);{var Ds=d=>{var l=Wi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Bs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.features)==null?void 0:o.web_search)&&!s().features.web_search})&&d(Ds)})}e(ar);var lr=v(ar,2),ir=t(lr),vr=t(ir),Gs=t(vr,!0);e(vr);var Zs=v(vr,2);ae(Zs,{get state(){return s().features.image_generation},set state(d){s(s().features.image_generation=d,!0)},$$legacy:!0}),e(ir);var qs=v(ir,2);{var Hs=d=>{var l=Fi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(qs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.features)==null?void 0:o.image_generation)&&!s().features.image_generation})&&d(Hs)})}e(lr);var dr=v(lr,2),or=t(dr),nr=t(or),Rs=t(nr,!0);e(nr);var Ws=v(nr,2);ae(Ws,{get state(){return s().features.code_interpreter},set state(d){s(s().features.code_interpreter=d,!0)},$$legacy:!0}),e(or);var Fs=v(or,2);{var Ys=d=>{var l=Yi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Fs,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.features)==null?void 0:o.code_interpreter)&&!s().features.code_interpreter})&&d(Ys)})}e(dr);var jr=v(dr,2),cr=t(jr),ur=t(cr),Os=t(ur,!0);e(ur);var Vs=v(ur,2);ae(Vs,{get state(){return s().features.notes},set state(d){s(s().features.notes=d,!0)},$$legacy:!0}),e(cr);var Ks=v(cr,2);{var Xs=d=>{var l=Oi(),o=t(l),y=t(o,!0);e(o),e(l),h(b=>c(y,b),[()=>(a(),i(()=>a().t("This is a default user permission and will remain enabled.")))]),u(d,l)};g(Ks,d=>{x(n()),x(s()),i(()=>{var l,o;return((o=(l=n())==null?void 0:l.features)==null?void 0:o.notes)&&!s().features.notes})&&d(Xs)})}e(jr),e(Ur),e(j),h((d,l,o,y,b,Zt,qt,jt,_t,nt,mt,Ht,ra,fr,xr,_r,_a,sa,la,mr,pr,gr,hr,Me,we,ze,Rt,Wt,Js,Qs,el,tl)=>{c(E,d),c(K,l),c(G,o),c(De,y),c($e,b),c(Ge,Zt),c(Ie,qt),c(Ve,jt),c(te,_t),c(ot,nt),c(Mt,mt),c(ha,Ht),c(m,ra),c(At,fr),c(ta,xr),c(ba,_r),c(ka,_a),c(Yr,sa),c(Xr,la),c(ts,mr),c(ls,pr),c(os,gr),c(fs,hr),c(ps,Me),c(ys,we),c(Cs,ze),c(Ts,Rt),c(Ms,Wt),c(Ls,Js),c(Gs,Qs),c(Rs,el),c(Os,tl)},[()=>(a(),i(()=>a().t("Workspace Permissions"))),()=>(a(),i(()=>a().t("Models Access"))),()=>(a(),i(()=>a().t("Knowledge Access"))),()=>(a(),i(()=>a().t("Prompts Access"))),()=>(a(),i(()=>a().t("Sharing Permissions"))),()=>(a(),i(()=>a().t("Models Public Sharing"))),()=>(a(),i(()=>a().t("Knowledge Public Sharing"))),()=>(a(),i(()=>a().t("Prompts Public Sharing"))),()=>(a(),i(()=>a().t("Tools Public Sharing"))),()=>(a(),i(()=>a().t("Notes Public Sharing"))),()=>(a(),i(()=>a().t("Chat Permissions"))),()=>(a(),i(()=>a().t("Allow File Upload"))),()=>(a(),i(()=>a().t("Allow Chat Controls"))),()=>(a(),i(()=>a().t("Allow Chat Edit"))),()=>(a(),i(()=>a().t("Allow Chat Delete"))),()=>(a(),i(()=>a().t("Allow Delete Messages"))),()=>(a(),i(()=>a().t("Allow Continue Response"))),()=>(a(),i(()=>a().t("Allow Regenerate Response"))),()=>(a(),i(()=>a().t("Allow Rate Response"))),()=>(a(),i(()=>a().t("Allow Chat Share"))),()=>(a(),i(()=>a().t("Allow Chat Export"))),()=>(a(),i(()=>a().t("Allow Speech to Text"))),()=>(a(),i(()=>a().t("Allow Text to Speech"))),()=>(a(),i(()=>a().t("Allow Call"))),()=>(a(),i(()=>a().t("Allow Multiple Models in Chat"))),()=>(a(),i(()=>a().t("Allow Temporary Chat"))),()=>(a(),i(()=>a().t("Features Permissions"))),()=>(a(),i(()=>a().t("Direct Tool Servers"))),()=>(a(),i(()=>a().t("Web Search"))),()=>(a(),i(()=>a().t("Image Generation"))),()=>(a(),i(()=>a().t("Code Interpreter"))),()=>(a(),i(()=>a().t("Notes")))]),u(le,j),wt(),S()}var Xi=_('<div class="flex"><div class=" font-medium self-center truncate"> </div></div>'),Ji=_('<div class="flex flex-row items-center gap-3 w-full text-sm"><div class="flex items-center"><!></div> <div class="flex w-full items-center justify-between overflow-hidden"><!> <!></div></div>'),Qi=_('<div class="text-gray-500 text-xs text-center py-2 px-10"> </div>'),ev=_('<div><div class="flex w-full"><div class="flex flex-1"><div class=" self-center mr-3"><!></div> <input class=" w-full text-sm pr-4 rounded-r-xl outline-hidden bg-transparent"/></div></div> <div class="mt-3 scrollbar-hidden"><div class="flex flex-col gap-2.5"><!></div></div></div>');function tv(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt(),pe=ht("i18n");let _e=V(k,"users",24,()=>[]),s=V(k,"userIds",28,()=>[]),n=H([]),z=H("");dt(()=>(x(_e()),r(z),x(s())),()=>{p(n,_e().filter(w=>r(z)===""?!0:w.name.toLowerCase().includes(r(z).toLowerCase())||w.email.toLowerCase().includes(r(z).toLowerCase())).sort((w,$)=>{const C=s().indexOf(w.id),G=s().indexOf($.id);return C!==-1&&G===-1?-1:G!==-1&&C===-1?1:C!==-1&&G!==-1?C-G:w.name.localeCompare($.name)}))}),Tt(),yt();var j=ev(),f=t(j),A=t(f),E=t(A),B=t(E);Hr(B,{}),e(E);var U=v(E,2);Lt(U),e(A),e(f);var D=v(f,2),K=t(D),W=t(K);{var J=w=>{var $=Nt(),C=Fe($);ga(C,3,()=>r(n),G=>G.id,(G,F)=>{var ge=Ji(),re=t(ge),ue=t(re);{let Ae=at(()=>(x(s()),r(F),i(()=>s().includes(r(F).id)?"checked":"unchecked")));gl(ue,{get state(){return r(Ae)},$$events:{change:Ee=>{Ee.detail==="checked"?s([...s(),r(F).id]):s(s().filter(M=>M!==r(F).id))}}})}e(re);var he=v(re,2),ye=t(he);Ft(ye,{get content(){return r(F),i(()=>r(F).email)},placement:"top-start",children:(Ae,Ee)=>{var M=Xi(),q=t(M),oe=t(q,!0);e(q),e(M),h(()=>c(oe,(r(F),i(()=>r(F).name)))),u(Ae,M)},$$slots:{default:!0}});var De=v(ye,2);{var Ye=Ae=>{Zr(Ae,{type:"success",content:"member"})};g(De,Ae=>{x(s()),r(F),i(()=>s().includes(r(F).id))&&Ae(Ye)})}e(he),e(ge),u(G,ge)}),u(w,$)},R=w=>{var $=Qi(),C=t($,!0);e($),h(G=>c(C,G),[()=>(a(),i(()=>a().t("No users were found.")))]),u(w,$)};g(W,w=>{r(n),i(()=>r(n).length>0)?w(J):w(R,!1)})}e(K),e(D),e(j),h(w=>st(U,"placeholder",w),[()=>(a(),i(()=>a().t("Search")))]),It(U,()=>r(z),w=>p(z,w)),u(le,j),wt(),S()}var av=oa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z"></path></svg>');function rv(le,k){let a=V(k,"className",8,"size-4");var I=av();h(()=>rt(I,0,ca(a()))),u(le,I)}var sv=oa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z" clip-rule="evenodd"></path></svg>');function lv(le,k){let a=V(k,"className",8,"size-4");var I=sv();h(()=>rt(I,0,ca(a()))),u(le,I)}var iv=_('<button type="button"><div class=" self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center"> </div></button>'),vv=_('<button type="button"><div class=" self-center mr-2"><!></div> <div class=" self-center"> </div></button>'),dv=_('<button type="button"><div class=" self-center mr-2"><!></div> <div class=" self-center"> </div></button>'),ov=_('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),nv=_("<div></div>"),cv=_('<div class="ml-2 self-center"><!></div>'),uv=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"><div class=" text-lg font-medium self-center font-primary"><!></div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class="flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"><div id="admin-settings-tabs-container" class="tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"><!> <!> <!></div> <div class="flex-1 mt-1 lg:mt-1 lg:h-[22rem] lg:max-h-[22rem] overflow-y-auto scrollbar-hidden"><!></div></div> <div class="flex justify-between pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form></div></div></div>'),fv=_("<!> <!>",1);function yr(le,k){gt(k,!1);const a=()=>Xe(pe,"$i18n",I),[I,S]=bt(),pe=ht("i18n");let _e=V(k,"onSubmit",8,()=>{}),s=V(k,"onDelete",8,()=>{}),n=V(k,"show",12,!1),z=V(k,"edit",8,!1),j=V(k,"users",24,()=>[]),f=V(k,"group",8,null),A=V(k,"defaultPermissions",24,()=>({})),E=V(k,"custom",8,!0),B=V(k,"tabs",24,()=>["general","permissions","users"]),U=H("general"),D=H(!1),K=H(!1),W=V(k,"name",12,""),J=V(k,"description",12,""),R=V(k,"permissions",28,()=>({workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},sharing:{public_models:!1,public_knowledge:!1,public_prompts:!1,public_tools:!1},chat:{controls:!0,valves:!0,system_prompt:!0,params:!0,file_upload:!0,delete:!0,delete_message:!0,continue_response:!0,regenerate_response:!0,rate_response:!0,edit:!0,share:!0,export:!0,stt:!0,tts:!0,call:!0,multiple_models:!0,temporary:!0,temporary_enforced:!1},features:{direct_tool_servers:!1,web_search:!0,image_generation:!0,code_interpreter:!0}})),w=V(k,"userIds",28,()=>[]);const $=async()=>{p(D,!0);const re={name:W(),description:J(),permissions:R(),user_ids:w()};await _e()(re),p(D,!1),n(!1)},C=()=>{var re,ue;f()&&(W(f().name),J(f().description),R(((re=f())==null?void 0:re.permissions)??{}),w(((ue=f())==null?void 0:ue.user_ids)??[]))};na(()=>{p(U,B()[0]),C()}),dt(()=>x(n()),()=>{n()&&C()}),Tt(),yt();var G=fv(),F=Fe(G);Gr(F,{get show(){return r(K)},set show(re){p(K,re)},$$events:{confirm:()=>{s()(),n(!1)}},$$legacy:!0});var ge=v(F,2);Cr(ge,{size:"md",get show(){return n()},set show(re){n(re)},children:(re,ue)=>{var he=uv(),ye=t(he),De=t(ye),Ye=t(De);{var Ae=P=>{var N=Nt(),Y=Fe(N);{var ce=ve=>{var te=va();h(Ke=>c(te,Ke),[()=>(a(),i(()=>a().t("Edit User Group")))]),u(ve,te)},me=ve=>{var te=va();h(Ke=>c(te,Ke),[()=>(a(),i(()=>a().t("Add User Group")))]),u(ve,te)};g(Y,ve=>{z()?ve(ce):ve(me,!1)})}u(P,N)},Ee=P=>{var N=va();h(Y=>c(N,Y),[()=>(a(),i(()=>a().t("Edit Default Permissions")))]),u(P,N)};g(Ye,P=>{E()?P(Ae):P(Ee,!1)})}e(De);var M=v(De,2),q=t(M);Pr(q,{className:"size-5"}),e(M),e(ye);var oe=v(ye,2),ie=t(oe),O=t(ie),ne=t(O),$e=t(ne),Ue=t($e);{var be=P=>{var N=iv(),Y=v(t(N),2),ce=t(Y,!0);e(Y),e(N),h(me=>{rt(N,1,`px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition ${r(U)==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`),c(ce,me)},[()=>(a(),i(()=>a().t("General")))]),de("click",N,()=>{p(U,"general")}),u(P,N)};g(Ue,P=>{x(B()),i(()=>B().includes("general"))&&P(be)})}var fe=v(Ue,2);{var Ge=P=>{var N=vv(),Y=t(N),ce=t(Y);lv(ce,{}),e(Y);var me=v(Y,2),ve=t(me,!0);e(me),e(N),h(te=>{rt(N,1,`px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition ${r(U)==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`),c(ve,te)},[()=>(a(),i(()=>a().t("Permissions")))]),de("click",N,()=>{p(U,"permissions")}),u(P,N)};g(fe,P=>{x(B()),i(()=>B().includes("permissions"))&&P(Ge)})}var ke=v(fe,2);{var je=P=>{var N=dv(),Y=t(N),ce=t(Y);rv(ce,{}),e(Y);var me=v(Y,2),ve=t(me);e(me),e(N),h(te=>{rt(N,1,`px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition ${r(U)==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`),c(ve,`${te??""} (${x(w()),i(()=>w().length)??""})`)},[()=>(a(),i(()=>a().t("Users")))]),de("click",N,()=>{p(U,"users")}),u(P,N)};g(ke,P=>{x(B()),i(()=>B().includes("users"))&&P(je)})}e($e);var qe=v($e,2),Ze=t(qe);{var Le=P=>{ui(P,{get name(){return W()},set name(N){W(N)},get description(){return J()},set description(N){J(N)},$$legacy:!0})},Ce=P=>{var N=Nt(),Y=Fe(N);{var ce=ve=>{Ki(ve,{get defaultPermissions(){return A()},get permissions(){return R()},set permissions(te){R(te)},$$legacy:!0})},me=ve=>{var te=Nt(),Ke=Fe(te);{var ct=ut=>{tv(ut,{get users(){return j()},get userIds(){return w()},set userIds(xe){w(xe)},$$legacy:!0})};g(Ke,ut=>{r(U)=="users"&&ut(ct)},!0)}u(ve,te)};g(Y,ve=>{r(U)=="permissions"?ve(ce):ve(me,!1)},!0)}u(P,N)};g(Ze,P=>{r(U)=="general"?P(Le):P(Ce,!1)})}e(qe),e(ne);var Ie=v(ne,2),Q=t(Ie);{var Z=P=>{var N=ov(),Y=t(N,!0);e(N),h(ce=>c(Y,ce),[()=>(a(),i(()=>a().t("Delete")))]),de("click",N,()=>{p(K,!0)}),u(P,N)},ee=P=>{var N=nv();u(P,N)};g(Q,P=>{z()?P(Z):P(ee,!1)})}var X=v(Q,2),Pe=t(X),Oe=v(Pe);{var Ve=P=>{var N=cv(),Y=t(N);Sr(Y,{}),e(N),u(P,N)};g(Oe,P=>{r(D)&&P(Ve)})}e(X),e(Ie),e(O),e(ie),e(oe),e(he),h(P=>{rt(X,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${r(D)?" cursor-not-allowed":""}`),X.disabled=r(D),c(Pe,`${P??""} `)},[()=>(a(),i(()=>a().t("Save")))]),de("click",M,()=>{n(!1)}),de("submit",O,P=>{P.preventDefault(),$()}),u(re,he)},$$slots:{default:!0},$$legacy:!0}),u(le,G),wt(),S()}var xv=_('<!> <button class="flex items-center gap-3 justify-between px-1 text-xs w-full transition"><div class="flex items-center gap-1.5 w-full font-medium flex-1"><div><!></div> <div class="line-clamp-1"> </div></div> <div class="flex items-center gap-1.5 w-fit font-medium text-right justify-end"> <div><!></div> <div class=" rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"><!></div></div></button>',1);function _v(le,k){gt(k,!1);const a=()=>Xe(_e,"$i18n",S),I=()=>Xe(Ir,"$page",S),[S,pe]=bt(),_e=ht("i18n");let s=V(k,"users",24,()=>[]),n=V(k,"group",24,()=>({name:"Admins",user_ids:[1,2,3]})),z=V(k,"defaultPermissions",24,()=>({})),j=V(k,"setGroups",8,()=>{}),f=H(!1);const A=async ue=>{await hl(localStorage.token,n().id,ue).catch(ye=>(We.error(`${ye}`),null))&&(We.success(a().t("Group updated successfully")),j()())},E=async()=>{await wl(localStorage.token,n().id).catch(he=>(We.error(`${he}`),null))&&(We.success(a().t("Group deleted successfully")),j()())};na(()=>{const ue=I().url.searchParams.get("id");ue&&ue===n().id&&p(f,!0)}),yt();var B=xv(),U=Fe(B);yr(U,{edit:!0,get users(){return s()},get group(){return n()},get defaultPermissions(){return z()},onSubmit:A,onDelete:E,get show(){return r(f)},set show(ue){p(f,ue)},$$legacy:!0});var D=v(U,2),K=t(D),W=t(K),J=t(W);$l(J,{className:"size-4"}),e(W);var R=v(W,2),w=t(R,!0);e(R),e(K);var $=v(K,2),C=t($),G=v(C),F=t(G);Cl(F,{className:"size-3.5"}),e(G);var ge=v(G,2),re=t(ge);bl(re,{className:"size-3.5"}),e(ge),e($),e(D),h(()=>{c(w,(x(n()),i(()=>n().name))),c(C,`${x(n()),i(()=>n().user_ids.length)??""} `)}),de("click",D,()=>{p(f,!0)}),u(le,B),wt(),pe()}var mv=_('<button class=" p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1"><!></button>'),pv=_('<div class="flex flex-col items-center justify-center h-40"><div class=" text-xl font-medium"> </div> <div class="mt-1 text-sm dark:text-gray-300"> </div> <div class="mt-3"><button class=" px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1"> </button></div></div>'),gv=_('<div class="my-2"><!></div>'),hv=_('<div><div class=" flex items-center gap-3 justify-between text-xs uppercase px-1 font-semibold"><div class="w-full basis-3/5"> </div> <div class="w-full basis-2/5 text-right"> </div></div> <hr class="mt-1.5 border-gray-100 dark:border-gray-850"/> <!></div>'),wv=_('<!> <div class="mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"><div class="flex md:self-center text-lg font-medium px-0.5"> <div class="flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"></div> <span class="text-lg font-medium text-gray-500 dark:text-gray-300"> </span></div> <div class="flex gap-1"><div class=" flex w-full space-x-2"><div class="flex flex-1"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"/></div> <div><!></div></div></div></div> <div><!> <hr class="mb-2 border-gray-100 dark:border-gray-850"/> <!> <button class="flex items-center justify-between rounded-lg w-full transition pt-1"><div class="flex items-center gap-2.5"><div class="p-1.5 bg-black/5 dark:bg-white/10 rounded-full"><!></div> <div class="text-left"><div class=" text-sm font-medium"> </div> <div class="flex text-xs mt-0.5"> </div></div></div> <div><!></div></button></div>',1);function yv(le,k){gt(k,!1);const a=()=>Xe(_e,"$i18n",S),I=()=>Xe(br,"$user",S),[S,pe]=bt();pt.extend(Br);const _e=ht("i18n");let s=H(!1),n=H([]),z=H([]),j=H(),f=H(""),A=H({}),E=H(!1),B=H(!1);const U=async()=>{p(z,await zr(localStorage.token))},D=async w=>{await yl(localStorage.token,w).catch(C=>(We.error(`${C}`),null))&&(We.success(a().t("Group created successfully")),p(z,await zr(localStorage.token)))},K=async w=>{w.permissions,await nl(localStorage.token,w.permissions).catch(C=>(We.error(`${C}`),null))&&(We.success(a().t("Default permissions updated successfully")),p(A,await Tr(localStorage.token)))};na(async()=>{var $;if((($=I())==null?void 0:$.role)!=="admin"){await da("/");return}const w=await ol(localStorage.token).catch(C=>(We.error(`${C}`),null));w&&(p(n,w.users),w.total),p(A,await Tr(localStorage.token)),await U(),p(s,!0)}),dt(()=>(r(z),r(f)),()=>{p(j,r(z).filter(w=>{if(r(f)==="")return!0;{let $=w.name.toLowerCase();const C=r(f).toLowerCase();return $.includes(C)}}))}),Tt(),yt();var W=Nt(),J=Fe(W);{var R=w=>{var $=wv(),C=Fe($);yr(C,{edit:!1,get permissions(){return r(A)},onSubmit:D,get show(){return r(E)},set show(Q){p(E,Q)},$$legacy:!0});var G=v(C,2),F=t(G),ge=t(F),re=v(ge,3),ue=t(re,!0);e(re),e(F);var he=v(F,2),ye=t(he),De=t(ye),Ye=t(De),Ae=t(Ye);Hr(Ae,{}),e(Ye);var Ee=v(Ye,2);Lt(Ee),e(De);var M=v(De,2),q=t(M);{let Q=at(()=>(a(),i(()=>a().t("Create Group"))));Ft(q,{get content(){return r(Q)},children:(Z,ee)=>{var X=mv(),Pe=t(X);qr(Pe,{className:"size-3.5"}),e(X),de("click",X,()=>{p(E,!r(E))}),u(Z,X)},$$slots:{default:!0}})}e(M),e(ye),e(he),e(G);var oe=v(G,2),ie=t(oe);{var O=Q=>{var Z=pv(),ee=t(Z),X=t(ee,!0);e(ee);var Pe=v(ee,2),Oe=t(Pe,!0);e(Pe);var Ve=v(Pe,2),P=t(Ve),N=t(P,!0);e(P),e(Ve),e(Z),h((Y,ce,me,ve)=>{c(X,Y),c(Oe,ce),st(P,"aria-label",me),c(N,ve)},[()=>(a(),i(()=>a().t("Organize your users"))),()=>(a(),i(()=>a().t("Use groups to group your users and assign permissions."))),()=>(a(),i(()=>a().t("Create Group"))),()=>(a(),i(()=>a().t("Create Group")))]),de("click",P,()=>{p(E,!0)}),u(Q,Z)},ne=Q=>{var Z=hv(),ee=t(Z),X=t(ee),Pe=t(X,!0);e(X);var Oe=v(X,2),Ve=t(Oe,!0);e(Oe),e(ee);var P=v(ee,4);ga(P,1,()=>r(j),$r,(N,Y)=>{var ce=gv(),me=t(ce);_v(me,{get group(){return r(Y)},get users(){return r(n)},setGroups:U,get defaultPermissions(){return r(A)}}),e(ce),u(N,ce)}),e(Z),h((N,Y)=>{c(Pe,N),c(Ve,Y)},[()=>(a(),i(()=>a().t("Group"))),()=>(a(),i(()=>a().t("Users")))]),u(Q,Z)};g(ie,Q=>{r(j),i(()=>r(j).length===0)?Q(O):Q(ne,!1)})}var $e=v(ie,4);yr($e,{tabs:["permissions"],custom:!1,onSubmit:K,get show(){return r(B)},set show(Q){p(B,Q)},get permissions(){return r(A)},set permissions(Q){p(A,Q)},$$legacy:!0});var Ue=v($e,2),be=t(Ue),fe=t(be),Ge=t(fe);ni(Ge,{className:"size-4"}),e(fe);var ke=v(fe,2),je=t(ke),qe=t(je,!0);e(je);var Ze=v(je,2),Le=t(Ze,!0);e(Ze),e(ke),e(be);var Ce=v(be,2),Ie=t(Ce);ml(Ie,{strokeWidth:"2.5"}),e(Ce),e(Ue),e(oe),h((Q,Z,ee,X)=>{c(ge,`${Q??""} `),c(ue,(r(z),i(()=>r(z).length))),st(Ee,"placeholder",Z),c(qe,ee),c(Le,X)},[()=>(a(),i(()=>a().t("Groups"))),()=>(a(),i(()=>a().t("Search"))),()=>(a(),i(()=>a().t("Default permissions"))),()=>(a(),i(()=>a().t('applies to all users with the "user" role')))]),It(Ee,()=>r(f),Q=>p(f,Q)),de("click",Ue,()=>{p(B,!0)}),u(w,$)};g(J,w=>{r(s)&&w(R)})}u(le,W),wt(),pe()}var bv=_('<div class="flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"><div id="users-tabs-container" class="mx-[16px] lg:mx-0 lg:px-[16px] flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-50 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"><button id="overview"><div class=" self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg></div> <div class=" self-center"> </div></button> <button id="groups"><div class=" self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg></div> <div class=" self-center"> </div></button></div> <div class="flex-1 mt-1 lg:mt-0 px-[16px] lg:pr-[16px] lg:pl-0 overflow-y-scroll"><!></div></div>');function ud(le,k){gt(k,!1);const a=()=>Xe(Ir,"$page",pe),I=()=>Xe(br,"$user",pe),S=()=>Xe(s,"$i18n",pe),[pe,_e]=bt(),s=ht("i18n");let n=H();const z=$=>{const C=document.getElementById($);C&&C.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})};na(async()=>{var C;((C=I())==null?void 0:C.role)!=="admin"&&await da("/");const $=document.getElementById("users-tabs-container");$&&$.addEventListener("wheel",function(G){G.deltaY!==0&&($.scrollLeft+=G.deltaY)}),z(r(n))}),dt(()=>a(),()=>{const $=a().url.pathname.split("/"),C=$[$.length-1];p(n,["overview","groups"].includes(C)?C:"overview")}),dt(()=>r(n),()=>{r(n)&&z(r(n))}),Tt(),yt();var j=bv(),f=t(j),A=t(f),E=v(t(A),2),B=t(E,!0);e(E),e(A);var U=v(A,2),D=v(t(U),2),K=t(D,!0);e(D),e(U),e(f);var W=v(f,2),J=t(W);{var R=$=>{di($,{})},w=$=>{var C=Nt(),G=Fe(C);{var F=ge=>{yv(ge,{})};g(G,ge=>{r(n)==="groups"&&ge(F)},!0)}u($,C)};g(J,$=>{r(n)==="overview"?$(R):$(w,!1)})}e(W),e(j),h(($,C)=>{rt(A,1,`px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition ${r(n)==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`),c(B,$),rt(U,1,`px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition ${r(n)==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`),c(K,C)},[()=>(S(),i(()=>S().t("Overview"))),()=>(S(),i(()=>S().t("Groups")))]),de("click",A,()=>{da("/admin/users/overview")}),de("click",U,()=>{da("/admin/users/groups")}),u(le,j),wt(),_e()}export{ud as U};
//# sourceMappingURL=xJZJa0Ww.js.map
