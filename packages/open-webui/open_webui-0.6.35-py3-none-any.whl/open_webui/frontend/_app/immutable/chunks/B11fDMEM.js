import"./CWj6FrbW.js";import"./CN51-NxK.js";import{t as m,a as r,B as ze,b as Je,g as Ge,o as et,i as ee,q as De,u as c,v as tt,c as n,r as s,k as P,w as v,j as V,s as j,l as Ce,p as Ke,f as k,m as be,x as at,e as I,A as Ve,d as ve,n as Ee,z as je,y as rt}from"./CvTLsZlf.js";import{i as h}from"./B3D73U8p.js";import{a as ce,s as ie,c as Le}from"./CPzR4-ix.js";import{p as ot,s as it}from"./Bfc47y5P.js";import{i as Xe}from"./CNVL70pO.js";import{p as M}from"./DBxQAEQJ.js";import{s as Qe,a as Ze}from"./DzS5ldT-.js";import{y as st,A as Me,B as $e}from"./D38tgtmh.js";import{e as nt,i as lt}from"./uF71e8HK.js";import{e as de,d as vt}from"./D6EOiKH3.js";import{b as dt}from"./BN8BTzd8.js";import{M as ct}from"./B1Io5-Zn.js";import{X as Ye}from"./BFL0NFeS.js";import{S as ft}from"./CMAI-O2r.js";import{T as Ie}from"./k6hQMChD.js";import{d as qe}from"./BqAeIAOr.js";import{S as Oe}from"./DD1zKOTk.js";var ut=ze('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"></path></svg>');function mt(z,i){let t=M(i,"className",8,"size-4"),d=M(i,"strokeWidth",8,"1.5");var l=ut();m(()=>{ce(l,"stroke-width",d()),ie(l,0,Le(t()))}),r(z,l)}var pt=ze('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"></path></svg>');function ht(z,i){let t=M(i,"className",8,"size-4"),d=M(i,"strokeWidth",8,"1.5");var l=pt();m(()=>{ce(l,"stroke-width",d()),ie(l,0,Le(t()))}),r(z,l)}const ka=async(z,i,t)=>{const d=new FormData;d.append("file",i),t&&d.append("metadata",JSON.stringify(t));let l=null;const N=await fetch(`${de}/files/`,{method:"POST",headers:{Accept:"application/json",authorization:`Bearer ${z}`},body:d}).then(async $=>{if(!$.ok)throw await $.json();return $.json()}).catch($=>(l=$.detail||$.message,null));if(l)throw l;if(N){const $=await _t(z,N.id);if($&&$.ok){const e=$.body.pipeThrough(new TextDecoderStream).pipeThrough(st(`
`)).getReader();for(;;){const{value:se,done:Ne}=await e.read();if(Ne)break;try{let q=se.split(`
`);for(const oe of q)if(oe!==""&&oe!=="data: [DONE]"){let O=JSON.parse(oe.replace(/^data: /,""));O!=null&&O.error&&(O.error,N.error=O.error),N!=null&&N.data&&(N.data=O)}}catch{}}}}if(l)throw l;return N},_t=async(z,i)=>{const t=new URLSearchParams;t.append("stream","true");let d=null;const l=await fetch(`${de}/files/${i}/process/status?${t}`,{method:"GET",headers:{Accept:"application/json",authorization:`Bearer ${z}`}}).catch(N=>(d=N.detail,null));if(d)throw d;return l},gt=async(z,i)=>{let t=null;const d=await fetch(`${de}/files/${i}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${z}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).then(l=>l).catch(l=>(t=l.detail,null));if(t)throw t;return d},ya=async(z,i,t)=>{let d=null;const l=await fetch(`${de}/files/${i}/data/content/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${z}`},body:JSON.stringify({content:t})}).then(async N=>{if(!N.ok)throw await N.json();return N.json()}).then(N=>N).catch(N=>(d=N.detail,null));if(d)throw d;return l},ba=async z=>{let i=null;const t=await fetch(`${de}/files/all`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${z}`}}).then(async d=>{if(!d.ok)throw await d.json();return d.json()}).then(d=>d).catch(d=>(i=d.detail,null));if(i)throw i;return t};var xt=k('<div class="capitalize shrink-0"> </div> •',1),wt=k('<div class="line-clamp-1"> </div> •',1),kt=k('<div class="capitalize shrink-0"> </div>'),yt=k("<!> <!> <!>",1),bt=k('<div class="capitalize shrink-0"> </div> •',1),Ct=k('<div class="capitalize shrink-0"> </div> <div class="flex items-center gap-1 shrink-0"> </div>',1),jt=k('<div class="capitalize shrink-0"> </div>'),Mt=k('<div class="flex items-center gap-1.5 text-xs"><!> <!></div>'),zt=k('<div class=" self-end"><!></div>'),Nt=k('<div class="flex items-center gap-2 mb-2"><div class="flex-shrink-0 text-xs"> </div></div>'),Lt=k("<div></div>"),At=k('<iframe class="w-full h-[70vh] border-0 rounded-lg"></iframe>'),Bt=k('<div class="max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap"> </div>'),Ft=k('<div class="flex mb-2.5 scrollbar-none overflow-x-auto w-full border-b border-gray-50 dark:border-gray-850 text-center text-sm font-medium bg-transparent dark:text-gray-200"><button type="button"> </button> <button type="button"> </button></div> <!>',1),St=k('<audio class="w-full border-0 rounded-lg mb-2" controls playsinline=""></audio>'),Wt=k('<div class="max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap"> </div>'),Ht=k("<!> <!>",1),Pt=k('<div class="flex items-center justify-center py-6"><!></div>'),Tt=k('<div class="font-primary px-4.5 py-3.5 w-full flex flex-col justify-center dark:text-gray-400"><div class=" pb-2"><div class="flex items-start justify-between"><div><div class=" font-medium text-lg dark:text-gray-100"><a href="#" class="hover:underline line-clamp-1"> </a></div></div> <div><button><!></button></div></div> <div><div class="flex flex-col items-center md:flex-row gap-1 justify-between w-full"><div class=" flex flex-wrap text-xs gap-1 text-gray-500"><!> <!> <!> <!></div> <!></div></div></div> <div class="max-h-[75vh] overflow-auto"><!></div></div>');function Dt(z,i){Je(i,!1);const t=()=>Ze($,"$i18n",d),[d,l]=Qe(),N=be(),$=Ge("i18n");let e=M(i,"item",12),se=M(i,"show",12,!1),Ne=M(i,"edit",8,!1),q=be(!1),oe=be(!1),O=be(!1),fe=be("");const pe=async()=>{var E,J;if(((E=e())==null?void 0:E.type)==="collection"){ee(O,!0);const B=await dt(localStorage.token,e().id).catch(_=>null);B&&e(e().files=B.files||[],!0),ee(O,!1)}else if(((J=e())==null?void 0:J.type)==="file"){ee(O,!0);const B=await gt(localStorage.token,e().id).catch(_=>null);B&&e(e().file=B||{},!0),ee(O,!1)}await at()};et(()=>{var E;e(),((E=e())==null?void 0:E.context)==="full"&&ee(q,!0)}),De(()=>c(e()),()=>{var E,J,B,_;ee(N,((J=(E=e())==null?void 0:E.meta)==null?void 0:J.content_type)==="application/pdf"||((B=e())==null?void 0:B.name)&&((_=e())==null?void 0:_.name.toLowerCase().endsWith(".pdf")))}),De(()=>c(e()),()=>{var E,J,B,_,G,te,ne,le,he,_e,ae,ge;ee(oe,(((J=(E=e())==null?void 0:E.meta)==null?void 0:J.content_type)??"").startsWith("audio/")||((B=e())==null?void 0:B.name)&&((_=e())==null?void 0:_.name.toLowerCase().endsWith(".mp3"))||((G=e())==null?void 0:G.name)&&((te=e())==null?void 0:te.name.toLowerCase().endsWith(".wav"))||((ne=e())==null?void 0:ne.name)&&((le=e())==null?void 0:le.name.toLowerCase().endsWith(".ogg"))||((he=e())==null?void 0:he.name)&&((_e=e())==null?void 0:_e.name.toLowerCase().endsWith(".m4a"))||((ae=e())==null?void 0:ae.name)&&((ge=e())==null?void 0:ge.name.toLowerCase().endsWith(".webm")))}),De(()=>c(se()),()=>{se()&&pe()}),tt(),Xe(),ct(z,{size:"lg",get show(){return se()},set show(E){se(E)},children:(E,J)=>{var B=Tt(),_=n(B),G=n(_),te=n(G),ne=n(te),le=n(ne),he=n(le,!0);s(le),s(ne),s(te);var _e=P(te,2),ae=n(_e),ge=n(ae);Ye(ge,{}),s(ae),s(_e),s(G);var Ae=P(G,2),Be=n(Ae),we=n(Be),Fe=n(we);{var Pe=o=>{var a=yt(),f=I(a);{var w=x=>{var p=xt(),b=I(p),u=n(b,!0);s(b),Ve(),m(()=>j(u,(c(e()),v(()=>e().type)))),r(x,p)};h(f,x=>{c(e()),v(()=>{var p;return(p=e())==null?void 0:p.type})&&x(w)})}var T=P(f,2);{var H=x=>{var p=wt(),b=I(p),u=n(b,!0);s(b),Ve(),m(()=>j(u,(c(e()),v(()=>e().description)))),r(x,p)};h(T,x=>{c(e()),v(()=>{var p;return(p=e())==null?void 0:p.description})&&x(H)})}var y=P(T,2);{var F=x=>{var p=kt(),b=n(p,!0);s(p),m(u=>j(b,u),[()=>(c(qe),c(e()),v(()=>qe(e().created_at*1e3).format("LL")))]),r(x,p)};h(y,x=>{c(e()),v(()=>{var p;return(p=e())==null?void 0:p.created_at})&&x(F)})}r(o,a)};h(Fe,o=>{c(e()),v(()=>{var a;return((a=e())==null?void 0:a.type)==="collection"})&&o(Pe)})}var Se=P(Fe,2);{var Te=o=>{var a=bt(),f=I(a),w=n(f,!0);s(f),Ve(),m(T=>j(w,T),[()=>(c(Me),c(e()),v(()=>Me(e().size)))]),r(o,a)};h(Se,o=>{c(e()),v(()=>e().size)&&o(Te)})}var g=P(Se,2);{var C=o=>{var a=Ct(),f=I(a),w=n(f,!0);s(f);var T=P(f,2),H=n(T);s(T),m((y,F)=>{j(w,y),j(H,`• ${F??""}`)},[()=>(t(),c($e),c(e()),v(()=>{var y,F,x;return t().t("{{COUNT}} extracted lines",{COUNT:$e(((x=(F=(y=e())==null?void 0:y.file)==null?void 0:F.data)==null?void 0:x.content)??"")})})),()=>(t(),v(()=>t().t("Formatting may be inconsistent from source.")))]),r(o,a)};h(g,o=>{c(e()),v(()=>{var a,f,w;return(w=(f=(a=e())==null?void 0:a.file)==null?void 0:f.data)==null?void 0:w.content})&&o(C)})}var W=P(g,2);{var K=o=>{var a=jt(),f=n(a,!0);s(a),m(w=>j(f,w),[()=>(t(),v(()=>t().t("Knowledge Base")))]),r(o,a)};h(W,o=>{c(e()),v(()=>{var a;return(a=e())==null?void 0:a.knowledge})&&o(K)})}s(we);var U=P(we,2);{var L=o=>{var a=zt(),f=n(a);{let w=Ee(()=>(V(q),t(),v(()=>V(q)?t().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):t().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."))));Ie(f,{get content(){return V(w)},children:(T,H)=>{var y=Mt(),F=n(y);{var x=u=>{var S=je();m(A=>j(S,A),[()=>(t(),v(()=>t().t("Using Entire Document")))]),r(u,S)},p=u=>{var S=je();m(A=>j(S,A),[()=>(t(),v(()=>t().t("Using Focused Retrieval")))]),r(u,S)};h(F,u=>{V(q)?u(x):u(p,!1)})}var b=P(F,2);ft(b,{get state(){return V(q)},set state(u){ee(q,u)},$$events:{change:u=>{e(e().context=u.detail?"full":void 0,!0)}},$$legacy:!0}),s(y),r(T,y)},$$slots:{default:!0}})}s(a),r(o,a)};h(U,o=>{Ne()&&o(L)})}s(Be),s(Ae),s(_);var Q=P(_,2),xe=n(Q);{var ke=o=>{var a=ve(),f=I(a);{var w=H=>{var y=Lt();nt(y,5,()=>(c(e()),v(()=>{var F;return(F=e())==null?void 0:F.files})),lt,(F,x)=>{var p=Nt(),b=n(p),u=n(b,!0);s(b),s(p),m(()=>j(u,(V(x),v(()=>{var S,A;return(A=(S=V(x))==null?void 0:S.meta)==null?void 0:A.name})))),r(F,p)}),s(y),r(H,y)},T=H=>{var y=ve(),F=I(y);{var x=b=>{var u=Ft(),S=I(u),A=n(S),me=n(A,!0);s(A);var R=P(A,2),D=n(R,!0);s(R),s(S);var Z=P(S,2);{var X=re=>{var Y=At();m(()=>{ce(Y,"title",(c(e()),v(()=>{var We;return(We=e())==null?void 0:We.name}))),ce(Y,"src",(c(de),c(e()),v(()=>`${de}/files/${e().id}/content`)))}),r(re,Y)},ye=re=>{var Y=Bt(),We=n(Y,!0);s(Y),m(He=>j(We,He),[()=>(c(e()),v(()=>{var He,Ue,Re;return(((Re=(Ue=(He=e())==null?void 0:He.file)==null?void 0:Ue.data)==null?void 0:Re.content)??"").trim()||"No content"}))]),r(re,Y)};h(Z,re=>{V(fe)==="preview"?re(X):re(ye,!1)})}m((re,Y)=>{ie(A,1,`min-w-fit py-1.5 px-4 border-b ${V(fe)===""?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"} transition`),j(me,re),ie(R,1,`min-w-fit py-1.5 px-4 border-b ${V(fe)==="preview"?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"} transition`),j(D,Y)},[()=>(t(),v(()=>t().t("Content"))),()=>(t(),v(()=>t().t("Preview")))]),Ce("click",A,()=>{ee(fe,"")}),Ce("click",R,()=>{ee(fe,"preview")}),r(b,u)},p=b=>{var u=Ht(),S=I(u);{var A=D=>{var Z=St();m(()=>ce(Z,"src",(c(de),c(e()),v(()=>`${de}/files/${e().id}/content`)))),r(D,Z)};h(S,D=>{V(oe)&&D(A)})}var me=P(S,2);{var R=D=>{var Z=Wt(),X=n(Z,!0);s(Z),m(ye=>j(X,ye),[()=>(c(e()),v(()=>{var ye,re,Y;return(((Y=(re=(ye=e())==null?void 0:ye.file)==null?void 0:re.data)==null?void 0:Y.content)??"").trim()||"No content"}))]),r(D,Z)};h(me,D=>{c(e()),v(()=>{var Z,X;return(X=(Z=e())==null?void 0:Z.file)==null?void 0:X.data})&&D(R)})}r(b,u)};h(F,b=>{V(N)?b(x):b(p,!1)},!0)}r(H,y)};h(f,H=>{c(e()),v(()=>{var y;return((y=e())==null?void 0:y.type)==="collection"})?H(w):H(T,!1)})}r(o,a)},ue=o=>{var a=Pt(),f=n(a);Oe(f,{className:"size-5"}),s(a),r(o,a)};h(xe,o=>{V(O)?o(ue,!1):o(ke)})}s(Q),s(B),m(()=>j(he,(c(e()),v(()=>{var o;return((o=e())==null?void 0:o.name)??"File"})))),Ce("click",le,ot(()=>{!V(N)&&e().url&&window.open(e().type==="file"?`${e().url}/content`:`${e().url}`,"_blank")})),Ce("click",ae,()=>{se(!1)}),r(E,B)},$$slots:{default:!0},$$legacy:!0}),Ke(),l()}var Vt=ze('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M4 21.4V2.6C4 2.26863 4.26863 2 4.6 2H16.2515C16.4106 2 16.5632 2.06321 16.6757 2.17574L19.8243 5.32426C19.9368 5.43679 20 5.5894 20 5.74853V21.4C20 21.7314 19.7314 22 19.4 22H4.6C4.26863 22 4 21.7314 4 21.4Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 10L16 10" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 18L16 18" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 14L12 14" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Et(z,i){let t=M(i,"className",8,"size-4"),d=M(i,"strokeWidth",8,"1.5");var l=Vt();m(()=>{ce(l,"stroke-width",d()),ie(l,0,Le(t()))}),r(z,l)}var Zt=ze('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M5 12V18C5 18 5 21 12 21C19 21 19 18 19 18V12"></path><path d="M5 6V12C5 12 5 15 12 15C19 15 19 12 19 12V6"></path><path d="M12 3C19 3 19 6 19 6C19 6 19 9 12 9C5 9 5 6 5 6C5 6 5 3 12 3Z"></path></svg>');function It(z,i){let t=M(i,"className",8,"size-4"),d=M(i,"strokeWidth",8,"1.5");var l=Zt();m(()=>{ce(l,"stroke-width",d()),ie(l,0,Le(t()))}),r(z,l)}var Ot=ze('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M20 12V5.74853C20 5.5894 19.9368 5.43679 19.8243 5.32426L16.6757 2.17574C16.5632 2.06321 16.4106 2 16.2515 2H4.6C4.26863 2 4 2.26863 4 2.6V21.4C4 21.7314 4.26863 22 4.6 22H11" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 10H16M8 6H12M8 14H11" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.9541 16.9394L18.9541 15.9394C19.392 15.5015 20.102 15.5015 20.5399 15.9394V15.9394C20.9778 16.3773 20.9778 17.0873 20.5399 17.5252L19.5399 18.5252M17.9541 16.9394L14.963 19.9305C14.8131 20.0804 14.7147 20.2741 14.6821 20.4835L14.4394 22.0399L15.9957 21.7973C16.2052 21.7646 16.3988 21.6662 16.5487 21.5163L19.5399 18.5252M17.9541 16.9394L19.5399 18.5252" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Ut(z,i){let t=M(i,"className",8,"w-4 h-4"),d=M(i,"strokeWidth",8,"1.5");var l=Ot();m(()=>{ie(l,0,Le(t())),ce(l,"stroke-width",d())}),r(z,l)}var Rt=ze('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class=" size-4.5"><path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd"></path><path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"></path></svg>'),$t=k('<div class="size-10 shrink-0 flex justify-center items-center bg-black/20 dark:bg-white/10 text-white rounded-xl"><!></div>'),qt=k('<div class="pl-1.5"><!></div>'),Jt=k('<span class=" capitalize line-clamp-1"> </span>'),Gt=k('<span class="capitalize"> </span>'),Kt=k('<div class="flex flex-col justify-center -space-y-0.5 px-2.5 w-full"><div class=" dark:text-gray-100 text-sm font-medium line-clamp-1 mb-1"> </div> <div><!> <!></div></div>'),Xt=k('<div class="text-gray-500 text-xs capitalize shrink-0"> </div>'),Qt=k('<div class="text-gray-500 text-xs capitalize shrink-0"> </div>'),Yt=k('<div class="flex flex-col justify-center -space-y-0.5 px-1 w-full"><div class=" dark:text-gray-100 text-sm flex justify-between items-center"><div class="font-medium line-clamp-1 flex-1 pr-1"> </div> <!></div></div>'),ea=k('<div class=" absolute -top-1 -right-1"><button type="button"><!></button></div>'),ta=k('<!> <button type="button"><!> <!> <!></button>',1);function Ca(z,i){Je(i,!1);const t=()=>Ze($,"$i18n",l),d=()=>Ze(vt,"$settings",l),[l,N]=Qe(),$=Ge("i18n"),e=rt();let se=M(i,"className",8,"w-60"),Ne=M(i,"colorClassName",8,"bg-white dark:bg-gray-850 border border-gray-50 dark:border-gray-800"),q=M(i,"url",8,null),oe=M(i,"dismissible",8,!1),O=M(i,"modal",8,!1),fe=M(i,"loading",8,!1),pe=M(i,"item",12,null),E=M(i,"edit",8,!1),J=M(i,"small",8,!1),B=M(i,"name",8),_=M(i,"type",8),G=M(i,"size",8),te=be(!1);const ne=g=>{try{return decodeURIComponent(g)}catch{return g}};Xe();var le=ta(),he=I(le);{var _e=g=>{Dt(g,{get edit(){return E()},get show(){return V(te)},set show(C){ee(te,C)},get item(){return pe()},set item(C){pe(C)},$$legacy:!0})};h(he,g=>{pe()&&g(_e)})}var ae=P(he,2),ge=n(ae);{var Ae=g=>{var C=$t(),W=n(C);{var K=L=>{var Q=Rt();r(L,Q)},U=L=>{Oe(L,{})};h(W,L=>{fe()?L(U,!1):L(K)})}s(C),r(g,C)},Be=g=>{var C=qt(),W=n(C);{var K=L=>{{let Q=Ee(()=>(c(_()),t(),v(()=>_()==="collection"?t().t("Collection"):_()==="note"?t().t("Note"):_()==="chat"?t().t("Chat"):_()==="file"?t().t("File"):t().t("Document"))));Ie(L,{get content(){return V(Q)},placement:"top",children:(xe,ke)=>{var ue=ve(),o=I(ue);{var a=w=>{It(w,{})},f=w=>{var T=ve(),H=I(T);{var y=x=>{Ut(x,{})},F=x=>{var p=ve(),b=I(p);{var u=A=>{ht(A,{})},S=A=>{var me=ve(),R=I(me);{var D=X=>{mt(X,{})},Z=X=>{Et(X,{})};h(R,X=>{_()==="folder"?X(D):X(Z,!1)},!0)}r(A,me)};h(b,A=>{_()==="chat"?A(u):A(S,!1)},!0)}r(x,p)};h(H,x=>{_()==="note"?x(y):x(F,!1)},!0)}r(w,T)};h(o,w=>{_()==="collection"?w(a):w(f,!1)})}r(xe,ue)},$$slots:{default:!0}})}},U=L=>{Oe(L,{})};h(W,L=>{fe()?L(U,!1):L(K)})}s(C),r(g,C)};h(ge,g=>{J()?g(Be,!1):g(Ae)})}var we=P(ge,2);{var Fe=g=>{var C=Kt(),W=n(C),K=n(W,!0);s(W);var U=P(W,2),L=n(U);{var Q=o=>{var a=je();m(f=>j(a,f),[()=>(t(),v(()=>t().t("File")))]),r(o,a)},xe=o=>{var a=ve(),f=I(a);{var w=H=>{var y=je();m(F=>j(y,F),[()=>(t(),v(()=>t().t("Note")))]),r(H,y)},T=H=>{var y=ve(),F=I(y);{var x=b=>{var u=je();m(S=>j(u,S),[()=>(t(),v(()=>t().t("Document")))]),r(b,u)},p=b=>{var u=ve(),S=I(u);{var A=R=>{var D=je();m(Z=>j(D,Z),[()=>(t(),v(()=>t().t("Collection")))]),r(R,D)},me=R=>{var D=Jt(),Z=n(D,!0);s(D),m(()=>j(Z,_())),r(R,D)};h(S,R=>{_()==="collection"?R(A):R(me,!1)},!0)}r(b,u)};h(F,b=>{_()==="doc"?b(x):b(p,!1)},!0)}r(H,y)};h(f,H=>{_()==="note"?H(w):H(T,!1)},!0)}r(o,a)};h(L,o=>{_()==="file"?o(Q):o(xe,!1)})}var ke=P(L,2);{var ue=o=>{var a=Gt(),f=n(a,!0);s(a),m(w=>j(f,w),[()=>(c(Me),c(G()),v(()=>Me(G())))]),r(o,a)};h(ke,o=>{G()&&o(ue)})}s(U),s(C),m(o=>{j(K,o),ie(U,1,` flex justify-between text-xs line-clamp-1 ${d(),v(()=>{var a;return((a=d())==null?void 0:a.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"})??""}`)},[()=>(c(B()),v(()=>ne(B())))]),r(g,C)},Pe=g=>{{let C=Ee(()=>(c(B()),v(()=>ne(B()))));Ie(g,{get content(){return V(C)},className:"flex flex-col w-full",placement:"top-start",children:(W,K)=>{var U=Yt(),L=n(U),Q=n(L),xe=n(Q,!0);s(Q);var ke=P(Q,2);{var ue=a=>{var f=Xt(),w=n(f,!0);s(f),m(T=>j(w,T),[()=>(c(Me),c(G()),v(()=>Me(G())))]),r(a,f)},o=a=>{var f=Qt(),w=n(f,!0);s(f),m(()=>j(w,_())),r(a,f)};h(ke,a=>{G()?a(ue):a(o,!1)})}s(L),s(U),m(a=>j(xe,a),[()=>(c(B()),v(()=>ne(B())))]),r(W,U)},$$slots:{default:!0}})}};h(we,g=>{J()?g(Pe,!1):g(Fe)})}var Se=P(we,2);{var Te=g=>{var C=ea(),W=n(C),K=n(W);Ye(K,{className:"size-4"}),s(W),s(C),m(U=>{ce(W,"aria-label",U),ie(W,1,` bg-white text-black border border-gray-50 rounded-full ${d(),v(()=>{var L;return((L=d())==null?void 0:L.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition"})??""}`)},[()=>(t(),v(()=>t().t("Remove File")))]),Ce("click",W,it(()=>{e("dismiss")})),r(g,C)};h(Se,g=>{oe()&&g(Te)})}s(ae),m(()=>ie(ae,1,`relative group p-1.5 ${se()??""} flex items-center gap-1 ${Ne()??""} ${J()?"rounded-xl p-2":"rounded-2xl"} text-left`)),Ce("click",ae,async()=>{var g,C,W,K;(W=(C=(g=pe())==null?void 0:g.file)==null?void 0:C.data)!=null&&W.content||((K=pe())==null?void 0:K.type)==="file"||O()?ee(te,!V(te)):q()&&(_()==="file"?window.open(`${q()}/content`,"_blank").focus():window.open(`${q()}`,"_blank").focus()),e("click")}),r(z,le),Ke(),N()}export{ht as C,It as D,Ca as F,Ut as P,ya as a,mt as b,Et as c,ba as d,gt as g,ka as u};
//# sourceMappingURL=B11fDMEM.js.map
