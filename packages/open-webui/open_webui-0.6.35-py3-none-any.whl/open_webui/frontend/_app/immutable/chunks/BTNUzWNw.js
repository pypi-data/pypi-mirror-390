import"./CWj6FrbW.js";import"./CN51-NxK.js";import{b as qt,g as Pt,o as zt,i as l,x as Nt,q as Ot,u as Dt,j as e,v as Et,e as Lt,k as o,c as a,r,t as ot,w as n,s as u,l as F,a as H,A as Wt,p as Ft,f as R,m as g,n as I}from"./CvTLsZlf.js";import{i as Ht}from"./B3D73U8p.js";import{r as lt,a as nt,s as It}from"./CPzR4-ix.js";import{b as dt}from"./BpTtYi1u.js";import{p as Rt}from"./Bfc47y5P.js";import{i as Zt}from"./CNVL70pO.js";import{p as A}from"./DBxQAEQJ.js";import{a as ct,s as Bt}from"./DzS5ldT-.js";import{T as Gt}from"./VKbJuFMC.js";import{t as Jt}from"./Cqe-NRGo.js";import{T as Kt}from"./k6hQMChD.js";import{L as Qt}from"./BzcWeUV3.js";import{A as Ut}from"./rhcdx6PQ.js";import{u as Vt}from"./D6EOiKH3.js";import{s as mt}from"./D38tgtmh.js";import{S as Xt}from"./DD1zKOTk.js";var Yt=R('<div class="flex flex-col w-full"><div class="flex items-center"><input class="text-2xl font-medium w-full bg-transparent outline-hidden" required/> <div class="self-center shrink-0"><button class="bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center" type="button"><!> <div class="text-sm font-medium shrink-0"> </div></button></div></div> <div class="flex gap-0.5 items-center text-xs text-gray-500"><div>/</div> <input class=" w-full bg-transparent outline-hidden" required/></div></div>'),te=R('<div class="ml-1.5 self-center"><!></div>'),ee=R('<!> <div class="w-full max-h-full flex justify-center"><form class="flex flex-col w-full mb-10"><div class="my-2"><!></div> <div class="my-2"><div class="flex w-full justify-between"><div class=" self-center text-sm font-semibold"> </div></div> <div class="mt-2"><div><!></div> <div class="text-xs text-gray-400 dark:text-gray-500"> <span class=" text-gray-600 dark:text-gray-300 font-medium"> </span> <span class=" text-gray-600 dark:text-gray-300 font-medium"></span> <span class=" text-gray-600 dark:text-gray-300 font-medium"></span>.</div> <div class="text-xs text-gray-400 dark:text-gray-500 underline"><a href="https://docs.openwebui.com/features/workspace/prompts" target="_blank"> </a></div></div></div> <div class="my-4 flex justify-end pb-20"><button type="submit"><div class=" self-center font-medium"> </div> <!></button></div></form></div>',1);function he(vt,_){qt(_,!1);const t=()=>ct(pt,"$i18n",Z),M=()=>ct(Vt,"$user",Z),[Z,ut]=Bt();let ft=A(_,"onSubmit",8),S=A(_,"edit",8,!1),d=A(_,"prompt",8,null);A(_,"clone",8,!1);const pt=Pt("i18n");let b=g(!1),f=g(""),c=g(""),k=g(""),w=g({}),T=g(!1),j=g(!1);function gt(i){l(j,!0)}const xt=async()=>{l(b,!0),_t(e(c))?await ft()({title:e(f),command:e(c),content:e(k),access_control:e(w)}):Jt.error(t().t("Only alphanumeric characters and hyphens are allowed in the command string.")),l(b,!1)},_t=i=>/^[a-zA-Z0-9-_]+$/.test(i);zt(async()=>{var i,s;d()&&(l(f,d().title),await Nt(),l(c,d().command.at(0)==="/"?d().command.slice(1):d().command),l(k,d().content),l(w,((i=d())==null?void 0:i.access_control)===void 0?{}:(s=d())==null?void 0:s.access_control))}),Ot(()=>(Dt(S()),e(j),e(f),mt),()=>{!S()&&!e(j)&&l(c,e(f)!==""?mt(e(f)):"")}),Et(),Zt();var B=ee(),G=Lt(B);{let i=I(()=>(M(),n(()=>{var s,p,m,v;return((m=(p=(s=M())==null?void 0:s.permissions)==null?void 0:p.sharing)==null?void 0:m.public_prompts)||((v=M())==null?void 0:v.role)==="admin"})));Ut(G,{accessRoles:["read","write"],get allowPublic(){return e(i)},get show(){return e(T)},set show(s){l(T,s)},get accessControl(){return e(w)},set accessControl(s){l(w,s)},$$legacy:!0})}var J=o(G,2),q=a(J),P=a(q),bt=a(P);{let i=I(()=>(t(),e(c),n(()=>`${t().t("Only alphanumeric characters and hyphens are allowed")} - ${t().t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:e(c)})}`)));Kt(bt,{get content(){return e(i)},placement:"bottom-start",children:(s,p)=>{var m=Yt(),v=a(m),x=a(v);lt(x);var C=o(x,2),W=a(C),rt=a(W);Qt(rt,{strokeWidth:"2.5",className:"size-3.5"});var st=o(rt,2),St=a(st,!0);r(st),r(W),r(C),r(v);var it=o(v,2),h=o(a(it),2);lt(h),r(it),r(m),ot((y,Tt,jt)=>{nt(x,"placeholder",y),u(St,Tt),nt(h,"placeholder",jt),h.disabled=S()},[()=>(t(),n(()=>t().t("Title"))),()=>(t(),n(()=>t().t("Access"))),()=>(t(),n(()=>t().t("Command")))]),dt(x,()=>e(f),y=>l(f,y)),F("click",W,()=>{l(T,!0)}),dt(h,()=>e(c),y=>l(c,y)),F("input",h,gt),H(s,m)},$$slots:{default:!0}})}r(P);var z=o(P,2),N=a(z),K=a(N),ht=a(K,!0);r(K),r(N);var Q=o(N,2),O=a(Q),yt=a(O);{let i=I(()=>(t(),n(()=>t().t("Write a summary in 50 words that summarizes {{topic}}."))));Gt(yt,{className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",get placeholder(){return e(i)},rows:6,required:!0,get value(){return e(k)},set value(s){l(k,s)},$$legacy:!0})}r(O);var D=o(O,2),U=a(D),E=o(U),kt=a(E);r(E);var V=o(E),X=o(V);X.textContent="{{";var Y=o(X),wt=o(Y);wt.textContent="}}",Wt(),r(D);var tt=o(D,2),et=a(tt),$t=a(et,!0);r(et),r(tt),r(Q),r(z);var at=o(z,2),$=a(at),L=a($),Ct=a(L,!0);r(L);var At=o(L,2);{var Mt=i=>{var s=te(),p=a(s);Xt(p,{}),r(s),H(i,s)};Ht(At,i=>{e(b)&&i(Mt)})}r($),r(at),r(q),r(J),ot((i,s,p,m,v,x,C)=>{u(ht,i),u(U,`ⓘ ${s??""} `),u(kt,`{{${p??""}}}`),u(V,`.
					${m??""} `),u(Y,` ${v??""} `),u($t,x),It($,1,` text-sm w-full lg:w-fit px-4 py-2 transition rounded-xl ${e(b)?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black"} flex w-full justify-center`),$.disabled=e(b),u(Ct,C)},[()=>(t(),n(()=>t().t("Prompt Content"))),()=>(t(),n(()=>t().t("Format your variables using brackets like this:"))),()=>(t(),n(()=>t().t("variable"))),()=>(t(),n(()=>t().t("Make sure to enclose them with"))),()=>(t(),n(()=>t().t("and"))),()=>(t(),n(()=>t().t("To learn more about powerful prompt variables, click here"))),()=>(t(),n(()=>t().t("Save & Create")))]),F("submit",q,Rt(()=>{xt()})),H(vt,B),Ft(),ut()}export{he as P};
//# sourceMappingURL=BTNUzWNw.js.map
