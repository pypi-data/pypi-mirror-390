"use strict";(self.webpackChunkjupyterlab_notifications_extension=self.webpackChunkjupyterlab_notifications_extension||[]).push([[750],{750:(t,e,o)=>{o.r(e),o.d(e,{default:()=>s});var n=o(297),i=o(860);async function a(t){try{const e=await async function(t="",e={}){const o=i.ServerConnection.makeSettings(),a=n.URLExt.join(o.baseUrl,"jupyterlab-notifications-extension",t);let s;try{s=await i.ServerConnection.makeRequest(a,e,o)}catch(t){throw new i.ServerConnection.NetworkError(t)}let c=await s.text();if(c.length>0)try{c=JSON.parse(c)}catch(t){console.log("Not a JSON response body.",s)}if(!s.ok)throw new i.ServerConnection.ResponseError(s,c.message||c);return c}("notifications");e.notifications&&e.notifications.length>0&&(console.log(`Received ${e.notifications.length} notification(s) from server`),e.notifications.forEach(e=>{const o={autoClose:e.autoClose};void 0!==e.data&&(o.data=e.data),e.actions&&e.actions.length>0&&(o.actions=e.actions.map(t=>({label:t.label,caption:t.caption||"",displayType:t.displayType||"default",callback:()=>{console.log(`Action clicked: ${t.label}`)}}))),t.commands.execute("apputils:notify",{message:e.message,type:e.type,options:o}).catch(t=>{console.error("Failed to display notification:",t)})}))}catch(t){console.error("Failed to fetch notifications from server:",t)}}const s={id:"jupyterlab_notifications_extension:plugin",description:"Jupyterlab extension to receive and display notifications in the main panel. Those can be from the jupyterjub administrator or from other places.",autoStart:!0,activate:t=>{console.log("JupyterLab extension jupyterlab_notifications_extension is activated!"),a(t),setInterval(()=>{a(t)},3e4),console.log("Notification polling started (interval: 30s)")}}}}]);