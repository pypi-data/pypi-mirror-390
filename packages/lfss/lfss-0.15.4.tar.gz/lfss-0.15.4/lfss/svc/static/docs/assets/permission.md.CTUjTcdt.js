import{_ as t,c as s,o as i,af as r}from"./chunks/framework.CkHvLvtj.js";const m=JSON.parse('{"title":"Permission System","description":"","frontmatter":{},"headers":[],"relativePath":"permission.md","filePath":"permission.md"}'),o={name:"permission.md"};function a(d,e,n,c,h,l){return i(),s("div",null,[...e[0]||(e[0]=[r('<h1 id="permission-system" tabindex="-1">Permission System <a class="header-anchor" href="#permission-system" aria-label="Permalink to “Permission System”">​</a></h1><p>There are two user roles in the system: Admin and Normal User (&quot;users&quot; are like &quot;buckets&quot; to some extent).<br> A user have all permissions of the files and subpaths under its path (starting with <code>/&lt;user&gt;/</code>).<br> Admins have all permissions of all files and paths.</p><blockquote><p><strong>directory</strong> path ends with <code>/</code> and <strong>file</strong> does not end with <code>/</code>.</p></blockquote><h2 id="peers" tabindex="-1">Peers <a class="header-anchor" href="#peers" aria-label="Permalink to “Peers”">​</a></h2><p>The user can have multiple peer users. The peer user can have read or write access to the user&#39;s path, depending on the access level set when adding the peer user.<br> The peer user can list the files under the user&#39;s path.<br> If the peer user only has read access (peer-r), then the peer user can only <code>GET</code> files under the user&#39;s path.<br> If the peer user has write access (peer-w), then the peer user can <code>GET</code>/<code>PUT</code>/<code>POST</code>/<code>DELETE</code> files under the user&#39;s path.</p><h2 id="ownership" tabindex="-1">Ownership <a class="header-anchor" href="#ownership" aria-label="Permalink to “Ownership”">​</a></h2><p>A file is owned by the user who created it, may not necessarily be the user under whose path the file is stored (admin/write-peer can create files under other user&#39;s path).</p><h2 id="non-peer-and-public-access" tabindex="-1">Non-peer and public access <a class="header-anchor" href="#non-peer-and-public-access" aria-label="Permalink to “Non-peer and public access”">​</a></h2><p><strong>NOTE:</strong> below discussion is based on the assumption that the user is not a peer of the path owner, or is guest user (public access).</p><h3 id="file-access-with-get-permission" tabindex="-1">File access with <code>GET</code> permission <a class="header-anchor" href="#file-access-with-get-permission" aria-label="Permalink to “File access with GET permission”">​</a></h3><h4 id="file-access" tabindex="-1">File access <a class="header-anchor" href="#file-access" aria-label="Permalink to “File access”">​</a></h4><p>For accessing file content, the user must have <code>GET</code> permission of the file, which is determined by the <code>permission</code> field of both the path-owner and the file.</p><p>There are four types of permissions: <code>unset</code>, <code>public</code>, <code>protected</code>, <code>private</code>. Non-admin users can access files based on:</p><ul><li>If the file is <code>public</code>, then all users can access it.</li><li>If the file is <code>protected</code>, then only the logged-in user can access it.</li><li>If the file is <code>private</code>, then only the owner/path-owner can access it.</li><li>If the file is <code>unset</code>, then the file&#39;s permission is inherited from the path-owner&#39;s permission.</li><li>If both the path-owner and the file have <code>unset</code> permission, then the file is <code>public</code>.</li></ul><h3 id="file-creation-with-put-post-permission" tabindex="-1">File creation with <code>PUT</code>/<code>POST</code> permission <a class="header-anchor" href="#file-creation-with-put-post-permission" aria-label="Permalink to “File creation with PUT/POST permission”">​</a></h3><p><code>PUT</code>/<code>POST</code> permission is not allowed for non-peer users.</p><h3 id="file-delete-and-moving-permissions" tabindex="-1">File <code>DELETE</code> and moving permissions <a class="header-anchor" href="#file-delete-and-moving-permissions" aria-label="Permalink to “File DELETE and moving permissions”">​</a></h3><ul><li>Non-login user don&#39;t have <code>DELETE</code>/move permission.</li><li>Every user can have <code>DELETE</code> permission that they own.</li><li>User can move files if they have write access to the destination path.</li></ul><h3 id="directory-listing" tabindex="-1">Directory-listing <a class="header-anchor" href="#directory-listing" aria-label="Permalink to “Directory-listing”">​</a></h3><p>Directory-listing is not allowed for these users.</p><h1 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to “Summary”">​</a></h1><table tabindex="0"><thead><tr><th>Permission</th><th>Admin</th><th>User</th><th>Peer-r</th><th>Peer-w</th><th>Owner (not the user)</th><th>Non-peer user / Guest</th></tr></thead><tbody><tr><td>GET</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Depends on file</td></tr><tr><td>PUT/POST</td><td>Yes</td><td>Yes</td><td>No</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td>DELETE file</td><td>Yes</td><td>Yes</td><td>No</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td>DELETE path</td><td>Yes</td><td>Yes</td><td>No</td><td>Yes</td><td>N/A</td><td>No</td></tr><tr><td>move</td><td>Yes</td><td>Yes</td><td>No</td><td>Yes</td><td>Dep. on destination</td><td>No</td></tr><tr><td>list</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No if not peer</td><td>No</td></tr></tbody></table><blockquote><p>Capitilized methods are HTTP methods, N/A means not applicable.</p></blockquote><div class="info custom-block"><p class="custom-block-title custom-block-title-default">INFO</p><p>Peer relations can be overridden by single directory permission settings, please refer to the <a href="./lfssdir.html">Single Directory Configuration</a> document for more details.</p></div>',24)])])}const u=t(o,[["render",a]]);export{m as __pageData,u as default};
