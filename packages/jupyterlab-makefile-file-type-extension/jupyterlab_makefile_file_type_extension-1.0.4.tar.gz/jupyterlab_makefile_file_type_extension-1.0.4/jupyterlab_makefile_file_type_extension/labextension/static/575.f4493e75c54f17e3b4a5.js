"use strict";(self.webpackChunkjupyterlab_makefile_file_type_extension=self.webpackChunkjupyterlab_makefile_file_type_extension||[]).push([[575],{575:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f,makefileIcon:()=>c});var i=t(337),n=t(694),l=t(84);const o=/\$[\({][A-Za-z0-9_]+[\)}]/,s=/\$\{[A-Za-z0-9_]+\}/,m=/\$\([A-Za-z0-9_]+\)/,r={name:"makefile",startState:()=>({inRecipe:!1,inComment:!1}),token:(e,a)=>{const t=e.peek();if("\\"===t){const a=e.pos;if(e.next(),e.eol())return"keyword.control escape";e.pos=a}if("#"===t)return e.skipToEnd(),"comment";if('"'===t||"'"===t){const a=e.next();for(;!e.eol();){const t=e.next();if(t===a)break;"\\"===t&&e.next()}return"string"}return e.sol()&&"\t"===t?(a.inRecipe=!0,e.next(),"meta"):(e.sol()&&"\t"!==t&&(a.inRecipe=!1),a.inRecipe?"$"===t?(e.match(o)||e.next(),"variableName"):e.match(/^(if|then|else|fi|for|in|do|done|case|esac|while|until)\b/)||e.match(/^(echo|cd|mkdir|rm|cp|mv|grep|sed|awk|make)\b/)?"keyword":(e.next(),null):(e.sol()||e.match(/^\s*/))&&e.match(/^[A-Z_][A-Z0-9_]*\s*[:?+]?=/,!1)&&e.match(/^[A-Z_][A-Z0-9_]*/)?(e.match(/\s*[:?+]?=/),"variableName.definition strong"):(e.sol()||e.match(/^\s*/)&&e.sol())&&e.match(/^[a-zA-Z0-9_-]+(?=\s*:)/)?"keyword.control strong":e.match(/^\.[A-Z_]+/)?"keyword.control":"$"===t?e.match(/\$\(shell\b/)||e.match(/\$\(wildcard\b|\$\(patsubst\b|\$\(filter\b|\$\(subst\b|\$\(foreach\b/)?"keyword":e.match(s)?"variableName.special":e.match(m)?"variableName strong":e.match(/\$[@<^+?*%|]/)?"variableName.special":(e.next(),"variableName"):e.match(/[:=]/)||e.match(/[?+:]=/)?"operator":(e.next(),null))}},c=new n.LabIcon({name:"makefile:icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <text x="12" y="18" font-size="20" font-weight="900" text-anchor="middle" fill="#d84a4a" font-family="Arial, sans-serif">M</text>\n</svg>'}),f={id:"jupyterlab_makefile_file_type_extension:plugin",description:"Jupyterlab extension to add handling of Makefiles and syntax colouring support",autoStart:!0,requires:[i.IEditorLanguageRegistry],activate:(e,a)=>{console.log("JupyterLab extension jupyterlab_makefile_file_type_extension is activated!"),a.addLanguage({name:"makefile",displayName:"Makefile",mime:"text/x-makefile",extensions:[".mk"],filename:/^(Makefile|makefile|GNUmakefile)$/,support:new l.LanguageSupport(l.StreamLanguage.define(r))}),e.docRegistry.addFileType({name:"makefile",displayName:"Makefile",mimeTypes:["text/x-makefile"],extensions:[".mk"],pattern:"^(Makefile|makefile|GNUmakefile)$",fileFormat:"text",icon:c},["text/x-makefile"])}}}}]);