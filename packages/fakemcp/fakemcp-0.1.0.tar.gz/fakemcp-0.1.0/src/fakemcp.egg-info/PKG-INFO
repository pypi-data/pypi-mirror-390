Metadata-Version: 2.4
Name: fakemcp
Version: 0.1.0
Summary: Intelligent MCP server simulator for testing AI agents with scenario-driven mock data generation
Author-email: FakeMCP Team <fakemcp@example.com>
Maintainer-email: FakeMCP Team <fakemcp@example.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/yourusername/fakemcp
Project-URL: Documentation, https://github.com/yourusername/fakemcp#readme
Project-URL: Repository, https://github.com/yourusername/fakemcp
Project-URL: Issues, https://github.com/yourusername/fakemcp/issues
Keywords: mcp,testing,mock,simulator,ai-agent
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: Software Development :: Testing :: Mocking
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: mcp>=0.1.0
Requires-Dist: httpx>=0.24.0
Requires-Dist: jsonschema>=4.17.0
Requires-Dist: pyyaml>=6.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"

# FakeMCP

FakeMCP æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„ MCP (Model Context Protocol) æœåŠ¡å™¨æ¨¡æ‹Ÿå™¨ï¼Œç”¨äºåœ¨æµ‹è¯• AI Agent æ—¶æ¨¡æ‹Ÿå…¶ä»– MCP æœåŠ¡å™¨çš„è¡Œä¸ºã€‚å®ƒèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·æä¾›çš„åœºæ™¯æè¿°å’ŒçœŸå® MCP æœåŠ¡å™¨é…ç½®ï¼Œç”Ÿæˆç¬¦åˆé€»è¾‘çš„æ¨¡æ‹Ÿæ•°æ®ï¼Œä»è€Œå¸®åŠ©å¼€å‘è€…æµ‹è¯•å„ç§å¤æ‚åœºæ™¯è€Œæ— éœ€ä¾èµ–çœŸå®çš„å¤–éƒ¨æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ­ **è§’è‰²é©±åŠ¨**: å°†åœºæ™¯ä¸­çš„å®ä½“ï¼ˆåŸå¸‚ã€æœåŠ¡å™¨ã€ç”¨æˆ·ç­‰ï¼‰æŠ½è±¡ä¸º"è§’è‰²"ï¼Œæ¯ä¸ªè§’è‰²æœ‰ç‹¬ç«‹çš„çŠ¶æ€å’Œè¡Œä¸º
- ğŸ“ **å‰§æœ¬æ¨¡å¼**: åœºæ™¯æè¿°å°±åƒç”µå½±å‰§æœ¬ï¼Œå®šä¹‰è§’è‰²åœ¨ç‰¹å®šæƒ…å¢ƒä¸‹çš„è¡¨ç°
- ğŸ”— **å› æœå…³ç³»**: æ”¯æŒè·¨è§’è‰²çš„å› æœå…³ç³»ï¼Œæ¨¡æ‹Ÿå¤æ‚çš„ç³»ç»Ÿäº¤äº’åœºæ™¯
- ğŸ“Š **å‰§æƒ…å›¾**: æ„å»ºå’ŒéªŒè¯å‰§æƒ…çš„æ—¶é—´çº¿ï¼Œç¡®ä¿æ•°æ®çš„é€»è¾‘ä¸€è‡´æ€§
- ğŸ¤– **AI åä½œ**: é€šè¿‡ guide å·¥å…·è¿”å›æç¤ºè¯ï¼Œè®© AI IDE çš„ Agent è‡ªåŠ¨åŒ–åœ°å¸®åŠ©æ„å»ºåœºæ™¯
- ğŸ“š **çœŸå®å­¦ä¹ **: ä»çœŸå® MCP æœåŠ¡å™¨è·å– Schema å’Œç¤ºä¾‹æ•°æ®ï¼Œç¡®ä¿æ¨¡æ‹Ÿæ•°æ®çš„çœŸå®æ€§
- ğŸ’¾ **åœºæ™¯æŒä¹…åŒ–**: æ”¯æŒä¿å­˜å’ŒåŠ è½½åœºæ™¯é…ç½®ï¼Œæ–¹ä¾¿é‡å¤ä½¿ç”¨æµ‹è¯•åœºæ™¯

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# åŸºç¡€å®‰è£…
pip install -e .

# å¼€å‘å®‰è£…ï¼ˆåŒ…å«æµ‹è¯•ä¾èµ–ï¼‰
pip install -e ".[dev]"
```

### å¯åŠ¨æœåŠ¡å™¨

```bash
fakemcp
```

æœåŠ¡å™¨å°†é€šè¿‡æ ‡å‡†è¾“å…¥/è¾“å‡ºä¸ AI IDE é€šä¿¡ï¼ˆMCP åè®®ï¼‰ã€‚

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **åˆå§‹åŒ–åœºæ™¯**: ä½¿ç”¨ `guide` å·¥å…·è·å–å¼•å¯¼æç¤º
2. **æ·»åŠ ç›®æ ‡ MCP**: ä½¿ç”¨ `add_target_mcp` æ·»åŠ è¦æ¨¡æ‹Ÿçš„ MCP æœåŠ¡å™¨
3. **è®¾ç½®åœºæ™¯æè¿°**: ä½¿ç”¨ `set_scenario` æè¿°æµ‹è¯•åœºæ™¯
4. **é…ç½®è§’è‰²**: ä½¿ç”¨ `add_actor_config` ä¸ºè§’è‰²æ·»åŠ åœºæ™¯é…ç½®
5. **æ„å»ºå‰§æƒ…**: ä½¿ç”¨ `add_causality_relation` å»ºç«‹å› æœå…³ç³»
6. **ç”Ÿæˆæ•°æ®**: ä½¿ç”¨ `generate_mock_data` ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
7. **éªŒè¯æ•°æ®**: ä½¿ç”¨ `validate_mock_data` éªŒè¯æ•°æ®åˆç†æ€§
8. **ä¿å­˜åœºæ™¯**: ä½¿ç”¨ `save_scenario` ä¿å­˜é…ç½®ä¾›åç»­ä½¿ç”¨

è¯¦ç»†ç¤ºä¾‹è¯·å‚è€ƒ [EXAMPLES.md](EXAMPLES.md)ã€‚

## æ ¸å¿ƒæ¦‚å¿µ

### åœºæ™¯ (Scenario)
åœºæ™¯æ˜¯æµ‹è¯•çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ŒåŒ…å«åœºæ™¯æè¿°ã€æ¶‰åŠçš„ç›®æ ‡ MCP æœåŠ¡å™¨ã€è§’è‰²é…ç½®ç­‰ä¿¡æ¯ã€‚

### è§’è‰² (Actor)
è§’è‰²æ˜¯åœºæ™¯ä¸­çš„å®ä½“ï¼Œå¦‚æœåŠ¡å™¨ã€åŸå¸‚ã€ç”¨æˆ·ç­‰ã€‚æ¯ä¸ªè§’è‰²æœ‰ç‹¬ç«‹çš„çŠ¶æ€å’Œè¡Œä¸ºé…ç½®ï¼Œæ”¯æŒå±‚çº§å…³ç³»ï¼ˆå¦‚"å—å±±åŒº"å±äº"æ·±åœ³"ï¼‰ã€‚

### ç›®æ ‡ MCP (Target MCP)
éœ€è¦è¢« FakeMCP æ¨¡æ‹Ÿçš„çœŸå® MCP æœåŠ¡å™¨ã€‚FakeMCP ä¼šä»ç›®æ ‡ MCP è·å– Schema å’Œç¤ºä¾‹æ•°æ®ï¼Œç”¨äºç”Ÿæˆç¬¦åˆæ ¼å¼çš„æ¨¡æ‹Ÿæ•°æ®ã€‚

### å› æœå…³ç³» (Causality Relation)
å®šä¹‰è§’è‰²ä¹‹é—´çš„å› æœå…³ç³»ï¼Œå¦‚"æœåŠ¡ A çš„é”™è¯¯å¯¼è‡´æœåŠ¡ B çš„å†…å­˜æ³„éœ²"ã€‚FakeMCP ä¼šæ ¹æ®å› æœå…³ç³»ç”Ÿæˆç¬¦åˆé€»è¾‘çš„æ•°æ®ã€‚

### å‰§æƒ…å›¾ (Plot Graph)
åŸºäºå› æœå…³ç³»æ„å»ºçš„æœ‰å‘å›¾ï¼Œè¡¨ç¤ºäº‹ä»¶çš„æ—¶é—´çº¿å’Œä¾èµ–å…³ç³»ã€‚ç”¨äºæŒ‡å¯¼æ•°æ®ç”Ÿæˆï¼Œç¡®ä¿æ•°æ®çš„é€»è¾‘ä¸€è‡´æ€§ã€‚

## å¯ç”¨å·¥å…·

FakeMCP é€šè¿‡ MCP åè®®æš´éœ²ä»¥ä¸‹å·¥å…·ï¼š

### å·¥ä½œæµå¼•å¯¼
- `guide`: è·å–å½“å‰é˜¶æ®µçš„å¼•å¯¼æç¤ºå’Œä¸‹ä¸€æ­¥æ“ä½œå»ºè®®

### åœºæ™¯ç®¡ç†
- `set_scenario`: è®¾ç½®åœºæ™¯æè¿°
- `add_target_mcp`: æ·»åŠ ç›®æ ‡ MCP æœåŠ¡å™¨
- `get_scenario_status`: è·å–å½“å‰åœºæ™¯çŠ¶æ€

### è§’è‰²ç®¡ç†
- `add_actor_config`: ä¸ºè§’è‰²æ·»åŠ åœºæ™¯é…ç½®
- `remove_actor_config`: åˆ é™¤è§’è‰²é…ç½®
- `list_actors`: åˆ—å‡ºæ‰€æœ‰è§’è‰²

### å‰§æƒ…ç®¡ç†
- `request_plot_expansion`: è¯·æ±‚å‰§æƒ…æ‰©å±•ï¼ˆè¿”å›æç¤ºè¯ç»™ AI IDEï¼‰
- `add_causality_relation`: æ·»åŠ å› æœå…³ç³»
- `build_plot_graph`: æ„å»ºå‰§æƒ…å›¾
- `validate_plot_consistency`: éªŒè¯å‰§æƒ…ä¸€è‡´æ€§

### æ•°æ®æ“ä½œ
- `fetch_real_data`: ä»çœŸå® MCP æœåŠ¡å™¨è·å–ç¤ºä¾‹æ•°æ®
- `generate_mock_data`: ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
- `validate_mock_data`: éªŒè¯æ¨¡æ‹Ÿæ•°æ®çš„åˆç†æ€§

### åœºæ™¯æŒä¹…åŒ–
- `save_scenario`: ä¿å­˜åœºæ™¯é…ç½®åˆ°æ–‡ä»¶
- `load_scenario`: ä»æ–‡ä»¶åŠ è½½åœºæ™¯é…ç½®

è¯¦ç»†çš„å·¥å…·å‚æ•°å’Œè¿”å›å€¼è¯·å‚è€ƒè®¾è®¡æ–‡æ¡£ã€‚

## é¡¹ç›®ç»“æ„

```
fakemcp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ fakemcp/
â”‚       â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–
â”‚       â”œâ”€â”€ main.py                  # ä¸»å…¥å£
â”‚       â”œâ”€â”€ config.py                # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ models.py                # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ database.py              # æ•°æ®åº“å±‚
â”‚       â”œâ”€â”€ mcp_server.py            # MCP åè®®å±‚
â”‚       â”œâ”€â”€ scenario_manager.py      # åœºæ™¯ç®¡ç†å™¨
â”‚       â”œâ”€â”€ actor_manager.py         # è§’è‰²ç®¡ç†å™¨
â”‚       â”œâ”€â”€ target_mcp_analyzer.py   # ç›®æ ‡ MCP åˆ†æå™¨
â”‚       â”œâ”€â”€ data_generator.py        # æ•°æ®ç”Ÿæˆå™¨
â”‚       â”œâ”€â”€ plot_manager.py          # å‰§æƒ…ç®¡ç†å™¨
â”‚       â”œâ”€â”€ validation_service.py    # éªŒè¯æœåŠ¡
â”‚       â”œâ”€â”€ workflow_guide.py        # å·¥ä½œæµå¼•å¯¼
â”‚       â”œâ”€â”€ errors.py                # é”™è¯¯å®šä¹‰
â”‚       â”œâ”€â”€ logger.py                # æ—¥å¿—é…ç½®
â”‚       â””â”€â”€ tools/                   # MCP å·¥å…·å®ç°
â”‚           â”œâ”€â”€ guide_tool.py        # å¼•å¯¼å·¥å…·
â”‚           â”œâ”€â”€ scenario_tools.py    # åœºæ™¯ç®¡ç†å·¥å…·
â”‚           â”œâ”€â”€ actor_tools.py       # è§’è‰²ç®¡ç†å·¥å…·
â”‚           â”œâ”€â”€ plot_tools.py        # å‰§æƒ…ç®¡ç†å·¥å…·
â”‚           â”œâ”€â”€ data_tools.py        # æ•°æ®æ“ä½œå·¥å…·
â”‚           â””â”€â”€ persistence_tools.py # æŒä¹…åŒ–å·¥å…·
â”œâ”€â”€ tests/                           # æµ‹è¯•ç›®å½•
â”œâ”€â”€ examples/                        # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ .kiro/specs/fake-mcp-server/    # è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ pyproject.toml                   # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md                        # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ EXAMPLES.md                      # ä½¿ç”¨ç¤ºä¾‹
```

## æ¶æ„è®¾è®¡

FakeMCP é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼š

1. **MCP åè®®å±‚**: å¤„ç† MCP åè®®çš„æ¡æ‰‹ã€å·¥å…·æ³¨å†Œå’Œè°ƒç”¨è·¯ç”±
2. **å·¥å…·å±‚**: å®ç°å„ç§ MCP å·¥å…·çš„å¤„ç†é€»è¾‘
3. **æ ¸å¿ƒæœåŠ¡å±‚**: æä¾›åœºæ™¯ç®¡ç†ã€è§’è‰²ç®¡ç†ã€æ•°æ®ç”Ÿæˆç­‰æ ¸å¿ƒåŠŸèƒ½
4. **å­˜å‚¨å±‚**: æŒä¹…åŒ–åœºæ™¯é…ç½®ã€è§’è‰²çŠ¶æ€ã€Schema ç¼“å­˜ç­‰æ•°æ®

è¯¦ç»†çš„æ¶æ„è®¾è®¡è¯·å‚è€ƒ `.kiro/specs/fake-mcp-server/design.md`ã€‚

## å¼€å‘

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_scenario_manager.py

# è¿è¡Œæµ‹è¯•å¹¶æ˜¾ç¤ºè¦†ç›–ç‡
pytest --cov=fakemcp
```

### ä»£ç é£æ ¼

é¡¹ç›®ä½¿ç”¨ Python æ ‡å‡†ä»£ç é£æ ¼ï¼Œå»ºè®®ä½¿ç”¨ `black` å’Œ `isort` è¿›è¡Œä»£ç æ ¼å¼åŒ–ã€‚

## ä¾èµ–

- Python >= 3.10
- mcp >= 0.1.0
- httpx >= 0.24.0
- jsonschema >= 4.17.0
- pyyaml >= 6.0

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT

## ç›¸å…³èµ„æº

- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io/)
- [è®¾è®¡æ–‡æ¡£](.kiro/specs/fake-mcp-server/design.md)
- [éœ€æ±‚æ–‡æ¡£](.kiro/specs/fake-mcp-server/requirements.md)
- [ä½¿ç”¨ç¤ºä¾‹](EXAMPLES.md)
