{
  "Timestamps": {
    "Admission": "assign({Unit Discharge Offset}, 0)",
    "Discharge": "{Unit Discharge Offset}"
  },
  "Demographics": {
    "Gender": "{Gender}",
    "Age": "{Age}",
    "Height": "{Admission Height} where #value <= 250 and #value >= 50",
    "Weight": "{Admission Weight}",
    "HospitalMortality": "{Hospital Discharge Status} = 'Expired' impute 0"
  },
  "Comorbidities": {
    "Diagnoses": "replace({Diagnosis; scope = Diagnosis}, '.', '')",
    "congestive_heart_failure": "\n any (Diagnoses contains /\\b(?:39891|40201|40211|40291|40401|40403|40411|40413|40491|40493)\\b/\n  or Diagnoses contains /\\b(?:425[45789]|428|I099|I110|I130|I132|I255|I42[056789]|P290|I43|I50)/)\n from #mintime to #maxtime\n",
    "cardiac_arrhythmias": "\n any (Diagnoses contains /\\b(?:42613|42610|42612|99601|99604)\\b/\n  or Diagnoses contains /\\b(?:4260|4267|4269|427[01234689]|7850|V450|V533|I44[123]|I4566|I459|I47|I48|I49|R00[018]|T821|Z450|Z950)/i)\n from #mintime to #maxtime\n",
    "valvular_disease": "\n any (Diagnoses contains /\\b(?:0932|7463|7464|7465|7466|V422|V433|39[4567]|424|A520|I091|I098|Q23[0123]|Z95[234]|I0[5678]|I3[4-9])/i)\n from #mintime to #maxtime\n",
    "pulmonary_circulation": "\n any (Diagnoses contains /\\b(?:4150|4151|4170|4178|4179|416|I28[089]|I26|I27)/i)\n from #mintime to #maxtime\n",
    "peripheral_vascular": "\n any (Diagnoses contains /\\b(?:0930|4373|4431|4432|4438|4439|4471|5571|5579|V434|440|441|I731|I738|I739|I771|I790|I792|K551|K558|K559|Z958|Z959|I70|I71')/i)\n from #mintime to #maxtime\n",
    "hypertension": "\n any (Diagnoses contains /\\b(?:40[1-5]|I1[01235]')/i)\n from #mintime to #maxtime\n",
    "paralysis": "\n any (Diagnoses contains /\\b(?:3341|344[01234569]|342|343|G041|G114|G801|G802|G83[012349]|G81|G82)/i)\n from #mintime to #maxtime\n",
    "other_neurological": "\n any (Diagnoses contains /\\b(?:33392\\b|3319|332[0145]|3361|3481|3483|7803|7843|334|335|340|341|345|G254|G255|G312|G318|G319|G931|G934|R470|G1[0123]|G2[012]|G3[2567]|G40|G41|R56)/i)\n from #mintime to #maxtime\n",
    "chronic_pulmonary": "\n any (Diagnoses contains /\\b(?:4168|4169|5064|5081|5088|490|491|492|493|494|495|496|50[0-5]|I278|I279|J684|J701|J703|J4[0-7]|J6[0-7])/i)\n from #mintime to #maxtime\n",
    "diabetes_complicated": "\n any (Diagnoses contains /\\b(?:250[4-9]|E10[2-8]|E1[1-4][2-8])/i)\n from #mintime to #maxtime\n",
    "diabetes_uncomplicated": "\n (any (Diagnoses contains /\\b(?:250[0-3]|E1[0-4][019])/i)\n from #mintime to #maxtime)\n and not (any (Diagnoses contains /\\b(?:250[4-9]|E1[0-4][2-8])/i)\n from #mintime to #maxtime)\n",
    "hypothyroidism": "\n any (Diagnoses contains /\\b(?:2409|2461|2468|243|244|E890|E[0-3])/i)\n from #mintime to #maxtime\n",
    "renal_failure": "\n any (Diagnoses contains /\\b(?:40301\\b|40311\\b|40391\\b|40402\\b|40403\\b|40412\\b|40413\\b|40492\\b|40493\\b|5880|V420|V451|585|586|V56|I120|I131|N250|Z490|Z491|Z492|Z940|Z992|N18|N19)/i)\n from #mintime to #maxtime\n",
    "liver_disease": "\n any (Diagnoses contains /\\b(?:07022\\b|07023\\b|07032\\b|07033\\b|07044\\b|07054\\b|0706|0709|4560|4561|4562|572[2348]|573[3489]|V427|570|571|I864|I982|K711|K713|K714|K715|K717|K760|K762|K763|K76[4-9]|Z944','B18|I85|K7[0234])/i)\n from #mintime to #maxtime\n",
    "peptic_ulcer": "\n any (Diagnoses contains /\\b(?:5317|5319|5327|5329|5337|5339|5347|5349|K257|K259|K267|K269|K277|K279|K287|K289)/i)\n from #mintime to #maxtime\n",
    "aids": "\n any (Diagnoses contains /\\b(?:04[2-4]|B2[0124])/i)\n from #mintime to #maxtime\n",
    "lymphoma": "\n any (Diagnoses contains /\\b(?:2030|2386|20[012]|C900|C902|C8[123458]|C96)/i)\n from #mintime to #maxtime\n",
    "metastatic_cancer": "\n any (Diagnoses contains /\\b(?:19[6-9]|C7[7-9]|C80)/i)\n from #mintime to #maxtime\n",
    "solid_tumor": "\n (any (Diagnoses contains /\\b(?:1[4-6][0-9]|17[012456789]|18[0-9]|19[0-5]|C[0-6]|C7[0-6]|C97)/i)\n from #mintime to #maxtime)\n and not (any (Diagnoses contains /\\b(?:19[6-9]|C7[7-9]|C80)/i)\n from #mintime to #maxtime)\n",
    "rheumatoid_arthritis": "\n any (Diagnoses contains /\\b(?:72889|72930|7010|710[0123489]|7112|7193|7285|446|714|720|725|L940|L941|L943|M120|M123|M310|M311|M312|M313|M461|M468|M469|M05|M06|M08|M30|M32|M33|M34|M35|M45)/i)\n from #mintime to #maxtime\n",
    "coagulopathy": "\n any (Diagnoses contains /\\b(?:287[1345]|286|D69[13456]|D6[5-8])/i)\n from #mintime to #maxtime\n",
    "obesity": "\n any (Diagnoses contains /\\b(?:2780|E66)/i)\n from #mintime to #maxtime\n",
    "weight_loss": "\n any (Diagnoses contains /\\b(?:7832|7994|26[0-3]|R634|R64|E4[0-6])/i)\n from #mintime to #maxtime\n",
    "fluid_electrolyte": "\n any (Diagnoses contains /\\b(?:2536|276|E222|E8[67])/i)\n from #mintime to #maxtime\n",
    "blood_loss_anemia": "\n any (Diagnoses contains /\\b(?:2800|D500)/i)\n from #mintime to #maxtime\n",
    "deficiency_anemias": "\n any (Diagnoses contains /\\b(?:280[189]|281|D508|D509|D5[1-3])/i)\n from #mintime to #maxtime\n",
    "alcohol_abuse": "\n any (Diagnoses contains /\\b(?:2652|2911|2912|2913|2915|2918|2919|3030|3039|3050|3575|4255|5353|5710|5711|5712|5713|V113|980|F10|E52|G621|I426|K292|K700|K703|K709|Z502|Z714|Z721|T51)/i)\n from #mintime to #maxtime\n",
    "drug_abuse": "\n any (Diagnoses contains /\\b(?:V6542\\b|305[2-9]|292|304|Z715|Z722|F1[1-689])/i)\n from #mintime to #maxtime\n",
    "psychoses": "\n any (Diagnoses contains /\\b(?:29604\\b|29614\\b|29644\\b|29654\\b|2938|29[578]|F302|F312|F315|F2[0234589])/i)\n from #mintime to #maxtime\n",
    "depression": "\n any (Diagnoses contains /\\b(?:296[235]|3004|309|311|F204|F31[345]|F3341|F412|F432|F32|F33)/i)\n from #mintime to #maxtime\n"
  },
  "Vitals": {
    "HeartRate": "{Heart Rate; scope = Vitals}",
    "DiaBP": "{name startswith 'DiaBP'; scope = Vitals}",
    "SysBP": "{name startswith 'SysBP'; scope = Vitals}",
    "MeanBP": "{name startswith 'MeanBP'; scope = Vitals}",
    "TemperatureC": "((case when Temp >= 50 then (Temp - 32) * 5 / 9 else Temp end) where #value < 50) with Temp as {Temperature; scope = Vitals}",
    "CVP": "{CVP; scope = Nursing}",
    "HeartRhythm": "{type = event}",
    "RASS": "{RASS; scope = Nursing}",
    "GCSEye": "{GCS Eyes; scope = GCS}",
    "GCSMotor": "{GCS Motor; scope = GCS}",
    "GCSVerbal": "{GCS Verbal; scope = GCS}",
    "GCSTotal": "{type = event}",
    "RespiratoryRate": "{Respiratory Rate; scope = Vitals}",
    "SpO2": "{name matches /o2 saturation|spo2/i; scope = Nursing}",
    "PAPdia": "{DiaPAP; scope = Vitals}",
    "PAPmean": "{MeanPAP; scope = Vitals}",
    "PAPsys": "{SysPAP; scope = Vitals}"
  },
  "Labs": {
    "ALT": "{ALT (SGPT); scope = Lab}",
    "AST": "{AST (SGOT); scope = Lab}",
    "ArterialBE": "{Base Excess; scope = Lab}",
    "ArterialpH": "{pH; scope = Lab}",
    "BUN": "{BUN; scope = Lab}",
    "Bicarbonate": "{name contains /bicarb|hco3/i; scope = Lab}",
    "CO2Calc": "{Total CO2; scope = Lab}",
    "Calcium": "{calcium; scope = Lab}",
    "Chloride": "{chloride; scope = Lab}",
    "Creatinine": "{creatinine; scope = Lab}",
    "DirectBili": "{direct bilirubin; scope = Lab}",
    "FiO2": "union({FiO2; scope = Lab} where not (#value contains '%'), {FiO2; scope = Respiratory} where not (#value contains '%'))",
    "Glucose": "{name in ('bedside glucose', 'glucose'); scope = Lab}",
    "Hematocrit": "{Hct; scope = Lab}",
    "Hemoglobin": "{Hgb; scope = Lab}",
    "INR": "{type = event}",
    "IonizedCa": "{ionized calcium; scope = Lab}",
    "LacticAcid": "{lactate; scope = Lab}",
    "Magnesium": "{magnesium; scope = Lab}",
    "PT": "{PT; scope = Lab}",
    "PTT": "{PTT; scope = Lab}",
    "PaCO2": "{paCO2; scope = Lab}",
    "PaO2": "{paO2; scope = Lab}",
    "Platelets": "{platelets x 1000; scope = Lab}",
    "Potassium": "{potassium; scope = Lab}",
    "Sodium": "{sodium; scope = Lab}",
    "TotalBili": "{total bilirubin; scope = Lab}",
    "Troponin": "{name startswith 'troponin'; scope = Lab}",
    "VenousO2Sat": "{SVO2; scope = Nursing}",
    "WBCCount": "{name startswith 'WBC'; scope = Lab}"
  },
  "Respiratory": {
    "InvasiveVentilation": "{Mechanical Ventilation; scope = Respiratory}",
    "MeanAirwayPressure": "{Mean Airway Pressure; scope = Respiratory}",
    "MinuteVolume": "{name startswith 'Minute'; scope = Respiratory}",
    "NoninvasiveVentilation": "intervals(device where #value not in ('None (Room air)', 'Ventilator'), device where #value = 'None (Room air)') with device as {name in ('O2 Device', 'Respiratory Device'); scope = Respiratory}",
    "O2DeliveryDevice": "{name in ('O2 Device', 'Respiratory Device'); scope = Respiratory}",
    "O2Flow": "{name contains /Flow($| Rate)/; scope = Respiratory}",
    "PEEP": "{PEEP; scope = Respiratory}",
    "PeakInspiratoryPressure": "{Peak Insp. Pressure; scope = Respiratory}",
    "PlateauPressure": "{Plateau Pressure; scope = Respiratory}",
    "TidalVolume": "replace({name startswith 'Tidal Volume'; scope = Respiratory}, '%', '')"
  },
  "Treatment": {
    "Input": "(({Cumulative Intake; scope = Fluids} - (last {Cumulative Intake; scope = Fluids} before #now impute 0 at every {Cumulative Intake; scope = Fluids}))) where #value > 0",
    "Output": "(({Cumulative Output; scope = Fluids} - (last {Cumulative Output; scope = Fluids} before #now impute 0 at every {Cumulative Output; scope = Fluids}))) where #value > 0",
    "Dialysis": "((({Cumulative Dialysis; scope = Fluids} - (last {Cumulative Dialysis; scope = Fluids} before #now impute 0 at every {Cumulative Dialysis; scope = Fluids}))) != 0) where #value != 0",
    "OnDialysis": "((({Cumulative Dialysis; scope = Fluids} - (last {Cumulative Dialysis; scope = Fluids} before #now impute 0 at every {Cumulative Dialysis; scope = Fluids}))) != 0) where #value != 0",
    "Norepinephrine": "\n vals * 30\n with vals as union(\n ({name = 'Norepinephrine (mcg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/) / Weight,\n ({name = 'Norepinephrine (mcg/kg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/),\n ({name = 'Norepinephrine (ml/hr)'; scope = Infusion} where #value contains /^[-0-9.]+$/) / 60 / Weight\n )",
    "Epinephrine": "\n vals * 30\n  with vals as union(\n ({name = 'Epinephrine (mcg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/) / Weight,\n ({name = 'Epinephrine (mcg/kg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/),\n ({name = 'Epinephrine (ml/hr)'; scope = Infusion} where #value contains /^[-0-9.]+$/) * 0.1 / 60 / Weight\n )\n ",
    "Phenylephrine": "\n vals * 30\n  with vals as union(\n ({name = 'Phenylephrine (mcg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/) / Weight,\n ({name = 'Phenylephrine (mcg/kg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/),\n ({name = 'Phenylephrine (ml/hr)'; scope = Infusion} where #value contains /^[-0-9.]+$/) / 60 / Weight\n )\n ",
    "Dopamine": "\n vals * 30\n  with vals as union(\n ({name = 'Dopamine (mcg/kg/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/),\n ({name = 'Dopamine (ml/hr)'; scope = Infusion} where #value contains /^[-0-9.]+$/) * 1.6 / 60 / Weight\n )\n ",
    "Vasopressin": "\n vals * 30\n  with vals as union(\n ({name = 'Vasopressin (units/min)'; scope = Infusion} where #value contains /^[-0-9.]+$/),\n            ({name = 'Vasopressin (ml/hr)'; scope = Infusion} where #value contains /^[-0-9.]+$/) * 0.1 / 60\n        )\n    ",
    "CardioversionDefibrillation": "{name contains /cardioversion|defibrillation/i; scope = Treatment}",
    "Diuretic": "{name contains /acetazolamide|bumetanide|chlorothiazide|eplerenone|furosemide|hydrochlorothiazide|metolazone|spironolactone|tolvaptan|torsemide/i; scope = Medication}",
    "Immunosuppressant": "{name contains /anti\\-thymocyte\\ globulin\\ \\(rabbit\\)|azathioprine|cyclosporine|methylprednisolone|mycophenolate|mycophenolate\\ mofetil|prednisone|ruxolitinib|sirolimus|tacrolimus/i; scope = Medication}",
    "AntimicrobialTx": "{name contains /abacavir|acyclovir|ambisome|amikacin|amoxicillin|amoxicillin\\-clavulanate|amphotericin\\ b|ampicillin|ampicillin\\-sulbactam|atazanavir|azithromycin|aztreonam|bacitracin|bactrim|caspofungin|cefazolin|cefepime|cefpodoxime\\ proxetil|ceftaroline|ceftolozane\\-tazobactam|ceftriaxone|cephalexin|cidofovir|ciprofloxacin|clarithromycin|clindamycin|clotrimazole|colistin|daptomycin|darunavir|daunorubicin|dicloxacillin|dolutegravir|doxorubicin|doxycycline\\ hyclate|efavirenz|emtricitabine|emtricitabine\\-tenofovir|entecavir|ertapenem|erythromycin|etravirine|fluconazole|flucytosine|foscarnet|ganciclovir|gentamicin|idarubicin|imipenem\\-cilastatin|ketoconazole|lamivudine|lamivudine\\-zidovudine|ledipasvir\\/sofosbuvir|levofloxacin|linezolid|lopinavir\\-ritonavir|meropenem|metronidazole|micafungin|minocycline|moxifloxacin|mupirocin\\ ointment|nafcillin|neomycin|neomycin\\-polymyxin\\-bacitracin|neomycin\\-polymyxin\\-dexameth|nitrofurantoin|nystatin|oseltamivir|penicillin|piperacillin\\-tazobactam|posaconazole|raltegravir|rifampin|rifaximin|ritonavir|sulfamethoxazole\\-trimethoprim|tenofovir|tetracycline|tigecycline|tobramycin|trimethoprim|valacyclovir|valganciclovir|vancomycin|voriconazole/i; scope = Medication}",
    "PositiveCultureSite": "{Culture; scope = Culture; value = culturesite}"
  }
}