"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6399,8350],{23134:(e,o,n)=>{n.d(o,{Ay:()=>s,gd:()=>i});var t=n(7896),a=n(94414),r=n(78446),c=n(78855);const l=e=>{const{checkboxCls:o}=e,n="".concat(o,"-wrapper");return[{["".concat(o,"-group")]:Object.assign(Object.assign({},(0,a.dF)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,["> ".concat(e.antCls,"-row")]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,a.dF)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(n)]:{marginInlineStart:0},["&".concat(n,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[o]:Object.assign(Object.assign({},(0,a.dF)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",["".concat(o,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(o,"-inner")]:(0,a.jk)(e)},["".concat(o,"-inner")]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat((0,t.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:"".concat((0,t.zA)(e.lineWidthBold)," solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{["\n        ".concat(n,":not(").concat(n,"-disabled),\n        ").concat(o,":not(").concat(o,"-disabled)\n      ")]:{["&:hover ".concat(o,"-inner")]:{borderColor:e.colorPrimary}},["".concat(n,":not(").concat(n,"-disabled)")]:{["&:hover ".concat(o,"-checked:not(").concat(o,"-disabled) ").concat(o,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(o,"-checked:not(").concat(o,"-disabled):after")]:{borderColor:e.colorPrimaryHover}}},{["".concat(o,"-checked")]:{["".concat(o,"-inner")]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}},["\n        ".concat(n,"-checked:not(").concat(n,"-disabled),\n        ").concat(o,"-checked:not(").concat(o,"-disabled)\n      ")]:{["&:hover ".concat(o,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[o]:{"&-indeterminate":{"&":{["".concat(o,"-inner")]:{backgroundColor:"".concat(e.colorBgContainer),borderColor:"".concat(e.colorBorder),"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},["&:hover ".concat(o,"-inner")]:{backgroundColor:"".concat(e.colorBgContainer),borderColor:"".concat(e.colorPrimary)}}}}},{["".concat(n,"-disabled")]:{cursor:"not-allowed"},["".concat(o,"-disabled")]:{["&, ".concat(o,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(o,"-inner")]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},["&".concat(o,"-indeterminate ").concat(o,"-inner::after")]:{background:e.colorTextDisabled}}}]};function i(e,o){const n=(0,r.oX)(o,{checkboxCls:".".concat(e),checkboxSize:o.controlInteractiveSize});return l(n)}const s=(0,c.OF)("Checkbox",(e,o)=>{let{prefixCls:n}=o;return[i(n,e)]})},32513:(e,o,n)=>{n.d(o,{A:()=>j});var t=n(65043),a=n(98139),r=n.n(a),c=n(79688),l=n(13758),i=n(12366),s=n(37489),d=n(35296),u=n(78440),p=n(78887),m=n(16436);const g=t.createContext(null);var h=n(23134),f=n(88042),b=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n};const v=(e,o)=>{var n;const{prefixCls:a,className:v,rootClassName:C,children:y,indeterminate:x=!1,style:k,onMouseEnter:A,onMouseLeave:O,skipGroup:j=!1,disabled:w}=e,S=b(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:E,direction:P,checkbox:N}=t.useContext(d.QO),I=t.useContext(g),{isFormItemInput:B}=t.useContext(m.$W),z=t.useContext(u.A),T=null!==(n=(null===I||void 0===I?void 0:I.disabled)||w)&&void 0!==n?n:z,F=t.useRef(S.value),G=t.useRef(null),M=(0,l.K4)(o,G);t.useEffect(()=>{null===I||void 0===I||I.registerValue(S.value)},[]),t.useEffect(()=>{if(!j)return S.value!==F.current&&(null===I||void 0===I||I.cancelValue(F.current),null===I||void 0===I||I.registerValue(S.value),F.current=S.value),()=>null===I||void 0===I?void 0:I.cancelValue(S.value)},[S.value]),t.useEffect(()=>{var e;(null===(e=G.current)||void 0===e?void 0:e.input)&&(G.current.input.indeterminate=x)},[x]);const R=E("checkbox",a),L=(0,p.A)(R),[H,D,W]=(0,h.Ay)(R,L),q=Object.assign({},S);I&&!j&&(q.onChange=function(){if(S.onChange){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];S.onChange.apply(S,o)}I.toggleOption&&I.toggleOption({label:y,value:S.value})},q.name=I.name,q.checked=I.value.includes(S.value));const X=r()("".concat(R,"-wrapper"),{["".concat(R,"-rtl")]:"rtl"===P,["".concat(R,"-wrapper-checked")]:q.checked,["".concat(R,"-wrapper-disabled")]:T,["".concat(R,"-wrapper-in-form-item")]:B},null===N||void 0===N?void 0:N.className,v,C,W,L,D),V=r()({["".concat(R,"-indeterminate")]:x},s.D,D),[Q,_]=(0,f.A)(q.onClick);return H(t.createElement(i.A,{component:"Checkbox",disabled:T},t.createElement("label",{className:X,style:Object.assign(Object.assign({},null===N||void 0===N?void 0:N.style),k),onMouseEnter:A,onMouseLeave:O,onClick:Q},t.createElement(c.A,Object.assign({},q,{onClick:_,prefixCls:R,className:V,disabled:T,ref:M})),void 0!==y&&null!==y&&t.createElement("span",{className:"".concat(R,"-label")},y))))};const C=t.forwardRef(v);var y=n(60436),x=n(18574),k=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n};const A=t.forwardRef((e,o)=>{const{defaultValue:n,children:a,options:c=[],prefixCls:l,className:i,rootClassName:s,style:u,onChange:m}=e,f=k(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:b,direction:v}=t.useContext(d.QO),[A,O]=t.useState(f.value||n||[]),[j,w]=t.useState([]);t.useEffect(()=>{"value"in f&&O(f.value||[])},[f.value]);const S=t.useMemo(()=>c.map(e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e),[c]),E=e=>{w(o=>o.filter(o=>o!==e))},P=e=>{w(o=>[].concat((0,y.A)(o),[e]))},N=e=>{const o=A.indexOf(e.value),n=(0,y.A)(A);-1===o?n.push(e.value):n.splice(o,1),"value"in f||O(n),null===m||void 0===m||m(n.filter(e=>j.includes(e)).sort((e,o)=>S.findIndex(o=>o.value===e)-S.findIndex(e=>e.value===o)))},I=b("checkbox",l),B="".concat(I,"-group"),z=(0,p.A)(I),[T,F,G]=(0,h.Ay)(I,z),M=(0,x.A)(f,["value","disabled"]),R=c.length?S.map(e=>t.createElement(C,{prefixCls:I,key:e.value.toString(),disabled:"disabled"in e?e.disabled:f.disabled,value:e.value,checked:A.includes(e.value),onChange:e.onChange,className:r()("".concat(B,"-item"),e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):a,L=t.useMemo(()=>({toggleOption:N,value:A,disabled:f.disabled,name:f.name,registerValue:P,cancelValue:E}),[N,A,f.disabled,f.name,P,E]),H=r()(B,{["".concat(B,"-rtl")]:"rtl"===v},i,s,G,z,F);return T(t.createElement("div",Object.assign({className:H,style:u},M,{ref:o}),t.createElement(g.Provider,{value:L},R)))}),O=C;O.Group=A,O.__ANT_CHECKBOX=!0;const j=O},58350:(e,o,n)=>{n.r(o),n.d(o,{default:()=>x});var t=n(89379),a=n(65043),r=n(42261),c=n(15492),l=n(32513),i=n(97326),s=n(8354),d=n(10491),u=n(22019),p=n(85672),m=n(25558),g=n(6051),h=n(12624),f=n(76399),b=n(73847),v=n(95240),C=n(70579);const{Panel:y}=i.A,x=e=>{let{visible:o,onClose:n}=e;const[x,k]=(0,a.useState)(null),[A,O]=(0,a.useState)(""),[j,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o&&S()},[o]);const S=async()=>{try{const e=await fetch("/api/mcp/shell-config");if(e.ok){const o=await e.json();k(o)}}catch(e){console.error("Failed to fetch shell config:",e),k({enabled:!0,allowedCommands:[],gitOperationsEnabled:!0,safeGitOperations:[],timeout:30})}},E=async e=>{try{await fetch("/api/mcp/toggle-server",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_name:"shell",enabled:e})})}catch(o){console.warn("Failed to sync MCP server toggle:",o)}},P=()=>{x&&A.trim()&&!x.allowedCommands.includes(A.trim())&&(k(e=>(0,t.A)((0,t.A)({},e),{},{allowedCommands:[...e.allowedCommands,A.trim()]})),O(""))},N=["rm","rmdir","mv","cp","chmod","chown","sudo","su"],I=e=>N.some(o=>e.toLowerCase().includes(o.toLowerCase()));return x?(0,C.jsx)(p.A,{title:"Shell Command Configuration",open:o,onCancel:n,onOk:async()=>{if(x){w(!0);try{const e=await fetch("/api/mcp/shell-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(e.ok){const o=await e.json();o.success?(await E(x.enabled),window.dispatchEvent(new CustomEvent("mcpStatusChanged",{detail:{serverName:"shell",enabled:x.enabled}})),u.Ay.success(o.message||"Shell configuration updated instantly")):u.Ay.error(o.message||"Failed to update shell configuration"),n()}else u.Ay.error("Failed to save shell configuration")}catch(e){u.Ay.error("Failed to save shell configuration"),console.error("Save error:",e)}finally{w(!1)}}},confirmLoading:j,width:600,okText:"Save Configuration",children:(0,C.jsxs)(g.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)(g.A,{align:"center",children:[(0,C.jsx)(h.A,{checked:x.enabled,onChange:async e=>{k(o=>(0,t.A)((0,t.A)({},o),{},{enabled:e})),await E(e)}}),(0,C.jsx)("span",{children:"Enable shell command execution"})]}),(0,C.jsx)("div",{style:{marginTop:8,color:"#666",fontSize:"12px"},children:"When enabled, the AI agent can execute whitelisted shell commands"})]}),(0,C.jsx)(s.A,{}),(0,C.jsx)(r.A,{message:"Security Notice",description:"Only enable commands that are safe for AI execution. Git operations are limited to read-only and safe operations by default.",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,C.jsxs)(i.A,{defaultActiveKey:["1"],ghost:!0,children:[(0,C.jsxs)(y,{header:"Basic Configuration",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h4",{children:"Allowed Commands"}),(0,C.jsx)("div",{style:{marginBottom:12,color:"#666",fontSize:"12px"},children:"Commands that the AI agent can execute. These are loaded from the server configuration."}),(0,C.jsx)("div",{style:{marginBottom:12},children:(0,C.jsxs)(d.A.Group,{compact:!0,children:[(0,C.jsx)(d.A,{placeholder:"Add additional command",value:A,onChange:e=>O(e.target.value),onPressEnter:P,style:{width:"calc(100% - 80px)"}}),(0,C.jsx)(c.Ay,{type:"primary",icon:(0,C.jsx)(b.A,{}),onClick:P,style:{width:80},children:"Add"})]})}),x.allowedCommands&&x.allowedCommands.length>0&&(0,C.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:16},children:x.allowedCommands.map(e=>(0,C.jsxs)(f.A,{closable:!0,color:I(e)?"red":"blue",onClose:()=>(e=>{x&&k(o=>(0,t.A)((0,t.A)({},o),{},{allowedCommands:o.allowedCommands.filter(o=>o!==e)}))})(e),style:{marginBottom:"4px"},children:[e,I(e)&&(0,C.jsx)(v.A,{style:{marginLeft:4,color:"#ff4d4f"}})]},e))})]}),(0,C.jsx)(s.A,{}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("h4",{children:["Command Timeout: ",x.timeout,"s"]}),(0,C.jsx)(m.A,{min:10,max:600,value:x.timeout,onChange:e=>k(o=>(0,t.A)((0,t.A)({},o),{},{timeout:e})),marks:{10:"10s",60:"1m",120:"2m",300:"5m",600:"10m"},style:{width:"100%",marginBottom:20}})]}),(0,C.jsx)(s.A,{}),(0,C.jsxs)("div",{children:[(0,C.jsxs)(g.A,{align:"center",style:{marginBottom:12},children:[(0,C.jsx)(h.A,{checked:x.gitOperationsEnabled,onChange:e=>k(o=>(0,t.A)((0,t.A)({},o),{},{gitOperationsEnabled:e}))}),(0,C.jsx)("span",{children:"Enable safe Git operations"})]}),(0,C.jsx)("div",{style:{marginBottom:12,color:"#666",fontSize:"12px"},children:"When enabled, allows read-only and safe Git commands"}),x.gitOperationsEnabled&&(0,C.jsxs)("div",{style:{marginLeft:24},children:[(0,C.jsx)("h5",{children:"Allowed Git Operations:"}),(0,C.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["status","log","show","diff","branch","remote","config --get","ls-files","ls-tree","blame","tag","stash list","reflog","rev-parse","describe","shortlog","whatchanged"].map(e=>(0,C.jsxs)(l.A,{checked:x.safeGitOperations.includes(e),onChange:()=>(e=>{x&&k(o=>(0,t.A)((0,t.A)({},o),{},{safeGitOperations:o.safeGitOperations.includes(e)?o.safeGitOperations.filter(o=>o!==e):[...o.safeGitOperations,e]}))})(e),children:["git ",e]},e))})]})]})]},"1"),(0,C.jsx)(y,{header:"Advanced Configuration",children:(0,C.jsx)(r.A,{message:"Advanced Configuration",description:"This section is reserved for future advanced shell configuration options.",type:"info",showIcon:!0})},"2")]})]})}):(0,C.jsx)(p.A,{title:"Shell Command Configuration",open:o,onCancel:n,footer:null,children:(0,C.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:"Loading configuration..."})})}},76399:(e,o,n)=>{n.d(o,{A:()=>N});var t=n(65043),a=n(98139),r=n.n(a),c=n(18574),l=n(11128),i=n(55391),s=n(12701),d=n(12366),u=n(35296),p=n(7896),m=n(60618),g=n(94414),h=n(78446),f=n(78855);const b=e=>{const{lineWidth:o,fontSizeIcon:n,calc:t}=e,a=e.fontSizeSM;return(0,h.oX)(e,{tagFontSize:a,tagLineHeight:(0,p.zA)(t(e.lineHeightSM).mul(a).equal()),tagIconSize:t(n).sub(t(o).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},v=e=>({defaultBg:new m.Y(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),C=(0,f.OF)("Tag",e=>(e=>{const{paddingXXS:o,lineWidth:n,tagPaddingHorizontal:t,componentCls:a,calc:r}=e,c=r(t).sub(n).equal(),l=r(o).sub(n).equal();return{[a]:Object.assign(Object.assign({},(0,g.dF)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:c,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,p.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(a,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(a,"-close-icon")]:{marginInlineStart:l,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(a,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(a,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:c}}),["".concat(a,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(b(e)),v);var y=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n};const x=t.forwardRef((e,o)=>{const{prefixCls:n,style:a,className:c,checked:l,children:i,icon:s,onChange:d,onClick:p}=e,m=y(e,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:g,tag:h}=t.useContext(u.QO),f=g("tag",n),[b,v,x]=C(f),k=r()(f,"".concat(f,"-checkable"),{["".concat(f,"-checkable-checked")]:l},null===h||void 0===h?void 0:h.className,c,v,x);return b(t.createElement("span",Object.assign({},m,{ref:o,style:Object.assign(Object.assign({},a),null===h||void 0===h?void 0:h.style),className:k,onClick:e=>{null===d||void 0===d||d(!l),null===p||void 0===p||p(e)}}),s,t.createElement("span",null,i)))}),k=x;var A=n(8835);const O=(0,f.bf)(["Tag","preset"],e=>(e=>(0,A.A)(e,(o,n)=>{let{textColor:t,lightBorderColor:a,lightColor:r,darkColor:c}=n;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(o)]:{color:t,background:r,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:c,borderColor:c},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}}))(b(e)),v);const j=(e,o,n)=>{const t="string"!==typeof(a=n)?a:a.charAt(0).toUpperCase()+a.slice(1);var a;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(o)]:{color:e["color".concat(n)],background:e["color".concat(t,"Bg")],borderColor:e["color".concat(t,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}},w=(0,f.bf)(["Tag","status"],e=>{const o=b(e);return[j(o,"success","Success"),j(o,"processing","Info"),j(o,"error","Error"),j(o,"warning","Warning")]},v);var S=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n};const E=t.forwardRef((e,o)=>{const{prefixCls:n,className:a,rootClassName:p,style:m,children:g,icon:h,color:f,onClose:b,bordered:v=!0,visible:y}=e,x=S(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:A,tag:j}=t.useContext(u.QO),[E,P]=t.useState(!0),N=(0,c.A)(x,["closeIcon","closable"]);t.useEffect(()=>{void 0!==y&&P(y)},[y]);const I=(0,l.nP)(f),B=(0,l.ZZ)(f),z=I||B,T=Object.assign(Object.assign({backgroundColor:f&&!z?f:void 0},null===j||void 0===j?void 0:j.style),m),F=k("tag",n),[G,M,R]=C(F),L=r()(F,null===j||void 0===j?void 0:j.className,{["".concat(F,"-").concat(f)]:z,["".concat(F,"-has-color")]:f&&!z,["".concat(F,"-hidden")]:!E,["".concat(F,"-rtl")]:"rtl"===A,["".concat(F,"-borderless")]:!v},a,p,M,R),H=e=>{e.stopPropagation(),null===b||void 0===b||b(e),e.defaultPrevented||P(!1)},[,D]=(0,i.$)((0,i.d)(e),(0,i.d)(j),{closable:!1,closeIconRender:e=>{const o=t.createElement("span",{className:"".concat(F,"-close-icon"),onClick:H},e);return(0,s.fx)(e,o,e=>({onClick:o=>{var n;null===(n=null===e||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,o),H(o)},className:r()(null===e||void 0===e?void 0:e.className,"".concat(F,"-close-icon"))}))}}),W="function"===typeof x.onClick||g&&"a"===g.type,q=h||null,X=q?t.createElement(t.Fragment,null,q,g&&t.createElement("span",null,g)):g,V=t.createElement("span",Object.assign({},N,{ref:o,className:L,style:T}),X,D,I&&t.createElement(O,{key:"preset",prefixCls:F}),B&&t.createElement(w,{key:"status",prefixCls:F}));return G(W?t.createElement(d.A,{component:"Tag"},V):V)}),P=E;P.CheckableTag=k;const N=P},79688:(e,o,n)=>{n.d(o,{A:()=>m});var t=n(58168),a=n(89379),r=n(64467),c=n(5544),l=n(80045),i=n(98139),s=n.n(i),d=n(28678),u=n(65043),p=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"];const m=(0,u.forwardRef)(function(e,o){var n=e.prefixCls,i=void 0===n?"rc-checkbox":n,m=e.className,g=e.style,h=e.checked,f=e.disabled,b=e.defaultChecked,v=void 0!==b&&b,C=e.type,y=void 0===C?"checkbox":C,x=e.title,k=e.onChange,A=(0,l.A)(e,p),O=(0,u.useRef)(null),j=(0,u.useRef)(null),w=(0,d.A)(v,{value:h}),S=(0,c.A)(w,2),E=S[0],P=S[1];(0,u.useImperativeHandle)(o,function(){return{focus:function(e){var o;null===(o=O.current)||void 0===o||o.focus(e)},blur:function(){var e;null===(e=O.current)||void 0===e||e.blur()},input:O.current,nativeElement:j.current}});var N=s()(i,m,(0,r.A)((0,r.A)({},"".concat(i,"-checked"),E),"".concat(i,"-disabled"),f));return u.createElement("span",{className:N,title:x,style:g,ref:j},u.createElement("input",(0,t.A)({},A,{className:"".concat(i,"-input"),ref:O,onChange:function(o){f||("checked"in e||P(o.target.checked),null===k||void 0===k||k({target:(0,a.A)((0,a.A)({},e),{},{type:y,checked:o.target.checked}),stopPropagation:function(){o.stopPropagation()},preventDefault:function(){o.preventDefault()},nativeEvent:o.nativeEvent}))},disabled:f,checked:!!E,type:y})),u.createElement("span",{className:"".concat(i,"-inner")}))})},88042:(e,o,n)=>{n.d(o,{A:()=>r});var t=n(65043),a=n(45818);function r(e){const o=t.useRef(null),n=()=>{a.A.cancel(o.current),o.current=null};return[()=>{n(),o.current=(0,a.A)(()=>{o.current=null})},t=>{o.current&&(t.stopPropagation(),n()),null===e||void 0===e||e(t)}]}}}]);
//# sourceMappingURL=8350.641a24bd.chunk.js.map