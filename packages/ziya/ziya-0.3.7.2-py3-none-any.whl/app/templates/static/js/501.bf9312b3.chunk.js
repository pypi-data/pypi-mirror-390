"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[501],{70501:(e,i,s)=>{s.r(i),s.d(i,{default:()=>ne});var r=s(89379),t=s(65043),n=s(42261),l=s(37490),o=s(15492),a=s(89073),c=s(32513),d=s(11645),p=s(97326),x=s(20691),h=s(8354),v=s(99472),y=s(95645),j=s(10491),u=s(54522),A=s(22019),g=s(85672),m=s(96603),f=s(47419),b=s(98080),w=s(6051),S=s(91686),I=s(26612),C=s(12624),k=s(98105),T=s(76399),R=s(94828),E=s(61494),z=s(30119),B=s(29792),_=s(1259),L=s(61966),D=s(89330),P=s(41334),U=s(61118),N=s(70492),O=s(10454),F=s(37755),M=s(69380),q=s(94786),W=s(73847),V=s(90617),J=s(24228),H=s(72411),G=s(14524),K=s(59654),Q=s(74017),Z=s(95240),Y=s(70579);const{Search:X}=j.A,{Text:$,Title:ee,Paragraph:ie}=E.A,{Option:se}=b.A,{Panel:re}=p.A,{TabPane:te}=k.A,ne=e=>{let{visible:i,onClose:s}=e;const[E,ee]=(0,t.useState)([]),[ne,le]=(0,t.useState)(0),[oe,ae]=(0,t.useState)([]),[ce,de]=(0,t.useState)([]),[pe,xe]=(0,t.useState)([]),[he,ve]=(0,t.useState)(!1),[ye,je]=(0,t.useState)({}),[ue,Ae]=(0,t.useState)(""),[ge,me]=(0,t.useState)("browse"),[fe,be]=(0,t.useState)([]),[we,Se]=(0,t.useState)(!0),[Ie,Ce]=(0,t.useState)({}),[ke,Te]=(0,t.useState)(null),[Re,Ee]=(0,t.useState)("all"),[ze,Be]=(0,t.useState)("all"),[_e,Le]=(0,t.useState)("name"),[De,Pe]=(0,t.useState)(null),[Ue,Ne]=(0,t.useState)(!1),[Oe,Fe]=(0,t.useState)(!1),[Me,qe]=(0,t.useState)([]),[We,Ve]=(0,t.useState)(!1),[Je,He]=(0,t.useState)({}),[Ge,Ke]=(0,t.useState)(!1),[Qe]=y.A.useForm(),[Ze,Ye]=(0,t.useState)([]),[Xe,$e]=(0,t.useState)({}),[ei,ii]=(0,t.useState)(1),[si,ri]=(0,t.useState)(10),ti=(0,t.useRef)(null),[ni,li]=(0,t.useState)(!1),[oi,ai]=(0,t.useState)(null);(0,t.useEffect)(()=>{i&&(ci(),pi(),xi(),gi(),mi(),di())},[i]);const ci=async()=>{try{const e=await fetch("/api/mcp/registry/providers");if(e.ok){const i=await e.json(),s={id:"builtin",name:"Ziya Builtin",isInternal:!0,supportsSearch:!1,enabled:!0,stats:{totalServices:Object.keys(i.builtinTools||{}).length,lastFetched:(new Date).toISOString()}};de([s,...i.providers]),be([s,...i.providers].map(e=>e.id)),console.log("Loaded providers:",i.providers)}}catch(e){console.error("Error loading providers:",e)}},di=async()=>{try{const e=await fetch("/api/mcp/registry/services");if(e.ok){const i=await e.json(),s={};i.services.forEach(e=>{const i=e.provider.id;s[i]=(s[i]||0)+1,e.provider.availableIn&&e.provider.availableIn.forEach(e=>{e!==i&&(s[e]=(s[e]||0)+1)})});const r={};Object.entries(s).forEach(e=>{let[i,s]=e;r[i]={totalServices:s,lastFetched:(new Date).toISOString()}}),He(r)}}catch(e){console.error("Error loading registry stats:",e)}};(0,t.useEffect)(()=>{i&&"registries"===ge&&(async()=>{try{const e=await fetch("/api/mcp/registry/services?max_results=10000");if(e.ok){const i=await e.json(),s={};i.services.forEach(e=>{(e.provider.availableIn||[e.provider.id]).forEach(i=>{s[i]||(s[i]=[]),s[i].push(e.serviceName)})}),$e(s)}}catch(e){console.error("Error loading registry service names:",e)}})()},[i,ge]);const pi=async()=>{ve(!0);try{const e=await fetch("/api/mcp/registry/services");if(e.ok){const i=await e.json();ee(i.services),le(i.services.length);const s={},r={};i.services.forEach(e=>{s[e.installationType||"unknown"]=(s[e.installationType||"unknown"]||0)+1,r[e.supportLevel]=(r[e.supportLevel]||0)+1}),Te({total:i.services.length,byType:s,bySupport:r})}else A.Ay.error("Failed to load available services")}catch(e){console.error("Error loading services:",e),A.Ay.error("Error loading services")}finally{ve(!1)}},xi=async()=>{try{const e=await fetch("/api/mcp/registry/services/installed");if(e.ok){const i=await e.json();ae(i.services)}}catch(e){console.error("Error loading installed services:",e)}},hi=async()=>{try{const e=await fetch("/api/mcp/registry/check-binary");if(e.ok){return!0===(await e.json()).available}return!1}catch(e){return console.error("Error checking mcp-registry binary:",e),!1}},vi=()=>{li(!1),ai(null),je(e=>(0,r.A)((0,r.A)({},e),{},{[oi]:!1}))},yi=async e=>{try{const i=await fetch("/api/mcp/registry/services/install",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:e,provider_id:null})});if(i.ok){const s=await i.json();if("success"===s.status){const i=s.server_name||s.service_id||e;A.Ay.success("Successfully installed ".concat(i))}else A.Ay.error("Installation failed: ".concat(s.error||"Unknown error"));await xi(),window.dispatchEvent(new Event("mcpStatusChanged"))}else{const e=await i.json();A.Ay.error("Installation failed: ".concat(e.error||e.detail||"Unknown error"))}}catch(i){console.error("Installation error:",i),A.Ay.error("Installation failed")}finally{je(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!1}))}},ji=async e=>{if((e=>{var i;const s=E.find(i=>i.serviceId===e);return s&&("amazon-internal"===s.provider.id||(null===(i=s.provider.availableIn)||void 0===i?void 0:i.includes("amazon-internal")))||!1})(e)){if(!await hi())return ai(e),void li(!0)}if(e.startsWith("builtin_")){const s=e.replace("builtin_","");if("time"===s||"shell"===s){try{(await fetch("/api/mcp/toggle-server",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_name:s,enabled:!0})})).ok?(A.Ay.success("Enabled ".concat(s," server")),await xi(),window.dispatchEvent(new Event("mcpStatusChanged"))):A.Ay.error("Failed to enable ".concat(s," server"))}catch(i){A.Ay.error("Failed to enable ".concat(s," server"))}return}try{(await fetch("/api/mcp/builtin-tools/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:s,enabled:!0})})).ok?(A.Ay.success("Enabled ".concat(s," builtin tools")),await pi(),window.dispatchEvent(new Event("mcpStatusChanged"))):A.Ay.error("Failed to enable builtin tools")}catch(i){A.Ay.error("Failed to enable builtin tools")}return}je(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!0}));try{await yi(e)}finally{je(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!1}))}},ui=e=>{if(null!==e&&void 0!==e&&e.startsWith("builtin_")){const i=e.replace("builtin_","");return("time"===i||"shell"===i)&&oe.some(e=>e.serverName===i)}return oe.some(i=>i.serviceId===e)},Ai=e=>{switch(e){case"Recommended":return"green";case"Supported":return"blue";case"Under assessment":return"orange";case"In development":return"red";case"Community":return"cyan";case"Experimental":return"purple";default:return"default"}},gi=async()=>{},mi=async()=>{try{const e=await fetch("/api/mcp/registry/favorites");if(e.ok){const i=await e.json();qe(i.favorites||[])}}catch(e){console.error("Error loading favorites:",e)}},fi=async e=>{const i=Me.includes(e)?Me.filter(i=>i!==e):[...Me,e];qe(i);try{await fetch("/api/mcp/registry/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({favorites:i})})}catch(s){console.error("Error updating favorites:",s)}},bi=async(e,i)=>{Ne(!0),Fe(!0);try{const s=i?"/api/mcp/registry/services/".concat(encodeURIComponent(e),"/preview?provider_id=").concat(i):"/api/mcp/registry/services/".concat(encodeURIComponent(e),"/preview"),r=await fetch(s);if(r.ok){const e=await r.json();Pe(e)}else A.Ay.error("Failed to load service preview"),Fe(!1)}catch(s){console.error("Error loading preview:",s),A.Ay.error("Error loading preview"),Fe(!1)}finally{Ne(!1)}},wi=e=>{Ce(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!i[e]}))},Si=e=>{var i;const s=e.serviceId.startsWith("builtin_"),r=oe.find(i=>i.serviceId===e.serviceId),t=!!r,l=!0===(null===r||void 0===r?void 0:r._manually_configured);return(0,Y.jsx)(a.A,{style:{marginBottom:16},hoverable:!0,actions:[!s&&(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(U.A,{}),onClick:()=>bi(e.serviceId,e.provider.id),children:"Preview"},"preview"),(0,Y.jsx)(R.A,{title:Me.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Y.jsx)(o.Ay,{icon:Me.includes(e.serviceId)?(0,Y.jsx)(F.A,{style:{color:"#ff4d4f"}}):(0,Y.jsx)(M.A,{}),onClick:()=>fi(e.serviceId)})},"favorite"),(0,Y.jsx)(o.Ay,{type:s?"default":"primary",icon:(0,Y.jsx)(D.A,{}),loading:ye[e.serviceId],disabled:t,onClick:()=>ji(e.serviceId),children:s?t?"Enabled":"Enable":t?l?"Configured":"Installed":"Install"},"install"),!s&&e.repositoryUrl&&(0,Y.jsx)(R.A,{title:"View Repository",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(N.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!s&&e.securityReviewLink&&(0,Y.jsx)(R.A,{title:"Security Review",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(J.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),(0,Y.jsx)(R.A,{title:Ie[e.serviceId]?"Show less":"Show more",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(q.A,{}),onClick:()=>wi(e.serviceId)})},"info")].filter(Boolean),children:(0,Y.jsx)(a.A.Meta,{title:(0,Y.jsxs)(w.A,{wrap:!0,children:[(0,Y.jsx)("span",{children:e.serviceName}),(0,Y.jsx)(T.A,{color:Ai(e.supportLevel),children:e.supportLevel}),l&&(0,Y.jsx)(T.A,{color:"orange",icon:(0,Y.jsx)(Q.A,{}),children:"Manually Configured"}),s?(0,Y.jsxs)(T.A,{color:"purple",children:[(0,Y.jsx)(P.A,{})," Builtin"]}):e.provider.availableIn&&e.provider.availableIn.length>1?(0,Y.jsx)(R.A,{title:"Available in: ".concat(e.provider.availableIn.join(", ")),children:(0,Y.jsxs)(T.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Y.jsx)(T.A,{color:e.provider.isInternal?"gold":"blue",children:e.provider.name}),e.installationType&&(0,Y.jsx)(T.A,{color:"geekblue",children:e.installationType}),s&&!1===e._dependencies_available&&(0,Y.jsx)(T.A,{color:"orange",icon:(0,Y.jsx)(Z.A,{}),children:"Dependencies Required"})]}),description:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(ie,{ellipsis:!Ie[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription}),s&&e._available_tools&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Y.jsx)(T.A,{color:"cyan",children:e},e))]}),s&&!1===e._dependencies_available&&(0,Y.jsx)(n.A,{message:"Dependencies Required",description:(0,Y.jsxs)("div",{children:["Install with: ",(0,Y.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Ie[e.serviceId]&&(0,Y.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Y.jsxs)(f.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(I.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Y.jsx)(D.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(I.A,{title:"Stars",value:e.starCount,prefix:(0,Y.jsx)(K.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(I.A,{title:"Updated",value:new Date(e.lastUpdatedAt).toLocaleDateString(),prefix:(0,Y.jsx)(z.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Author: "}),(0,Y.jsx)($,{children:e.author})]}),e.provider.availableIn&&e.provider.availableIn.length>1&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Y.jsx)(T.A,{color:"blue",children:e},e))]})]}),(0,Y.jsx)("div",{style:{marginBottom:8},children:null===(i=e.tags)||void 0===i?void 0:i.map(e=>(0,Y.jsx)(T.A,{color:"default",children:e},e))}),(0,Y.jsxs)($,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Y.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Y.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)},Ii=async e=>{try{(await fetch("/api/mcp/registry/providers/".concat(e,"/refresh"),{method:"POST"})).ok&&(A.Ay.success("Registry refreshed successfully"),await di(),await pi())}catch(i){console.error("Error refreshing registry:",i),A.Ay.error("Failed to refresh registry")}};return(0,Y.jsxs)(g.A,{title:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(B.A,{}),(0,Y.jsx)("span",{children:"MCP Registry"})]}),open:i,onCancel:s,footer:[(0,Y.jsx)(o.Ay,{onClick:s,children:"Close"},"close")],width:800,style:{top:20},bodyStyle:{height:"70vh",overflow:"auto",display:"flex",flexDirection:"column"},destroyOnClose:!1,children:[(0,Y.jsxs)(k.A,{activeKey:ge,onChange:me,style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Y.jsx)(te,{tab:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(O.A,{}),(0,Y.jsx)("span",{children:"Registries"}),(0,Y.jsx)(l.A,{count:ce.length})]}),children:(0,Y.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Y.jsx)(a.A,{size:"small",style:{marginBottom:16},bodyStyle:{padding:"12px 16px"},children:(0,Y.jsxs)(f.A,{gutter:16,align:"middle",children:[(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(I.A,{title:"Registries",value:ce.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"},prefix:(0,Y.jsx)(O.A,{})}),(0,Y.jsxs)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Y.jsxs)("div",{children:["\u21b3 Internal: ",ce.filter(e=>e.isInternal).length]}),(0,Y.jsxs)("div",{children:["\u21b3 External: ",ce.filter(e=>!e.isInternal).length]})]})]})}),(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(I.A,{title:"Services",value:ne,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"}}),(0,Y.jsxs)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Y.jsxs)("div",{children:["\u21b3 Installed: ",oe.length]}),(0,Y.jsxs)("div",{children:["\u21b3 Available: ",ne-oe.length]})]})]})}),(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(I.A,{title:"Support Levels",value:Object.keys((null===ke||void 0===ke?void 0:ke.bySupport)||{}).length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#faad14"}}),(0,Y.jsx)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:ke&&Object.entries(ke.bySupport).slice(0,2).map(e=>{let[i,s]=e;return(0,Y.jsxs)("div",{children:["\u21b3 ",i,": ",s]},i)})})]})}),(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(I.A,{title:"Install Types",value:Object.keys((null===ke||void 0===ke?void 0:ke.byType)||{}).length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#722ed1"}}),(0,Y.jsx)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:ke&&Object.entries(ke.byType).slice(0,2).map(e=>{let[i,s]=e;return(0,Y.jsxs)("div",{children:["\u21b3 ",i,": ",s]},i)})})]})})]})}),(0,Y.jsx)(a.A,{style:{marginBottom:16},title:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(W.A,{}),(0,Y.jsx)("span",{children:"Add Custom Registry"})]}),children:Ge?(0,Y.jsxs)(y.A,{form:Qe,onFinish:async e=>{try{const i=await fetch("/api/mcp/registry/providers/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(i.ok)A.Ay.success("Custom registry added successfully"),Ke(!1),Qe.resetFields(),await ci();else{const e=await i.json();A.Ay.error("Failed to add registry: ".concat(e.detail))}}catch(i){console.error("Error adding registry:",i),A.Ay.error("Failed to add registry")}},layout:"vertical",children:[(0,Y.jsxs)(f.A,{gutter:16,children:[(0,Y.jsx)(d.A,{span:12,children:(0,Y.jsx)(y.A.Item,{label:"Registry Name",name:"name",rules:[{required:!0,message:"Please enter a name"}],children:(0,Y.jsx)(j.A,{placeholder:"e.g., Company Internal Registry"})})}),(0,Y.jsx)(d.A,{span:12,children:(0,Y.jsx)(y.A.Item,{label:"Base URL",name:"baseUrl",rules:[{required:!0,message:"Please enter a URL"},{type:"url",message:"Please enter a valid URL"}],children:(0,Y.jsx)(j.A,{placeholder:"https://registry.example.com"})})})]}),(0,Y.jsxs)(f.A,{gutter:16,children:[(0,Y.jsx)(d.A,{span:12,children:(0,Y.jsx)(y.A.Item,{label:"Authentication",name:"authType",children:(0,Y.jsxs)(b.A,{defaultValue:"none",children:[(0,Y.jsx)(se,{value:"none",children:"None"}),(0,Y.jsx)(se,{value:"bearer",children:"Bearer Token"}),(0,Y.jsx)(se,{value:"basic",children:"Basic Auth"})]})})}),(0,Y.jsx)(d.A,{span:12,children:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(o.Ay,{type:"primary",htmlType:"submit",children:"Add Registry"}),(0,Y.jsx)(o.Ay,{onClick:()=>{Ke(!1),Qe.resetFields()},children:"Cancel"})]})})]})]}):(0,Y.jsx)(o.Ay,{type:"dashed",icon:(0,Y.jsx)(W.A,{}),onClick:()=>Ke(!0),style:{width:"100%"},children:"Add Custom Registry Endpoint"})}),(0,Y.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:he?(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsx)(S.A,{size:"large",tip:"Loading registry providers..."})}):0===ce.length?(0,Y.jsx)(v.A,{description:"No registry providers found"}):(0,Y.jsx)(u.A,{dataSource:ce,renderItem:e=>{const i=Je[e.id]||{totalServices:0},s=!1!==e.enabled,t=he,n=Xe[e.id]||[];return(0,Y.jsx)(a.A,{style:{marginBottom:16,opacity:s?1:.6,border:e.isInternal?"1px solid #faad14":void 0},actions:[(0,Y.jsx)(R.A,{title:"Refresh registry data",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(V.A,{}),onClick:()=>Ii(e.id),loading:t,disabled:!s})},"refresh"),(0,Y.jsx)(R.A,{title:"Registry settings",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(G.A,{}),onClick:()=>A.Ay.info("Registry settings coming soon")})},"settings"),!e.isInternal&&(0,Y.jsx)(R.A,{title:"Remove custom registry",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(L.A,{}),danger:!0,onClick:()=>A.Ay.info("Remove registry coming soon")})},"remove")].filter(Boolean),hoverable:!0,children:(0,Y.jsx)(a.A.Meta,{title:(0,Y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)("span",{children:e.name}),e.isInternal&&(0,Y.jsx)(T.A,{color:"gold",children:"Internal"}),e.supportsSearch&&(0,Y.jsx)(T.A,{color:"blue",children:"Search"}),(0,Y.jsx)(T.A,{color:"default",style:{fontSize:"11px"},children:e.id}),i.errorCount&&i.errorCount>0&&(0,Y.jsxs)(T.A,{color:"red",children:[i.errorCount," errors"]})]}),(0,Y.jsx)(C.A,{checked:s,onChange:i=>(async(e,i)=>{de(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{enabled:i}):s));try{(await fetch("/api/mcp/registry/providers/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider_id:e,enabled:i})})).ok?(A.Ay.success("".concat(i?"Enabled":"Disabled"," registry")),i&&await pi()):(de(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{enabled:!i}):s)),A.Ay.error("Failed to toggle registry"))}catch(s){de(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{enabled:!i}):s)),console.error("Error toggling registry:",s),A.Ay.error("Failed to toggle registry")}})(e.id,i)})]}),description:(0,Y.jsx)("div",{children:(0,Y.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},children:[(0,Y.jsxs)(f.A,{gutter:16,children:[(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(p.A,{ghost:!0,size:"small",activeKey:Ze,onChange:e=>Ye(Array.isArray(e)?e:[e]),children:(0,Y.jsx)(re,{header:(0,Y.jsx)(I.A,{title:"Services",value:i.totalServices,prefix:(0,Y.jsx)(_.A,{}),valueStyle:{fontSize:"18px",color:s?"#1890ff":"#bfbfbf"}}),showArrow:n.length>0,children:n.length>0?(0,Y.jsx)("div",{style:{maxHeight:"200px",overflow:"auto",paddingLeft:"10px"},children:n.map(e=>(0,Y.jsxs)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",padding:"2px 0",color:"#666"},children:["\u2022 ",e]},e))}):(0,Y.jsx)($,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:"No services available"})},e.id)})}),(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsxs)("div",{style:{textAlign:"center"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Status"}),(0,Y.jsx)(T.A,{color:s?"green":"default",children:s?"Active":"Disabled"})]})}),(0,Y.jsx)(d.A,{span:8,children:i.lastFetched&&(0,Y.jsxs)("div",{style:{textAlign:"center"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Last Updated"}),(0,Y.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:new Date(i.lastFetched).toLocaleTimeString()})]})})]}),(0,Y.jsxs)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Y.jsx)($,{code:!0,children:e.id}),i.fetchTime&&(0,Y.jsxs)("span",{style:{marginLeft:8},children:["\u2022 Fetch time: ",i.fetchTime,"ms"]}),i.errorCount&&i.errorCount>0&&(0,Y.jsxs)("span",{style:{marginLeft:8,color:"#ff4d4f"},children:["\u2022 ",i.errorCount," errors"]})]})]})})})},e.id)}})})]})},"registries"),(0,Y.jsx)(te,{tab:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(H.A,{}),(0,Y.jsx)("span",{children:"Browse Services"})]}),children:(0,Y.jsxs)("div",{ref:ti,style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[ke&&(0,Y.jsx)(a.A,{style:{marginBottom:16},bodyStyle:{padding:"12px 16px"},children:(0,Y.jsxs)(f.A,{gutter:16,align:"middle",children:[(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsx)(I.A,{title:"Available",value:ke.total,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"},prefix:(0,Y.jsx)(B.A,{})})}),(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsx)(I.A,{title:"Registries",value:ce.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"}})}),(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsx)(I.A,{title:"Installed",value:oe.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#722ed1"}})}),(0,Y.jsx)(d.A,{span:6,children:(0,Y.jsxs)("div",{style:{textAlign:"left"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Top Type"}),(0,Y.jsx)("div",{children:(0,Y.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:(()=>{const e=Object.entries(ke.byType).sort((e,i)=>i[1]-e[1])[0];return(null===e||void 0===e?void 0:e[0])||"N/A"})()})}),(0,Y.jsx)("div",{children:(0,Y.jsx)("span",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:(()=>{const e=Object.entries(ke.byType).sort((e,i)=>i[1]-e[1])[0],i=(null===e||void 0===e?void 0:e[1])||0;return"(".concat(i," servers)")})()})})]})})]})}),(0,Y.jsx)(a.A,{size:"small",style:{marginBottom:16},children:(0,Y.jsxs)(f.A,{gutter:16,children:[(0,Y.jsx)(d.A,{span:24,style:{marginBottom:12},children:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(c.A,{checked:we,onChange:e=>{Se(e.target.checked),setTimeout(pi,100)},children:"Include Amazon Internal"}),(0,Y.jsx)(h.A,{type:"vertical"}),(0,Y.jsxs)($,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[ce.length," registries active"]}),(0,Y.jsx)(h.A,{type:"vertical"}),(0,Y.jsx)(c.A,{checked:We,onChange:e=>Ve(e.target.checked),children:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(F.A,{style:{color:"#ff4d4f"}}),(0,Y.jsx)("span",{children:"Favorites only"}),Me.length>0&&(0,Y.jsx)(l.A,{count:Me.length})]})})]})}),(0,Y.jsxs)(d.A,{span:8,children:[(0,Y.jsx)($,{strong:!0,children:"Sort by: "}),(0,Y.jsxs)(m.Ay.Group,{value:_e,onChange:e=>Le(e.target.value),style:{display:"block",marginTop:4},children:[(0,Y.jsx)(m.Ay.Button,{value:"name",children:"A-Z"}),(0,Y.jsx)(m.Ay.Button,{value:"updated",children:"Recent"}),(0,Y.jsx)(m.Ay.Button,{value:"support",children:"Quality"})]})]}),(0,Y.jsxs)(d.A,{span:8,children:[(0,Y.jsx)($,{strong:!0,children:"Support Level: "}),(0,Y.jsxs)(b.A,{value:Re,onChange:Ee,style:{width:"100%",marginTop:4},children:[(0,Y.jsx)(se,{value:"all",children:"All Levels"}),(0,Y.jsx)(se,{value:"Recommended",children:"\u2b50 Recommended"}),(0,Y.jsx)(se,{value:"Supported",children:"\u2713 Supported"}),(0,Y.jsx)(se,{value:"Community",children:"\ud83d\udc65 Community"}),(0,Y.jsx)(se,{value:"Under assessment",children:"\ud83d\udd0d Under Review"}),(0,Y.jsx)(se,{value:"Experimental",children:"\ud83e\uddea Experimental"})]})]}),(0,Y.jsxs)(d.A,{span:8,children:[(0,Y.jsx)($,{strong:!0,children:"Install Type: "}),(0,Y.jsxs)(b.A,{value:ze,onChange:Be,style:{width:"100%",marginTop:4},children:[(0,Y.jsx)(se,{value:"all",children:"All Types"}),(0,Y.jsx)(se,{value:"npm",children:"\ud83d\udce6 NPM"}),(0,Y.jsx)(se,{value:"pypi",children:"\ud83d\udc0d Python"}),(0,Y.jsx)(se,{value:"docker",children:"\ud83d\udc33 Docker"}),(0,Y.jsx)(se,{value:"remote",children:"\u2601\ufe0f Remote"}),(0,Y.jsx)(se,{value:"git",children:"\ud83d\udcc2 Git Clone"})]})]})]})}),(0,Y.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:he?(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsx)(S.A,{size:"large",tip:"Loading MCP servers from all registries..."})}):0===E.length?(0,Y.jsx)(v.A,{description:"No services found. Try adjusting filters or check your connection.",image:v.A.PRESENTED_IMAGE_SIMPLE}):(()=>{let e=E;"all"!==Re&&(e=e.filter(e=>e.supportLevel===Re)),"all"!==ze&&(e=e.filter(e=>e.installationType===ze)),We&&(e=e.filter(e=>Me.includes(e.serviceId)));const i=[...e].sort((e,i)=>{if("name"===_e)return e.serviceName.localeCompare(i.serviceName);if("updated"===_e)return new Date(i.lastUpdatedAt).getTime()-new Date(e.lastUpdatedAt).getTime();{const s=["Recommended","Supported","Community","Under assessment","Experimental"];return s.indexOf(e.supportLevel)-s.indexOf(i.supportLevel)}});return(0,Y.jsx)(u.A,{dataSource:i,renderItem:Si,pagination:{current:ei,pageSize:si,showSizeChanger:!0,showTotal:(e,i)=>"".concat(i[0],"-").concat(i[1]," of ").concat(e," filtered (").concat(ne," total servers)"),onChange:(e,i)=>{ii(e),ti.current&&(ti.current.scrollTop=0),i!==si&&(ri(i),ii(1))}}})})()})]})},"browse"),(0,Y.jsx)(te,{tab:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(B.A,{}),(0,Y.jsx)("span",{children:"Installed Services"}),(0,Y.jsx)(l.A,{count:oe.length})]}),children:(0,Y.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Y.jsx)(n.A,{message:"Manage your installed MCP services",description:"These services are currently installed and configured in your system.",type:"success",showIcon:!0,style:{marginBottom:16}}),(0,Y.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:0===oe.length?(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsx)($,{type:"secondary",children:"No registry services installed"})}):(0,Y.jsx)(u.A,{dataSource:oe,renderItem:e=>{var i,s,r,t,l,c;if(!e||!e.serviceId)return null;const p=(null===(i=e.serviceId)||void 0===i?void 0:i.startsWith("builtin_"))||!1,x=!0===e._manually_configured;return(0,Y.jsx)(a.A,{style:{marginBottom:16},hoverable:!0,actions:[!p&&(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(U.A,{}),onClick:()=>{var i;return bi(e.serviceId,null===(i=e.provider)||void 0===i?void 0:i.id)},children:"Preview"},"preview"),(0,Y.jsx)(R.A,{title:Me.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Y.jsx)(o.Ay,{icon:Me.includes(e.serviceId)?(0,Y.jsx)(F.A,{style:{color:"#ff4d4f"}}):(0,Y.jsx)(M.A,{}),onClick:()=>fi(e.serviceId)})},"favorite"),(0,Y.jsx)(o.Ay,{type:p?"default":"primary",icon:(0,Y.jsx)(D.A,{}),loading:ye[e.serviceId],disabled:ui(e.serviceId),onClick:()=>ji(e.serviceId),children:p?ui(e.serviceId)?"Enabled":"Enable":ui(e.serviceId)?"Installed":"Install"},"install"),!p&&e.repositoryUrl&&(0,Y.jsx)(R.A,{title:"View Repository",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(N.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!p&&e.securityReviewLink&&(0,Y.jsx)(R.A,{title:"Security Review",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(J.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),(0,Y.jsx)(R.A,{title:Ie[e.serviceId]?"Show less":"Show more",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(q.A,{}),onClick:()=>wi(e.serviceId)})},"info")].filter(Boolean),children:(0,Y.jsx)(a.A.Meta,{title:(0,Y.jsxs)(w.A,{wrap:!0,children:[(0,Y.jsx)("span",{children:e.serviceName}),(0,Y.jsx)(T.A,{color:Ai(e.supportLevel||"Community"),children:e.supportLevel||"Community"}),x&&(0,Y.jsx)(T.A,{color:"orange",icon:(0,Y.jsx)(Q.A,{}),children:"Manually Configured"}),p?(0,Y.jsxs)(T.A,{color:"purple",children:[(0,Y.jsx)(P.A,{})," Builtin"]}):null!==(s=e.provider)&&void 0!==s&&s.availableIn&&e.provider.availableIn.length>1?(0,Y.jsx)(R.A,{title:"Available in: ".concat(e.provider.availableIn.join(", ")),children:(0,Y.jsxs)(T.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Y.jsx)(T.A,{color:null!==(r=e.provider)&&void 0!==r&&r.isInternal?"gold":"blue",children:(null===(t=e.provider)||void 0===t?void 0:t.name)||"Unknown"}),e.installationType&&(0,Y.jsx)(T.A,{color:"geekblue",children:e.installationType}),p&&!1===e._dependencies_available&&(0,Y.jsx)(T.A,{color:"orange",icon:(0,Y.jsx)(Z.A,{}),children:"Dependencies Required"})]}),description:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(ie,{ellipsis:!Ie[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription||e.serviceName}),p&&e._available_tools&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Y.jsx)(T.A,{color:"cyan",children:e},e))]}),p&&!1===e._dependencies_available&&(0,Y.jsx)(n.A,{message:"Dependencies Required",description:(0,Y.jsxs)("div",{children:["Install with: ",(0,Y.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),p&&e._available_tools&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Y.jsx)(T.A,{color:"cyan",children:e},e))]}),p&&!1===e._dependencies_available&&(0,Y.jsx)(n.A,{message:"Dependencies Required",description:(0,Y.jsxs)("div",{children:["Install with: ",(0,Y.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Ie[e.serviceId]&&(0,Y.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Y.jsxs)(f.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(I.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Y.jsx)(D.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(I.A,{title:"Stars",value:e.starCount,prefix:(0,Y.jsx)(K.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Y.jsx)(d.A,{span:8,children:(0,Y.jsx)(I.A,{title:"Updated",value:e.lastUpdatedAt?new Date(e.lastUpdatedAt).toLocaleDateString():"N/A",prefix:(0,Y.jsx)(z.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Author: "}),(0,Y.jsx)($,{children:e.author})]}),(null===(l=e.provider)||void 0===l?void 0:l.availableIn)&&e.provider.availableIn.length>1&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Y.jsx)(T.A,{color:"blue",children:e},e))]})]}),(0,Y.jsx)("div",{style:{marginBottom:8},children:null===(c=e.tags)||void 0===c?void 0:c.map(e=>(0,Y.jsx)(T.A,{color:"default",children:e},e))}),(0,Y.jsxs)($,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Y.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Y.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)}})})]})},"installed"),(0,Y.jsx)(te,{tab:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(Q.A,{}),(0,Y.jsx)("span",{children:"Search Tools"})]}),children:(0,Y.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Y.jsxs)("div",{style:{marginBottom:16},children:[(0,Y.jsxs)("div",{style:{marginBottom:12},children:[(0,Y.jsx)($,{strong:!0,children:"Search Providers:"}),(0,Y.jsx)(b.A,{mode:"multiple",placeholder:"Select providers to search",style:{width:"100%",marginTop:4},value:fe,onChange:be,children:ce.map(e=>(0,Y.jsxs)(se,{value:e.id,children:[e.name," ",e.isInternal?"(Internal)":""]},e.id))})]}),(0,Y.jsx)(X,{placeholder:"Describe what you want to do (e.g., 'file operations', 'database queries')",enterButton:"Search Tools",size:"large",value:ue,onChange:e=>Ae(e.target.value),onSearch:async e=>{if(e.trim()){ve(!0);try{const i=await fetch("/api/mcp/registry/tools/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,maxTools:20,providers:fe.length>0?fe:null})});if(i.ok){const e=await i.json();xe(e.results)}else A.Ay.error("Failed to search tools")}catch(i){console.error("Error searching tools:",i),A.Ay.error("Error searching tools")}finally{ve(!1)}}else xe([])},loading:he}),(0,Y.jsx)($,{type:"secondary",style:{fontSize:"12px",display:"block",marginTop:4},children:"Search for MCP servers by describing the tools you need"})]}),(0,Y.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:he?(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsx)(S.A,{size:"large"})}):pe.length>0?(0,Y.jsxs)("div",{children:[(0,Y.jsx)("div",{style:{marginBottom:16,padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:(0,Y.jsxs)($,{type:"secondary",children:["Found ",pe.length," result",1!==pe.length?"s":"",' for "',ue,'"']})}),(0,Y.jsx)(u.A,{dataSource:pe,renderItem:e=>{var i;return(0,Y.jsx)(a.A,{style:{marginBottom:16},actions:[(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(U.A,{}),onClick:()=>{var i;return bi(e.service.serviceId,null===(i=e.service.provider)||void 0===i?void 0:i.id)},children:"Preview"},"preview"),e.service.repositoryUrl&&(0,Y.jsx)(R.A,{title:"View Repository",children:(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(N.A,{}),onClick:()=>window.open(e.service.repositoryUrl,"_blank")})},"repo"),(0,Y.jsx)(o.Ay,{type:"primary",icon:(0,Y.jsx)(D.A,{}),loading:ye[e.service.serviceId],disabled:ui(e.service.serviceId),onClick:()=>ji(e.service.serviceId),children:ui(e.service.serviceId)?"Installed":"Install"},"install")].filter(Boolean),children:(0,Y.jsx)(a.A.Meta,{title:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)("span",{children:e.service.serviceName}),(0,Y.jsx)(T.A,{color:Ai(e.service.supportLevel),children:e.service.supportLevel}),e.service.provider&&(0,Y.jsx)(T.A,{color:e.service.provider.isInternal?"gold":"blue",children:e.service.provider.name})]}),description:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(ie,{ellipsis:{rows:1},style:{marginBottom:8},children:e.service.serviceDescription}),(0,Y.jsxs)($,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,Y.jsxs)("span",{children:["ID: ",e.service.serviceId]}),e.service.version&&(0,Y.jsxs)("span",{children:["v",e.service.version]})]}),(null===(i=e.service.provider)||void 0===i?void 0:i.availableIn)&&e.service.provider.availableIn.length>0&&(0,Y.jsxs)("div",{style:{marginBottom:8},children:[(0,Y.jsx)($,{type:"secondary",style:{fontSize:"12px"},children:"Available in: "}),e.service.provider.availableIn.map((e,i)=>(0,Y.jsx)(T.A,{color:"default",children:e},e))]}),(0,Y.jsxs)("div",{style:{marginTop:8},children:[(0,Y.jsx)($,{strong:!0,children:"Matching Tools:"}),(0,Y.jsx)("div",{style:{marginTop:4},children:e.matchingTools.map(e=>(0,Y.jsx)(T.A,{icon:(0,Y.jsx)(Q.A,{}),children:e.toolName},e.toolName))})]})]})})},e.service.serviceId)}})]}):ue?(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsxs)($,{type:"secondary",children:['No tools found for "',ue,'"']})}):(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsx)($,{type:"secondary",children:"Enter a search query to find relevant tools"})})})]})},"search"),(0,Y.jsx)(te,{tab:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(M.A,{}),(0,Y.jsx)("span",{children:"Favorites"}),(0,Y.jsx)(l.A,{count:Me.length})]}),children:(0,Y.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Y.jsx)(n.A,{message:"Your favorite MCP servers",description:"Quickly access servers you've marked as favorites for easy installation.",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,Y.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:0===Me.length?(0,Y.jsx)(v.A,{description:"No favorites yet. Click the heart icon on any server to add it!",image:v.A.PRESENTED_IMAGE_SIMPLE}):(0,Y.jsx)(u.A,{dataSource:E.filter(e=>Me.includes(e.serviceId)),renderItem:Si})})]})},"favorites")]}),(0,Y.jsx)(g.A,{title:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(U.A,{}),(0,Y.jsx)("span",{children:"Service Preview"}),De&&(0,Y.jsx)(T.A,{color:Ai(De.supportLevel),children:De.supportLevel})]}),open:Oe,onCancel:()=>Fe(!1),width:700,footer:[(0,Y.jsx)(o.Ay,{icon:De&&Me.includes(De.serviceId)?(0,Y.jsx)(F.A,{}):(0,Y.jsx)(M.A,{}),onClick:()=>De&&fi(De.serviceId),children:De&&Me.includes(De.serviceId)?"Remove from Favorites":"Add to Favorites"},"favorite"),(0,Y.jsx)(o.Ay,{type:"primary",icon:(0,Y.jsx)(D.A,{}),loading:De&&ye[De.serviceId],disabled:De&&ui(De.serviceId),onClick:()=>De&&ji(De.serviceId),children:De&&ui(De.serviceId)?"Already Installed":"Install Now"},"install"),(0,Y.jsx)(o.Ay,{onClick:()=>Fe(!1),children:"Close"},"close")],children:Ue?(0,Y.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Y.jsx)(S.A,{size:"large",tip:"Loading service details..."})}):De?(0,Y.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,Y.jsxs)(a.A,{size:"small",title:"Service Information",children:[(0,Y.jsxs)(x.A,{column:1,size:"small",children:[(0,Y.jsx)(x.A.Item,{label:"Name",children:De.serviceName}),(0,Y.jsx)(x.A.Item,{label:"ID",children:De.serviceId}),(0,Y.jsx)(x.A.Item,{label:"Type",children:(0,Y.jsx)(T.A,{color:"geekblue",children:De.installationType})}),(0,Y.jsx)(x.A.Item,{label:"Support Level",children:(0,Y.jsx)(T.A,{color:Ai(De.supportLevel),children:De.supportLevel})})]}),(0,Y.jsx)(h.A,{style:{margin:"12px 0"}}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)($,{strong:!0,children:"Description:"}),(0,Y.jsx)(ie,{style:{marginTop:8},children:De.serviceDescription})]}),De.tags&&De.tags.length>0&&(0,Y.jsxs)("div",{style:{marginTop:12},children:[(0,Y.jsx)($,{strong:!0,children:"Tags: "}),De.tags.map(e=>(0,Y.jsx)(T.A,{children:e},e))]})]}),(0,Y.jsxs)(a.A,{size:"small",title:"Installation Details",children:[(0,Y.jsxs)(x.A,{column:1,size:"small",children:[(0,Y.jsx)(x.A.Item,{label:"Method",children:(0,Y.jsx)(T.A,{color:"blue",children:De.installationType})}),De.installationInstructions.package&&(0,Y.jsx)(x.A.Item,{label:"Package",children:(0,Y.jsx)("code",{children:De.installationInstructions.package})}),De.installationInstructions.image&&(0,Y.jsx)(x.A.Item,{label:"Docker Image",children:(0,Y.jsx)("code",{children:De.installationInstructions.image})}),De.installationInstructions.url&&(0,Y.jsx)(x.A.Item,{label:"Remote URL",children:(0,Y.jsx)("code",{children:De.installationInstructions.url})})]}),De.requiredEnvVars&&De.requiredEnvVars.length>0&&(0,Y.jsx)("div",{style:{marginTop:16},children:(0,Y.jsx)(n.A,{message:"Required Environment Variables",description:(0,Y.jsx)(u.A,{dataSource:De.requiredEnvVars,renderItem:e=>(0,Y.jsx)(u.A.Item,{children:(0,Y.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},children:[(0,Y.jsx)($,{strong:!0,children:e.name}),(0,Y.jsx)($,{type:"secondary",children:e.description}),e.isRequired&&(0,Y.jsx)(T.A,{color:"red",children:"Required"}),e.isSecret&&(0,Y.jsx)(T.A,{color:"orange",children:"Secret"})]})})}),type:"warning",showIcon:!0})})]}),(De.repositoryUrl||De.securityReviewUrl)&&(0,Y.jsx)(a.A,{size:"small",title:"Links",children:(0,Y.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},children:[De.repositoryUrl&&(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(N.A,{}),onClick:()=>window.open(De.repositoryUrl,"_blank"),block:!0,children:"View Repository"}),De.securityReviewUrl&&(0,Y.jsx)(o.Ay,{icon:(0,Y.jsx)(J.A,{}),onClick:()=>window.open(De.securityReviewUrl,"_blank"),block:!0,children:"Security Review"})]})}),De.preview&&(0,Y.jsx)(a.A,{size:"small",title:"What Will Be Installed",children:(0,Y.jsx)(n.A,{message:(0,Y.jsxs)("div",{children:[(0,Y.jsx)($,{children:"This service will be installed as: "}),(0,Y.jsx)($,{code:!0,children:De.preview.service_name})]}),description:De.preview.description,type:"info",showIcon:!0})})]}):null}),(0,Y.jsx)(g.A,{title:(0,Y.jsxs)(w.A,{children:[(0,Y.jsx)(Z.A,{style:{color:"#faad14"}}),(0,Y.jsx)("span",{children:"MCP Registry Required"})]}),open:ni,onCancel:vi,footer:[(0,Y.jsx)(o.Ay,{onClick:vi,children:"Cancel"},"cancel"),(0,Y.jsx)(o.Ay,{type:"primary",onClick:async()=>{if(li(!1),!oi)return;await hi()?(await yi(oi),ai(null)):li(!0)},children:"Retry"},"retry")],width:500,children:(0,Y.jsx)(n.A,{message:"Installation Blocked",description:(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("p",{children:["To install Amazon internal MCP servers, you need to install the ",(0,Y.jsx)("code",{children:"mcp-registry"})," tool locally using Toolbox."]}),(0,Y.jsx)("p",{style:{marginTop:"12px",marginBottom:"8px"},children:"Please run:"}),(0,Y.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"13px"},children:(0,Y.jsx)("code",{children:"toolbox install mcp-registry"})}),(0,Y.jsxs)("p",{style:{marginTop:"12px"},children:["After installation, click ",(0,Y.jsx)("strong",{children:"Retry"})," to continue."]})]}),type:"warning",showIcon:!0})})]})}}}]);
//# sourceMappingURL=501.bf9312b3.chunk.js.map