"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[501],{70501:(e,i,s)=>{s.r(i),s.d(i,{default:()=>te});var r=s(65043),t=s(10491),l=s(61494),n=s(98080),o=s(97326),a=s(98105),c=s(95645),d=s(22019),p=s(89073),x=s(15492),h=s(94828),v=s(6051),y=s(76399),j=s(42261),u=s(47419),g=s(11645),A=s(26612),m=s(12624),f=s(85672),b=s(37490),w=s(91686),S=s(99472),I=s(54522),C=s(32513),k=s(8354),T=s(96603),R=s(20691),E=s(61118),z=s(37755),B=s(69380),_=s(89330),L=s(70492),D=s(24228),P=s(94786),U=s(74017),N=s(41334),O=s(95240),F=s(59654),M=s(30119),$=s(90617),q=s(14524),W=s(61966),V=s(1259),J=s(29792),H=s(10454),G=s(73847),K=s(72411),Q=s(70579);const{Search:Z}=t.A,{Text:Y,Title:X,Paragraph:ee}=l.A,{Option:ie}=n.A,{Panel:se}=o.A,{TabPane:re}=a.A,te=e=>{let{visible:i,onClose:s}=e;const[l,X]=(0,r.useState)([]),[te,le]=(0,r.useState)(0),[ne,oe]=(0,r.useState)([]),[ae,ce]=(0,r.useState)([]),[de,pe]=(0,r.useState)([]),[xe,he]=(0,r.useState)(!1),[ve,ye]=(0,r.useState)({}),[je,ue]=(0,r.useState)(""),[ge,Ae]=(0,r.useState)("browse"),[me,fe]=(0,r.useState)([]),[be,we]=(0,r.useState)(!0),[Se,Ie]=(0,r.useState)({}),[Ce,ke]=(0,r.useState)(null),[Te,Re]=(0,r.useState)("all"),[Ee,ze]=(0,r.useState)("all"),[Be,_e]=(0,r.useState)("name"),[Le,De]=(0,r.useState)(null),[Pe,Ue]=(0,r.useState)(!1),[Ne,Oe]=(0,r.useState)(!1),[Fe,Me]=(0,r.useState)([]),[$e,qe]=(0,r.useState)(!1),[We,Ve]=(0,r.useState)({}),[Je,He]=(0,r.useState)(!1),[Ge]=c.A.useForm(),[Ke,Qe]=(0,r.useState)([]),[Ze,Ye]=(0,r.useState)({}),[Xe,ei]=(0,r.useState)(1),[ii,si]=(0,r.useState)(10),ri=(0,r.useRef)(null),[ti,li]=(0,r.useState)(!1),[ni,oi]=(0,r.useState)(null);(0,r.useEffect)(()=>{i&&(ai(),di(),pi(),gi(),Ai(),ci())},[i]);const ai=async()=>{try{const e=await fetch("/api/mcp/registry/providers");if(e.ok){const i=await e.json(),s={id:"builtin",name:"Ziya Builtin",isInternal:!0,supportsSearch:!1,enabled:!0,stats:{totalServices:Object.keys(i.builtinTools||{}).length,lastFetched:(new Date).toISOString()}};ce([s,...i.providers]),fe([s,...i.providers].map(e=>e.id)),console.log("Loaded providers:",i.providers)}}catch(e){console.error("Error loading providers:",e)}},ci=async()=>{try{const e=await fetch("/api/mcp/registry/services");if(e.ok){const i=await e.json(),s={};i.services.forEach(e=>{const i=e.provider.id;s[i]=(s[i]||0)+1,e.provider.availableIn&&e.provider.availableIn.forEach(e=>{e!==i&&(s[e]=(s[e]||0)+1)})});const r={};Object.entries(s).forEach(e=>{let[i,s]=e;r[i]={totalServices:s,lastFetched:(new Date).toISOString()}}),Ve(r)}}catch(e){console.error("Error loading registry stats:",e)}};(0,r.useEffect)(()=>{i&&"registries"===ge&&(async()=>{try{const e=await fetch("/api/mcp/registry/services?max_results=10000");if(e.ok){const i=await e.json(),s={};i.services.forEach(e=>{(e.provider.availableIn||[e.provider.id]).forEach(i=>{s[i]||(s[i]=[]),s[i].push(e.serviceName)})}),Ye(s)}}catch(e){console.error("Error loading registry service names:",e)}})()},[i,ge]);const di=async()=>{he(!0);try{const e=await fetch("/api/mcp/registry/services");if(e.ok){const i=await e.json();X(i.services),le(i.services.length);const s={},r={};i.services.forEach(e=>{s[e.installationType||"unknown"]=(s[e.installationType||"unknown"]||0)+1,r[e.supportLevel]=(r[e.supportLevel]||0)+1}),ke({total:i.services.length,byType:s,bySupport:r})}else d.Ay.error("Failed to load available services")}catch(e){console.error("Error loading services:",e),d.Ay.error("Error loading services")}finally{he(!1)}},pi=async()=>{try{const e=await fetch("/api/mcp/registry/services/installed");if(e.ok){const i=await e.json();oe(i.services)}}catch(e){console.error("Error loading installed services:",e)}},xi=async()=>{try{const e=await fetch("/api/mcp/registry/check-binary");if(e.ok){return!0===(await e.json()).available}return!1}catch(e){return console.error("Error checking mcp-registry binary:",e),!1}},hi=()=>{li(!1),oi(null),ye(e=>({...e,[ni]:!1}))},vi=async e=>{try{const i=await fetch("/api/mcp/registry/services/install",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:e,provider_id:null})});if(i.ok){const s=await i.json();if("success"===s.status){const i=s.server_name||s.service_id||e;d.Ay.success(`Successfully installed ${i}`)}else d.Ay.error(`Installation failed: ${s.error||"Unknown error"}`);await pi(),window.dispatchEvent(new Event("mcpStatusChanged"))}else{const e=await i.json();d.Ay.error(`Installation failed: ${e.error||e.detail||"Unknown error"}`)}}catch(i){console.error("Installation error:",i),d.Ay.error("Installation failed")}finally{ye(i=>({...i,[e]:!1}))}},yi=async e=>{if((e=>{var i;const s=l.find(i=>i.serviceId===e);return s&&("amazon-internal"===s.provider.id||(null===(i=s.provider.availableIn)||void 0===i?void 0:i.includes("amazon-internal")))||!1})(e)){if(!await xi())return oi(e),void li(!0)}if(e.startsWith("builtin_")){const s=e.replace("builtin_","");if("time"===s||"shell"===s){try{(await fetch("/api/mcp/toggle-server",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_name:s,enabled:!0})})).ok?(d.Ay.success(`Enabled ${s} server`),await pi(),window.dispatchEvent(new Event("mcpStatusChanged"))):d.Ay.error(`Failed to enable ${s} server`)}catch(i){d.Ay.error(`Failed to enable ${s} server`)}return}try{(await fetch("/api/mcp/builtin-tools/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:s,enabled:!0})})).ok?(d.Ay.success(`Enabled ${s} builtin tools`),await di(),window.dispatchEvent(new Event("mcpStatusChanged"))):d.Ay.error("Failed to enable builtin tools")}catch(i){d.Ay.error("Failed to enable builtin tools")}return}ye(i=>({...i,[e]:!0}));try{await vi(e)}finally{ye(i=>({...i,[e]:!1}))}},ji=e=>{if(null!==e&&void 0!==e&&e.startsWith("builtin_")){const i=e.replace("builtin_","");return("time"===i||"shell"===i)&&ne.some(e=>e.serverName===i)}return ne.some(i=>i.serviceId===e)},ui=e=>{switch(e){case"Recommended":return"green";case"Supported":return"blue";case"Under assessment":return"orange";case"In development":return"red";case"Community":return"cyan";case"Experimental":return"purple";default:return"default"}},gi=async()=>{},Ai=async()=>{try{const e=await fetch("/api/mcp/registry/favorites");if(e.ok){const i=await e.json();Me(i.favorites||[])}}catch(e){console.error("Error loading favorites:",e)}},mi=async e=>{const i=Fe.includes(e)?Fe.filter(i=>i!==e):[...Fe,e];Me(i);try{await fetch("/api/mcp/registry/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({favorites:i})})}catch(s){console.error("Error updating favorites:",s)}},fi=async(e,i)=>{Ue(!0),Oe(!0);try{const s=i?`/api/mcp/registry/services/${encodeURIComponent(e)}/preview?provider_id=${i}`:`/api/mcp/registry/services/${encodeURIComponent(e)}/preview`,r=await fetch(s);if(r.ok){const e=await r.json();De(e)}else d.Ay.error("Failed to load service preview"),Oe(!1)}catch(s){console.error("Error loading preview:",s),d.Ay.error("Error loading preview"),Oe(!1)}finally{Ue(!1)}},bi=e=>{Ie(i=>({...i,[e]:!i[e]}))},wi=e=>{var i;const s=e.serviceId.startsWith("builtin_"),r=ne.find(i=>i.serviceId===e.serviceId),t=!!r,l=!0===(null===r||void 0===r?void 0:r._manually_configured);return(0,Q.jsx)(p.A,{style:{marginBottom:16},hoverable:!0,actions:[!s&&(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(E.A,{}),onClick:()=>fi(e.serviceId,e.provider.id),children:"Preview"},"preview"),(0,Q.jsx)(h.A,{title:Fe.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Q.jsx)(x.Ay,{icon:Fe.includes(e.serviceId)?(0,Q.jsx)(z.A,{style:{color:"#ff4d4f"}}):(0,Q.jsx)(B.A,{}),onClick:()=>mi(e.serviceId)})},"favorite"),(0,Q.jsx)(x.Ay,{type:s?"default":"primary",icon:(0,Q.jsx)(_.A,{}),loading:ve[e.serviceId],disabled:t,onClick:()=>yi(e.serviceId),children:s?t?"Enabled":"Enable":t?l?"Configured":"Installed":"Install"},"install"),!s&&e.repositoryUrl&&(0,Q.jsx)(h.A,{title:"View Repository",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(L.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!s&&e.securityReviewLink&&(0,Q.jsx)(h.A,{title:"Security Review",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(D.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),(0,Q.jsx)(h.A,{title:Se[e.serviceId]?"Show less":"Show more",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(P.A,{}),onClick:()=>bi(e.serviceId)})},"info")].filter(Boolean),children:(0,Q.jsx)(p.A.Meta,{title:(0,Q.jsxs)(v.A,{wrap:!0,children:[(0,Q.jsx)("span",{children:e.serviceName}),(0,Q.jsx)(y.A,{color:ui(e.supportLevel),children:e.supportLevel}),l&&(0,Q.jsx)(y.A,{color:"orange",icon:(0,Q.jsx)(U.A,{}),children:"Manually Configured"}),s?(0,Q.jsxs)(y.A,{color:"purple",children:[(0,Q.jsx)(N.A,{})," Builtin"]}):e.provider.availableIn&&e.provider.availableIn.length>1?(0,Q.jsx)(h.A,{title:`Available in: ${e.provider.availableIn.join(", ")}`,children:(0,Q.jsxs)(y.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Q.jsx)(y.A,{color:e.provider.isInternal?"gold":"blue",children:e.provider.name}),e.installationType&&(0,Q.jsx)(y.A,{color:"geekblue",children:e.installationType}),s&&!1===e._dependencies_available&&(0,Q.jsx)(y.A,{color:"orange",icon:(0,Q.jsx)(O.A,{}),children:"Dependencies Required"})]}),description:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(ee,{ellipsis:!Se[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription}),s&&e._available_tools&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Q.jsx)(y.A,{color:"cyan",children:e},e))]}),s&&!1===e._dependencies_available&&(0,Q.jsx)(j.A,{message:"Dependencies Required",description:(0,Q.jsxs)("div",{children:["Install with: ",(0,Q.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Se[e.serviceId]&&(0,Q.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Q.jsxs)(u.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(A.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Q.jsx)(_.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(A.A,{title:"Stars",value:e.starCount,prefix:(0,Q.jsx)(F.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(A.A,{title:"Updated",value:new Date(e.lastUpdatedAt).toLocaleDateString(),prefix:(0,Q.jsx)(M.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Author: "}),(0,Q.jsx)(Y,{children:e.author})]}),e.provider.availableIn&&e.provider.availableIn.length>1&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Q.jsx)(y.A,{color:"blue",children:e},e))]})]}),(0,Q.jsx)("div",{style:{marginBottom:8},children:null===(i=e.tags)||void 0===i?void 0:i.map(e=>(0,Q.jsx)(y.A,{color:"default",children:e},e))}),(0,Q.jsxs)(Y,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Q.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Q.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)},Si=async e=>{try{(await fetch(`/api/mcp/registry/providers/${e}/refresh`,{method:"POST"})).ok&&(d.Ay.success("Registry refreshed successfully"),await ci(),await di())}catch(i){console.error("Error refreshing registry:",i),d.Ay.error("Failed to refresh registry")}};return(0,Q.jsxs)(f.A,{title:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(J.A,{}),(0,Q.jsx)("span",{children:"MCP Registry"})]}),open:i,onCancel:s,footer:[(0,Q.jsx)(x.Ay,{onClick:s,children:"Close"},"close")],width:800,style:{top:20},bodyStyle:{height:"70vh",overflow:"auto",display:"flex",flexDirection:"column"},destroyOnClose:!1,children:[(0,Q.jsxs)(a.A,{activeKey:ge,onChange:Ae,style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Q.jsx)(re,{tab:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(H.A,{}),(0,Q.jsx)("span",{children:"Registries"}),(0,Q.jsx)(b.A,{count:ae.length})]}),children:(0,Q.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Q.jsx)(p.A,{size:"small",style:{marginBottom:16},bodyStyle:{padding:"12px 16px"},children:(0,Q.jsxs)(u.A,{gutter:16,align:"middle",children:[(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(A.A,{title:"Registries",value:ae.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"},prefix:(0,Q.jsx)(H.A,{})}),(0,Q.jsxs)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Q.jsxs)("div",{children:["\u21b3 Internal: ",ae.filter(e=>e.isInternal).length]}),(0,Q.jsxs)("div",{children:["\u21b3 External: ",ae.filter(e=>!e.isInternal).length]})]})]})}),(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(A.A,{title:"Services",value:te,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"}}),(0,Q.jsxs)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Q.jsxs)("div",{children:["\u21b3 Installed: ",ne.length]}),(0,Q.jsxs)("div",{children:["\u21b3 Available: ",te-ne.length]})]})]})}),(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(A.A,{title:"Support Levels",value:Object.keys((null===Ce||void 0===Ce?void 0:Ce.bySupport)||{}).length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#faad14"}}),(0,Q.jsx)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:Ce&&Object.entries(Ce.bySupport).slice(0,2).map(e=>{let[i,s]=e;return(0,Q.jsxs)("div",{children:["\u21b3 ",i,": ",s]},i)})})]})}),(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(A.A,{title:"Install Types",value:Object.keys((null===Ce||void 0===Ce?void 0:Ce.byType)||{}).length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#722ed1"}}),(0,Q.jsx)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:Ce&&Object.entries(Ce.byType).slice(0,2).map(e=>{let[i,s]=e;return(0,Q.jsxs)("div",{children:["\u21b3 ",i,": ",s]},i)})})]})})]})}),(0,Q.jsx)(p.A,{style:{marginBottom:16},title:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(G.A,{}),(0,Q.jsx)("span",{children:"Add Custom Registry"})]}),children:Je?(0,Q.jsxs)(c.A,{form:Ge,onFinish:async e=>{try{const i=await fetch("/api/mcp/registry/providers/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(i.ok)d.Ay.success("Custom registry added successfully"),He(!1),Ge.resetFields(),await ai();else{const e=await i.json();d.Ay.error(`Failed to add registry: ${e.detail}`)}}catch(i){console.error("Error adding registry:",i),d.Ay.error("Failed to add registry")}},layout:"vertical",children:[(0,Q.jsxs)(u.A,{gutter:16,children:[(0,Q.jsx)(g.A,{span:12,children:(0,Q.jsx)(c.A.Item,{label:"Registry Name",name:"name",rules:[{required:!0,message:"Please enter a name"}],children:(0,Q.jsx)(t.A,{placeholder:"e.g., Company Internal Registry"})})}),(0,Q.jsx)(g.A,{span:12,children:(0,Q.jsx)(c.A.Item,{label:"Base URL",name:"baseUrl",rules:[{required:!0,message:"Please enter a URL"},{type:"url",message:"Please enter a valid URL"}],children:(0,Q.jsx)(t.A,{placeholder:"https://registry.example.com"})})})]}),(0,Q.jsxs)(u.A,{gutter:16,children:[(0,Q.jsx)(g.A,{span:12,children:(0,Q.jsx)(c.A.Item,{label:"Authentication",name:"authType",children:(0,Q.jsxs)(n.A,{defaultValue:"none",children:[(0,Q.jsx)(ie,{value:"none",children:"None"}),(0,Q.jsx)(ie,{value:"bearer",children:"Bearer Token"}),(0,Q.jsx)(ie,{value:"basic",children:"Basic Auth"})]})})}),(0,Q.jsx)(g.A,{span:12,children:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(x.Ay,{type:"primary",htmlType:"submit",children:"Add Registry"}),(0,Q.jsx)(x.Ay,{onClick:()=>{He(!1),Ge.resetFields()},children:"Cancel"})]})})]})]}):(0,Q.jsx)(x.Ay,{type:"dashed",icon:(0,Q.jsx)(G.A,{}),onClick:()=>He(!0),style:{width:"100%"},children:"Add Custom Registry Endpoint"})}),(0,Q.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:xe?(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsx)(w.A,{size:"large",tip:"Loading registry providers..."})}):0===ae.length?(0,Q.jsx)(S.A,{description:"No registry providers found"}):(0,Q.jsx)(I.A,{dataSource:ae,renderItem:e=>{const i=We[e.id]||{totalServices:0},s=!1!==e.enabled,r=xe,t=Ze[e.id]||[];return(0,Q.jsx)(p.A,{style:{marginBottom:16,opacity:s?1:.6,border:e.isInternal?"1px solid #faad14":void 0},actions:[(0,Q.jsx)(h.A,{title:"Refresh registry data",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)($.A,{}),onClick:()=>Si(e.id),loading:r,disabled:!s})},"refresh"),(0,Q.jsx)(h.A,{title:"Registry settings",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(q.A,{}),onClick:()=>d.Ay.info("Registry settings coming soon")})},"settings"),!e.isInternal&&(0,Q.jsx)(h.A,{title:"Remove custom registry",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(W.A,{}),danger:!0,onClick:()=>d.Ay.info("Remove registry coming soon")})},"remove")].filter(Boolean),hoverable:!0,children:(0,Q.jsx)(p.A.Meta,{title:(0,Q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)("span",{children:e.name}),e.isInternal&&(0,Q.jsx)(y.A,{color:"gold",children:"Internal"}),e.supportsSearch&&(0,Q.jsx)(y.A,{color:"blue",children:"Search"}),(0,Q.jsx)(y.A,{color:"default",style:{fontSize:"11px"},children:e.id}),i.errorCount&&i.errorCount>0&&(0,Q.jsxs)(y.A,{color:"red",children:[i.errorCount," errors"]})]}),(0,Q.jsx)(m.A,{checked:s,onChange:i=>(async(e,i)=>{ce(s=>s.map(s=>s.id===e?{...s,enabled:i}:s));try{(await fetch("/api/mcp/registry/providers/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider_id:e,enabled:i})})).ok?(d.Ay.success((i?"Enabled":"Disabled")+" registry"),i&&await di()):(ce(s=>s.map(s=>s.id===e?{...s,enabled:!i}:s)),d.Ay.error("Failed to toggle registry"))}catch(s){ce(s=>s.map(s=>s.id===e?{...s,enabled:!i}:s)),console.error("Error toggling registry:",s),d.Ay.error("Failed to toggle registry")}})(e.id,i)})]}),description:(0,Q.jsx)("div",{children:(0,Q.jsxs)(v.A,{direction:"vertical",style:{width:"100%"},children:[(0,Q.jsxs)(u.A,{gutter:16,children:[(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(o.A,{ghost:!0,size:"small",activeKey:Ke,onChange:e=>Qe(Array.isArray(e)?e:[e]),children:(0,Q.jsx)(se,{header:(0,Q.jsx)(A.A,{title:"Services",value:i.totalServices,prefix:(0,Q.jsx)(V.A,{}),valueStyle:{fontSize:"18px",color:s?"#1890ff":"#bfbfbf"}}),showArrow:t.length>0,children:t.length>0?(0,Q.jsx)("div",{style:{maxHeight:"200px",overflow:"auto",paddingLeft:"10px"},children:t.map(e=>(0,Q.jsxs)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",padding:"2px 0",color:"#666"},children:["\u2022 ",e]},e))}):(0,Q.jsx)(Y,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:"No services available"})},e.id)})}),(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsxs)("div",{style:{textAlign:"center"},children:[(0,Q.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Status"}),(0,Q.jsx)(y.A,{color:s?"green":"default",children:s?"Active":"Disabled"})]})}),(0,Q.jsx)(g.A,{span:8,children:i.lastFetched&&(0,Q.jsxs)("div",{style:{textAlign:"center"},children:[(0,Q.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Last Updated"}),(0,Q.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:new Date(i.lastFetched).toLocaleTimeString()})]})})]}),(0,Q.jsxs)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Q.jsx)(Y,{code:!0,children:e.id}),i.fetchTime&&(0,Q.jsxs)("span",{style:{marginLeft:8},children:["\u2022 Fetch time: ",i.fetchTime,"ms"]}),i.errorCount&&i.errorCount>0&&(0,Q.jsxs)("span",{style:{marginLeft:8,color:"#ff4d4f"},children:["\u2022 ",i.errorCount," errors"]})]})]})})})},e.id)}})})]})},"registries"),(0,Q.jsx)(re,{tab:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(K.A,{}),(0,Q.jsx)("span",{children:"Browse Services"})]}),children:(0,Q.jsxs)("div",{ref:ri,style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[Ce&&(0,Q.jsx)(p.A,{style:{marginBottom:16},bodyStyle:{padding:"12px 16px"},children:(0,Q.jsxs)(u.A,{gutter:16,align:"middle",children:[(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsx)(A.A,{title:"Available",value:Ce.total,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"},prefix:(0,Q.jsx)(J.A,{})})}),(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsx)(A.A,{title:"Registries",value:ae.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"}})}),(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsx)(A.A,{title:"Installed",value:ne.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#722ed1"}})}),(0,Q.jsx)(g.A,{span:6,children:(0,Q.jsxs)("div",{style:{textAlign:"left"},children:[(0,Q.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Top Type"}),(0,Q.jsx)("div",{children:(0,Q.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:(()=>{const e=Object.entries(Ce.byType).sort((e,i)=>i[1]-e[1])[0];return(null===e||void 0===e?void 0:e[0])||"N/A"})()})}),(0,Q.jsx)("div",{children:(0,Q.jsx)("span",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:(()=>{const e=Object.entries(Ce.byType).sort((e,i)=>i[1]-e[1])[0];return`(${(null===e||void 0===e?void 0:e[1])||0} servers)`})()})})]})})]})}),(0,Q.jsx)(p.A,{size:"small",style:{marginBottom:16},children:(0,Q.jsxs)(u.A,{gutter:16,children:[(0,Q.jsx)(g.A,{span:24,style:{marginBottom:12},children:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(C.A,{checked:be,onChange:e=>{we(e.target.checked),setTimeout(di,100)},children:"Include Amazon Internal"}),(0,Q.jsx)(k.A,{type:"vertical"}),(0,Q.jsxs)(Y,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[ae.length," registries active"]}),(0,Q.jsx)(k.A,{type:"vertical"}),(0,Q.jsx)(C.A,{checked:$e,onChange:e=>qe(e.target.checked),children:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(z.A,{style:{color:"#ff4d4f"}}),(0,Q.jsx)("span",{children:"Favorites only"}),Fe.length>0&&(0,Q.jsx)(b.A,{count:Fe.length})]})})]})}),(0,Q.jsxs)(g.A,{span:8,children:[(0,Q.jsx)(Y,{strong:!0,children:"Sort by: "}),(0,Q.jsxs)(T.Ay.Group,{value:Be,onChange:e=>_e(e.target.value),style:{display:"block",marginTop:4},children:[(0,Q.jsx)(T.Ay.Button,{value:"name",children:"A-Z"}),(0,Q.jsx)(T.Ay.Button,{value:"updated",children:"Recent"}),(0,Q.jsx)(T.Ay.Button,{value:"support",children:"Quality"})]})]}),(0,Q.jsxs)(g.A,{span:8,children:[(0,Q.jsx)(Y,{strong:!0,children:"Support Level: "}),(0,Q.jsxs)(n.A,{value:Te,onChange:Re,style:{width:"100%",marginTop:4},children:[(0,Q.jsx)(ie,{value:"all",children:"All Levels"}),(0,Q.jsx)(ie,{value:"Recommended",children:"\u2b50 Recommended"}),(0,Q.jsx)(ie,{value:"Supported",children:"\u2713 Supported"}),(0,Q.jsx)(ie,{value:"Community",children:"\ud83d\udc65 Community"}),(0,Q.jsx)(ie,{value:"Under assessment",children:"\ud83d\udd0d Under Review"}),(0,Q.jsx)(ie,{value:"Experimental",children:"\ud83e\uddea Experimental"})]})]}),(0,Q.jsxs)(g.A,{span:8,children:[(0,Q.jsx)(Y,{strong:!0,children:"Install Type: "}),(0,Q.jsxs)(n.A,{value:Ee,onChange:ze,style:{width:"100%",marginTop:4},children:[(0,Q.jsx)(ie,{value:"all",children:"All Types"}),(0,Q.jsx)(ie,{value:"npm",children:"\ud83d\udce6 NPM"}),(0,Q.jsx)(ie,{value:"pypi",children:"\ud83d\udc0d Python"}),(0,Q.jsx)(ie,{value:"docker",children:"\ud83d\udc33 Docker"}),(0,Q.jsx)(ie,{value:"remote",children:"\u2601\ufe0f Remote"}),(0,Q.jsx)(ie,{value:"git",children:"\ud83d\udcc2 Git Clone"})]})]})]})}),(0,Q.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:xe?(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsx)(w.A,{size:"large",tip:"Loading MCP servers from all registries..."})}):0===l.length?(0,Q.jsx)(S.A,{description:"No services found. Try adjusting filters or check your connection.",image:S.A.PRESENTED_IMAGE_SIMPLE}):(()=>{let e=l;"all"!==Te&&(e=e.filter(e=>e.supportLevel===Te)),"all"!==Ee&&(e=e.filter(e=>e.installationType===Ee)),$e&&(e=e.filter(e=>Fe.includes(e.serviceId)));const i=[...e].sort((e,i)=>{if("name"===Be)return e.serviceName.localeCompare(i.serviceName);if("updated"===Be)return new Date(i.lastUpdatedAt).getTime()-new Date(e.lastUpdatedAt).getTime();{const s=["Recommended","Supported","Community","Under assessment","Experimental"];return s.indexOf(e.supportLevel)-s.indexOf(i.supportLevel)}});return(0,Q.jsx)(I.A,{dataSource:i,renderItem:wi,pagination:{current:Xe,pageSize:ii,showSizeChanger:!0,showTotal:(e,i)=>`${i[0]}-${i[1]} of ${e} filtered (${te} total servers)`,onChange:(e,i)=>{ei(e),ri.current&&(ri.current.scrollTop=0),i!==ii&&(si(i),ei(1))}}})})()})]})},"browse"),(0,Q.jsx)(re,{tab:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(J.A,{}),(0,Q.jsx)("span",{children:"Installed Services"}),(0,Q.jsx)(b.A,{count:ne.length})]}),children:(0,Q.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Q.jsx)(j.A,{message:"Manage your installed MCP services",description:"These services are currently installed and configured in your system.",type:"success",showIcon:!0,style:{marginBottom:16}}),(0,Q.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:0===ne.length?(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsx)(Y,{type:"secondary",children:"No registry services installed"})}):(0,Q.jsx)(I.A,{dataSource:ne,renderItem:e=>{var i,s,r,t,l,n;if(!e||!e.serviceId)return null;const o=(null===(i=e.serviceId)||void 0===i?void 0:i.startsWith("builtin_"))||!1,a=!0===e._manually_configured;return(0,Q.jsx)(p.A,{style:{marginBottom:16},hoverable:!0,actions:[!o&&(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(E.A,{}),onClick:()=>{var i;return fi(e.serviceId,null===(i=e.provider)||void 0===i?void 0:i.id)},children:"Preview"},"preview"),(0,Q.jsx)(h.A,{title:Fe.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Q.jsx)(x.Ay,{icon:Fe.includes(e.serviceId)?(0,Q.jsx)(z.A,{style:{color:"#ff4d4f"}}):(0,Q.jsx)(B.A,{}),onClick:()=>mi(e.serviceId)})},"favorite"),(0,Q.jsx)(x.Ay,{type:o?"default":"primary",icon:(0,Q.jsx)(_.A,{}),loading:ve[e.serviceId],disabled:ji(e.serviceId),onClick:()=>yi(e.serviceId),children:o?ji(e.serviceId)?"Enabled":"Enable":ji(e.serviceId)?"Installed":"Install"},"install"),!o&&e.repositoryUrl&&(0,Q.jsx)(h.A,{title:"View Repository",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(L.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!o&&e.securityReviewLink&&(0,Q.jsx)(h.A,{title:"Security Review",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(D.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),(0,Q.jsx)(h.A,{title:Se[e.serviceId]?"Show less":"Show more",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(P.A,{}),onClick:()=>bi(e.serviceId)})},"info")].filter(Boolean),children:(0,Q.jsx)(p.A.Meta,{title:(0,Q.jsxs)(v.A,{wrap:!0,children:[(0,Q.jsx)("span",{children:e.serviceName}),(0,Q.jsx)(y.A,{color:ui(e.supportLevel||"Community"),children:e.supportLevel||"Community"}),a&&(0,Q.jsx)(y.A,{color:"orange",icon:(0,Q.jsx)(U.A,{}),children:"Manually Configured"}),o?(0,Q.jsxs)(y.A,{color:"purple",children:[(0,Q.jsx)(N.A,{})," Builtin"]}):null!==(s=e.provider)&&void 0!==s&&s.availableIn&&e.provider.availableIn.length>1?(0,Q.jsx)(h.A,{title:`Available in: ${e.provider.availableIn.join(", ")}`,children:(0,Q.jsxs)(y.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Q.jsx)(y.A,{color:null!==(r=e.provider)&&void 0!==r&&r.isInternal?"gold":"blue",children:(null===(t=e.provider)||void 0===t?void 0:t.name)||"Unknown"}),e.installationType&&(0,Q.jsx)(y.A,{color:"geekblue",children:e.installationType}),o&&!1===e._dependencies_available&&(0,Q.jsx)(y.A,{color:"orange",icon:(0,Q.jsx)(O.A,{}),children:"Dependencies Required"})]}),description:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(ee,{ellipsis:!Se[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription||e.serviceName}),o&&e._available_tools&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Q.jsx)(y.A,{color:"cyan",children:e},e))]}),o&&!1===e._dependencies_available&&(0,Q.jsx)(j.A,{message:"Dependencies Required",description:(0,Q.jsxs)("div",{children:["Install with: ",(0,Q.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),o&&e._available_tools&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Q.jsx)(y.A,{color:"cyan",children:e},e))]}),o&&!1===e._dependencies_available&&(0,Q.jsx)(j.A,{message:"Dependencies Required",description:(0,Q.jsxs)("div",{children:["Install with: ",(0,Q.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Se[e.serviceId]&&(0,Q.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Q.jsxs)(u.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(A.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Q.jsx)(_.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(A.A,{title:"Stars",value:e.starCount,prefix:(0,Q.jsx)(F.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Q.jsx)(g.A,{span:8,children:(0,Q.jsx)(A.A,{title:"Updated",value:e.lastUpdatedAt?new Date(e.lastUpdatedAt).toLocaleDateString():"N/A",prefix:(0,Q.jsx)(M.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Author: "}),(0,Q.jsx)(Y,{children:e.author})]}),(null===(l=e.provider)||void 0===l?void 0:l.availableIn)&&e.provider.availableIn.length>1&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Q.jsx)(y.A,{color:"blue",children:e},e))]})]}),(0,Q.jsx)("div",{style:{marginBottom:8},children:null===(n=e.tags)||void 0===n?void 0:n.map(e=>(0,Q.jsx)(y.A,{color:"default",children:e},e))}),(0,Q.jsxs)(Y,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Q.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Q.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)}})})]})},"installed"),(0,Q.jsx)(re,{tab:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(U.A,{}),(0,Q.jsx)("span",{children:"Search Tools"})]}),children:(0,Q.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Q.jsxs)("div",{style:{marginBottom:16},children:[(0,Q.jsxs)("div",{style:{marginBottom:12},children:[(0,Q.jsx)(Y,{strong:!0,children:"Search Providers:"}),(0,Q.jsx)(n.A,{mode:"multiple",placeholder:"Select providers to search",style:{width:"100%",marginTop:4},value:me,onChange:fe,children:ae.map(e=>(0,Q.jsxs)(ie,{value:e.id,children:[e.name," ",e.isInternal?"(Internal)":""]},e.id))})]}),(0,Q.jsx)(Z,{placeholder:"Describe what you want to do (e.g., 'file operations', 'database queries')",enterButton:"Search Tools",size:"large",value:je,onChange:e=>ue(e.target.value),onSearch:async e=>{if(e.trim()){he(!0);try{const i=await fetch("/api/mcp/registry/tools/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,maxTools:20,providers:me.length>0?me:null})});if(i.ok){const e=await i.json();pe(e.results)}else d.Ay.error("Failed to search tools")}catch(i){console.error("Error searching tools:",i),d.Ay.error("Error searching tools")}finally{he(!1)}}else pe([])},loading:xe}),(0,Q.jsx)(Y,{type:"secondary",style:{fontSize:"12px",display:"block",marginTop:4},children:"Search for MCP servers by describing the tools you need"})]}),(0,Q.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:xe?(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsx)(w.A,{size:"large"})}):de.length>0?(0,Q.jsxs)("div",{children:[(0,Q.jsx)("div",{style:{marginBottom:16,padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:(0,Q.jsxs)(Y,{type:"secondary",children:["Found ",de.length," result",1!==de.length?"s":"",' for "',je,'"']})}),(0,Q.jsx)(I.A,{dataSource:de,renderItem:e=>{var i;return(0,Q.jsx)(p.A,{style:{marginBottom:16},actions:[(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(E.A,{}),onClick:()=>{var i;return fi(e.service.serviceId,null===(i=e.service.provider)||void 0===i?void 0:i.id)},children:"Preview"},"preview"),e.service.repositoryUrl&&(0,Q.jsx)(h.A,{title:"View Repository",children:(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(L.A,{}),onClick:()=>window.open(e.service.repositoryUrl,"_blank")})},"repo"),(0,Q.jsx)(x.Ay,{type:"primary",icon:(0,Q.jsx)(_.A,{}),loading:ve[e.service.serviceId],disabled:ji(e.service.serviceId),onClick:()=>yi(e.service.serviceId),children:ji(e.service.serviceId)?"Installed":"Install"},"install")].filter(Boolean),children:(0,Q.jsx)(p.A.Meta,{title:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)("span",{children:e.service.serviceName}),(0,Q.jsx)(y.A,{color:ui(e.service.supportLevel),children:e.service.supportLevel}),e.service.provider&&(0,Q.jsx)(y.A,{color:e.service.provider.isInternal?"gold":"blue",children:e.service.provider.name})]}),description:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(ee,{ellipsis:{rows:1},style:{marginBottom:8},children:e.service.serviceDescription}),(0,Q.jsxs)(Y,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,Q.jsxs)("span",{children:["ID: ",e.service.serviceId]}),e.service.version&&(0,Q.jsxs)("span",{children:["v",e.service.version]})]}),(null===(i=e.service.provider)||void 0===i?void 0:i.availableIn)&&e.service.provider.availableIn.length>0&&(0,Q.jsxs)("div",{style:{marginBottom:8},children:[(0,Q.jsx)(Y,{type:"secondary",style:{fontSize:"12px"},children:"Available in: "}),e.service.provider.availableIn.map((e,i)=>(0,Q.jsx)(y.A,{color:"default",children:e},e))]}),(0,Q.jsxs)("div",{style:{marginTop:8},children:[(0,Q.jsx)(Y,{strong:!0,children:"Matching Tools:"}),(0,Q.jsx)("div",{style:{marginTop:4},children:e.matchingTools.map(e=>(0,Q.jsx)(y.A,{icon:(0,Q.jsx)(U.A,{}),children:e.toolName},e.toolName))})]})]})})},e.service.serviceId)}})]}):je?(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsxs)(Y,{type:"secondary",children:['No tools found for "',je,'"']})}):(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsx)(Y,{type:"secondary",children:"Enter a search query to find relevant tools"})})})]})},"search"),(0,Q.jsx)(re,{tab:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(B.A,{}),(0,Q.jsx)("span",{children:"Favorites"}),(0,Q.jsx)(b.A,{count:Fe.length})]}),children:(0,Q.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Q.jsx)(j.A,{message:"Your favorite MCP servers",description:"Quickly access servers you've marked as favorites for easy installation.",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,Q.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:0===Fe.length?(0,Q.jsx)(S.A,{description:"No favorites yet. Click the heart icon on any server to add it!",image:S.A.PRESENTED_IMAGE_SIMPLE}):(0,Q.jsx)(I.A,{dataSource:l.filter(e=>Fe.includes(e.serviceId)),renderItem:wi})})]})},"favorites")]}),(0,Q.jsx)(f.A,{title:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(E.A,{}),(0,Q.jsx)("span",{children:"Service Preview"}),Le&&(0,Q.jsx)(y.A,{color:ui(Le.supportLevel),children:Le.supportLevel})]}),open:Ne,onCancel:()=>Oe(!1),width:700,footer:[(0,Q.jsx)(x.Ay,{icon:Le&&Fe.includes(Le.serviceId)?(0,Q.jsx)(z.A,{}):(0,Q.jsx)(B.A,{}),onClick:()=>Le&&mi(Le.serviceId),children:Le&&Fe.includes(Le.serviceId)?"Remove from Favorites":"Add to Favorites"},"favorite"),(0,Q.jsx)(x.Ay,{type:"primary",icon:(0,Q.jsx)(_.A,{}),loading:Le&&ve[Le.serviceId],disabled:Le&&ji(Le.serviceId),onClick:()=>Le&&yi(Le.serviceId),children:Le&&ji(Le.serviceId)?"Already Installed":"Install Now"},"install"),(0,Q.jsx)(x.Ay,{onClick:()=>Oe(!1),children:"Close"},"close")],children:Pe?(0,Q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Q.jsx)(w.A,{size:"large",tip:"Loading service details..."})}):Le?(0,Q.jsxs)(v.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,Q.jsxs)(p.A,{size:"small",title:"Service Information",children:[(0,Q.jsxs)(R.A,{column:1,size:"small",children:[(0,Q.jsx)(R.A.Item,{label:"Name",children:Le.serviceName}),(0,Q.jsx)(R.A.Item,{label:"ID",children:Le.serviceId}),(0,Q.jsx)(R.A.Item,{label:"Type",children:(0,Q.jsx)(y.A,{color:"geekblue",children:Le.installationType})}),(0,Q.jsx)(R.A.Item,{label:"Support Level",children:(0,Q.jsx)(y.A,{color:ui(Le.supportLevel),children:Le.supportLevel})})]}),(0,Q.jsx)(k.A,{style:{margin:"12px 0"}}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)(Y,{strong:!0,children:"Description:"}),(0,Q.jsx)(ee,{style:{marginTop:8},children:Le.serviceDescription})]}),Le.tags&&Le.tags.length>0&&(0,Q.jsxs)("div",{style:{marginTop:12},children:[(0,Q.jsx)(Y,{strong:!0,children:"Tags: "}),Le.tags.map(e=>(0,Q.jsx)(y.A,{children:e},e))]})]}),(0,Q.jsxs)(p.A,{size:"small",title:"Installation Details",children:[(0,Q.jsxs)(R.A,{column:1,size:"small",children:[(0,Q.jsx)(R.A.Item,{label:"Method",children:(0,Q.jsx)(y.A,{color:"blue",children:Le.installationType})}),Le.installationInstructions.package&&(0,Q.jsx)(R.A.Item,{label:"Package",children:(0,Q.jsx)("code",{children:Le.installationInstructions.package})}),Le.installationInstructions.image&&(0,Q.jsx)(R.A.Item,{label:"Docker Image",children:(0,Q.jsx)("code",{children:Le.installationInstructions.image})}),Le.installationInstructions.url&&(0,Q.jsx)(R.A.Item,{label:"Remote URL",children:(0,Q.jsx)("code",{children:Le.installationInstructions.url})})]}),Le.requiredEnvVars&&Le.requiredEnvVars.length>0&&(0,Q.jsx)("div",{style:{marginTop:16},children:(0,Q.jsx)(j.A,{message:"Required Environment Variables",description:(0,Q.jsx)(I.A,{dataSource:Le.requiredEnvVars,renderItem:e=>(0,Q.jsx)(I.A.Item,{children:(0,Q.jsxs)(v.A,{direction:"vertical",style:{width:"100%"},children:[(0,Q.jsx)(Y,{strong:!0,children:e.name}),(0,Q.jsx)(Y,{type:"secondary",children:e.description}),e.isRequired&&(0,Q.jsx)(y.A,{color:"red",children:"Required"}),e.isSecret&&(0,Q.jsx)(y.A,{color:"orange",children:"Secret"})]})})}),type:"warning",showIcon:!0})})]}),(Le.repositoryUrl||Le.securityReviewUrl)&&(0,Q.jsx)(p.A,{size:"small",title:"Links",children:(0,Q.jsxs)(v.A,{direction:"vertical",style:{width:"100%"},children:[Le.repositoryUrl&&(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(L.A,{}),onClick:()=>window.open(Le.repositoryUrl,"_blank"),block:!0,children:"View Repository"}),Le.securityReviewUrl&&(0,Q.jsx)(x.Ay,{icon:(0,Q.jsx)(D.A,{}),onClick:()=>window.open(Le.securityReviewUrl,"_blank"),block:!0,children:"Security Review"})]})}),Le.preview&&(0,Q.jsx)(p.A,{size:"small",title:"What Will Be Installed",children:(0,Q.jsx)(j.A,{message:(0,Q.jsxs)("div",{children:[(0,Q.jsx)(Y,{children:"This service will be installed as: "}),(0,Q.jsx)(Y,{code:!0,children:Le.preview.service_name})]}),description:Le.preview.description,type:"info",showIcon:!0})})]}):null}),(0,Q.jsx)(f.A,{title:(0,Q.jsxs)(v.A,{children:[(0,Q.jsx)(O.A,{style:{color:"#faad14"}}),(0,Q.jsx)("span",{children:"MCP Registry Required"})]}),open:ti,onCancel:hi,footer:[(0,Q.jsx)(x.Ay,{onClick:hi,children:"Cancel"},"cancel"),(0,Q.jsx)(x.Ay,{type:"primary",onClick:async()=>{if(li(!1),!ni)return;await xi()?(await vi(ni),oi(null)):li(!0)},children:"Retry"},"retry")],width:500,children:(0,Q.jsx)(j.A,{message:"Installation Blocked",description:(0,Q.jsxs)("div",{children:[(0,Q.jsxs)("p",{children:["To install Amazon internal MCP servers, you need to install the ",(0,Q.jsx)("code",{children:"mcp-registry"})," tool locally using Toolbox."]}),(0,Q.jsx)("p",{style:{marginTop:"12px",marginBottom:"8px"},children:"Please run:"}),(0,Q.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"13px"},children:(0,Q.jsx)("code",{children:"toolbox install mcp-registry"})}),(0,Q.jsxs)("p",{style:{marginTop:"12px"},children:["After installation, click ",(0,Q.jsx)("strong",{children:"Retry"})," to continue."]})]}),type:"warning",showIcon:!0})})]})}}}]);
//# sourceMappingURL=501.e3f48313.chunk.js.map