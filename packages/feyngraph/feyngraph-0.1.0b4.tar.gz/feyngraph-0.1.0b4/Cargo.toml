[package]
authors = ["Jens Braun <j.braun@kit.edu>"]
categories = ["science"]
description = "A modern Feynman diagram generator"
edition = "2024"
keywords = ["feynman", "diagrams", "physics", "hep"]
license = "MPL-2.0"
name = "feyngraph"
repository = "https://github.com/jens-braun/feyngraph"
version = "0.1.0-beta.4"

[lib]
name = "feyngraph"
crate-type = ["lib", "cdylib"]

[dependencies]
itertools = "0.14"
rayon = "1"
log = "0.4"
thiserror = "2"
indexmap = "2"
either = "1"
peg = "0.8"
rustc-hash = "2"

# Required for Python interface
pyo3 = { version = "0.27", features = [
    "auto-initialize",
    "either",
    "indexmap",
    "multiple-pymethods",
    "abi3-py37",
], optional = true }
pyo3-ffi = { version = "0.27", optional = true }
pyo3-log = { version = "0.13", optional = true }

[dev-dependencies]
paste = "1"
tempfile = "3"
regex = "1"
test-log = "0.2"
approx = "0.5"
criterion = "0.7"
pretty_assertions = "1"

[features]
default = []
python-bindings = ["pyo3", "pyo3-log", "pyo3-ffi"]
wolfram-bindings = ["python-bindings"]
check_momenta = []

[[bench]]
name = "topologies"
harness = false

[[bench]]
name = "diagrams"
harness = false

[package.metadata.docs.rs]
rustdoc-args = ["--html-in-header", "./src/docs-header.html"]
