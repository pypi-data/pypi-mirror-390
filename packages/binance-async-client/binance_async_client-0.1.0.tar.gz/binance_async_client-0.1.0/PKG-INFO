Metadata-Version: 2.4
Name: binance-async-client
Version: 0.1.0
Summary: å¼‚æ­¥å¸å®‰APIå®¢æˆ·ç«¯ï¼Œæ”¯æŒç°è´§å’ŒæœŸè´§äº¤æ˜“ï¼Œå†…ç½®æ™ºèƒ½é™æµå™¨
Author: binance-async-client contributors
License: MIT
Project-URL: Homepage, https://github.com/hamartia0/binance-async-client
Project-URL: Documentation, https://github.com/hamartia0/binance-async-client#readme
Project-URL: Repository, https://github.com/hamartia0/binance-async-client
Project-URL: Issues, https://github.com/hamartia0/binance-async-client/issues
Keywords: binance,async,api,client,cryptocurrency,trading
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Office/Business :: Financial :: Investment
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: aiohttp>=3.8.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Dynamic: license-file

# å¸å®‰å¼‚æ­¥å®¢æˆ·ç«¯

ä¸€ä¸ªé«˜æ€§èƒ½çš„å¼‚æ­¥å¸å®‰APIå®¢æˆ·ç«¯ï¼Œæ”¯æŒç°è´§å’ŒæœŸè´§äº¤æ˜“ï¼Œå†…ç½®æ™ºèƒ½é™æµå™¨ã€‚

## ğŸ“¦ ç»„ä»¶æ¶æ„

### å®¢æˆ·ç«¯ç±»ï¼ˆClient Classesï¼‰

#### 1. **AsyncBinanceClient** - ç°è´§å®¢æˆ·ç«¯ï¼ˆåŸºç¡€ç±»ï¼‰
- **ä½œç”¨**: å¸å®‰ç°è´§å¸‚åœºçš„å¼‚æ­¥APIå®¢æˆ·ç«¯
- **åŠŸèƒ½**: 
  - è·å–ç°è´§Kçº¿æ•°æ®ï¼ˆ`get_historical_klines_async`ï¼‰
  - è·å–äº¤æ˜“æ‰€ä¿¡æ¯ï¼ˆ`get_exchange_info_async`ï¼‰
  - è·å–24å°æ—¶ä»·æ ¼ç»Ÿè®¡ï¼ˆ`get_24hr_ticker_async`ï¼‰
- **APIç«¯ç‚¹**: `https://api.binance.com` åŠå…¶å¤‡ç”¨ç«¯ç‚¹
- **é™æµå™¨**: å¯é…ç½®ä½¿ç”¨æœ¬åœ°é™æµå™¨æˆ–å…¨å±€é™æµå™¨

#### 2. **FuturesAsyncClient** - æœŸè´§å®¢æˆ·ç«¯ï¼ˆç»§æ‰¿è‡ª AsyncBinanceClientï¼‰
- **ä½œç”¨**: å¸å®‰æœŸè´§å¸‚åœºçš„å¼‚æ­¥APIå®¢æˆ·ç«¯
- **ç»§æ‰¿å…³ç³»**: `FuturesAsyncClient` â†’ `AsyncBinanceClient`
- **ç‰¹ç‚¹**:
  - è‡ªåŠ¨ä½¿ç”¨ `GlobalRateLimiter`ï¼ˆå…¨å±€é™æµå™¨ï¼‰
  - è¦†ç›–APIç«¯ç‚¹ä¸ºæœŸè´§ä¸“ç”¨ç«¯ç‚¹
  - æ”¯æŒæ›´å¤§çš„æ•°æ®é‡é™åˆ¶ï¼ˆæœ€å¤§1500æ¡ï¼‰
- **APIç«¯ç‚¹**: `https://fapi.binance.com` åŠå…¶å¤‡ç”¨ç«¯ç‚¹
- **ä¸»è¦æ–¹æ³•**:
  - `get_futures_klines_async()`: è·å–æœŸè´§Kçº¿æ•°æ®
  - `get_futures_exchange_info_async()`: è·å–æœŸè´§äº¤æ˜“æ‰€ä¿¡æ¯
  - `get_futures_24hr_ticker_async()`: è·å–æœŸè´§24å°æ—¶è¡Œæƒ…

### é™æµå™¨ç±»ï¼ˆRate Limiter Classesï¼‰

#### 3. **AsyncRateLimiter** - æœ¬åœ°é™æµå™¨
- **ä½œç”¨**: å•ä¸ªå®¢æˆ·ç«¯ä¸“ç”¨çš„é™æµå™¨
- **ç‰¹ç‚¹**:
  - æ¯ä¸ªå®¢æˆ·ç«¯å®ä¾‹å¯ä»¥æœ‰è‡ªå·±çš„é™æµå™¨
  - ç‹¬ç«‹ç®¡ç†APIè°ƒç”¨é¢‘ç‡
  - é€‚åˆå•ä¸€å®¢æˆ·ç«¯åœºæ™¯
- **é…ç½®**: é€šè¿‡ `RateLimitConfig` è‡ªå®šä¹‰é™æµå‚æ•°

#### 4. **GlobalRateLimiter** - å…¨å±€é™æµå™¨ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰
- **ä½œç”¨**: ç»Ÿä¸€ç®¡ç†å¤šä¸ªå®¢æˆ·ç«¯çš„APIè°ƒç”¨é¢‘ç‡
- **ç‰¹ç‚¹**:
  - **å•ä¾‹æ¨¡å¼**: å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹
  - **ç»Ÿä¸€é…é¢**: ç°è´§å’ŒæœŸè´§å…±äº«APIé…é¢
  - **ç»Ÿè®¡åŠŸèƒ½**: åŒºåˆ†ç°è´§å’ŒæœŸè´§è¯·æ±‚çš„ç»Ÿè®¡
  - **æ¨èä½¿ç”¨**: å½“åŒæ—¶ä½¿ç”¨ç°è´§å’ŒæœŸè´§å®¢æˆ·ç«¯æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å…¨å±€é™æµå™¨
- **ä¼˜åŠ¿**: é¿å…å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶è°ƒç”¨æ—¶è§¦å‘å¸å®‰APIé™åˆ¶

### ç±»å…³ç³»å›¾

```
AsyncBinanceClient (ç°è´§å®¢æˆ·ç«¯)
    â”œâ”€â”€ å¯é…ç½®é™æµå™¨: AsyncRateLimiter æˆ– GlobalRateLimiter
    â”œâ”€â”€ APIç«¯ç‚¹: api.binance.com
    â””â”€â”€ æ–¹æ³•: get_historical_klines_async(), get_exchange_info_async(), ...

FuturesAsyncClient (æœŸè´§å®¢æˆ·ç«¯)
    â”œâ”€â”€ ç»§æ‰¿è‡ª: AsyncBinanceClient
    â”œâ”€â”€ å¼ºåˆ¶ä½¿ç”¨: GlobalRateLimiter (å…¨å±€é™æµå™¨)
    â”œâ”€â”€ APIç«¯ç‚¹: fapi.binance.com
    â””â”€â”€ æ–¹æ³•: get_futures_klines_async(), get_futures_exchange_info_async(), ...

GlobalRateLimiter (å…¨å±€é™æµå™¨ - å•ä¾‹)
    â”œâ”€â”€ ç»Ÿä¸€ç®¡ç†: ç°è´§ + æœŸè´§çš„APIé…é¢
    â””â”€â”€ ç»Ÿè®¡: åŒºåˆ† spot_requests å’Œ futures_requests

AsyncRateLimiter (æœ¬åœ°é™æµå™¨)
    â””â”€â”€ ç‹¬ç«‹ç®¡ç†: å•ä¸ªå®¢æˆ·ç«¯çš„APIè°ƒç”¨é¢‘ç‡
```

### ä½¿ç”¨åœºæ™¯å»ºè®®

#### åœºæ™¯1: åªä½¿ç”¨ç°è´§äº¤æ˜“
```python
# é€‰é¡¹A: ä½¿ç”¨æœ¬åœ°é™æµå™¨ï¼ˆç®€å•åœºæ™¯ï¼‰
client = AsyncBinanceClient()  # è‡ªåŠ¨åˆ›å»ºæœ¬åœ°é™æµå™¨

# é€‰é¡¹B: ä½¿ç”¨å…¨å±€é™æµå™¨ï¼ˆæ¨èï¼Œæ›´çµæ´»ï¼‰
rate_limiter = GlobalRateLimiter()
client = AsyncBinanceClient(rate_limiter=rate_limiter)
```

#### åœºæ™¯2: åªä½¿ç”¨æœŸè´§äº¤æ˜“
```python
# FuturesAsyncClient è‡ªåŠ¨ä½¿ç”¨å…¨å±€é™æµå™¨ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
client = FuturesAsyncClient()
```

#### åœºæ™¯3: åŒæ—¶ä½¿ç”¨ç°è´§å’ŒæœŸè´§ï¼ˆæ¨èä½¿ç”¨å…¨å±€é™æµå™¨ï¼‰
```python
# åˆ›å»ºå…¨å±€é™æµå™¨å®ä¾‹ï¼ˆå•ä¾‹ï¼Œå¤šæ¬¡è°ƒç”¨è¿”å›åŒä¸€ä¸ªå®ä¾‹ï¼‰
rate_limiter = GlobalRateLimiter()

# ç°è´§å®¢æˆ·ç«¯ä½¿ç”¨å…¨å±€é™æµå™¨
spot_client = AsyncBinanceClient(rate_limiter=rate_limiter)

# æœŸè´§å®¢æˆ·ç«¯è‡ªåŠ¨ä½¿ç”¨å…¨å±€é™æµå™¨ï¼ˆå†…éƒ¨ä¼šè‡ªåŠ¨è·å–åŒä¸€ä¸ªå®ä¾‹ï¼‰
futures_client = FuturesAsyncClient()

# è¿™æ ·ä¸¤ä¸ªå®¢æˆ·ç«¯å…±äº«APIé…é¢ï¼Œé¿å…è¶…é™
```

### é…ç½® API å‡­è¯

è‹¥è¦è®¿é—®éœ€è¦ç­¾åçš„æ¥å£ï¼ˆå¦‚è®¢å•ã€èµ„é‡‘æµæ°´ï¼‰ï¼Œéœ€æä¾› API Key ä¸ Secretã€‚å»ºè®®å°†å‡­è¯å†™å…¥ç¯å¢ƒå˜é‡ï¼Œå†åœ¨ä»£ç é‡Œè¯»å–ï¼š

```bash
export DEBRIEF_BINANCE_API_KEY="ä½ çš„API_KEY"
export DEBRIEF_BINANCE_API_SECRET="ä½ çš„API_SECRET"
```

```python
import os
from binance_async_client import FuturesAsyncClient

client = FuturesAsyncClient(
    api_key=os.getenv("DEBRIEF_BINANCE_API_KEY"),
    api_secret=os.getenv("DEBRIEF_BINANCE_API_SECRET"),
    # verify_ssl é»˜è®¤ Trueï¼Œè‹¥åœ¨æœ¬åœ°ä»£ç†å¯¼è‡´è¯ä¹¦æ ¡éªŒå¤±è´¥ï¼Œå¯æš‚æ—¶è®¾ä¸º False
    # âš ï¸ å…³é—­åå°†æ¥å—ä»»æ„è¯ä¹¦ï¼Œä»…é€‚åˆæœ¬åœ°è°ƒè¯•ï¼Œä¸¥ç¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨
    verify_ssl=True,
)
```

## ğŸ“¦ å…³äºåŒ…åå’Œå¯¼å…¥

### åŒ…åè¯´æ˜

æœ¬é¡¹ç›®æœ‰ä¸¤ä¸ªç›¸å…³çš„åç§°ï¼Œå®¹æ˜“æ··æ·†ï¼š

1. **PyPI åŒ…å**ï¼ˆå®‰è£…æ—¶ä½¿ç”¨ï¼‰ï¼š`binance-async-client`
   ```bash
   pip install binance-async-client  # ä½¿ç”¨è¿å­—ç¬¦
   ```

2. **Python å¯¼å…¥å**ï¼ˆä»£ç ä¸­ä½¿ç”¨ï¼‰ï¼š`binance_async_client`
   ```python
   from binance_async_client import AsyncBinanceClient  # ä½¿ç”¨ä¸‹åˆ’çº¿
   ```

### ä¸ºä»€ä¹ˆä¸åŒï¼Ÿ

- **PyPI åŒ…å** (`binance-async-client`)ï¼šéµå¾ª PyPI å‘½åè§„èŒƒï¼Œä½¿ç”¨è¿å­—ç¬¦
- **Python å¯¼å…¥å** (`binance_async_client`)ï¼šéµå¾ª Python æ ‡è¯†ç¬¦è§„èŒƒï¼Œä½¿ç”¨ä¸‹åˆ’çº¿
- **ç›®å½•å** (`binance_async_client/`)ï¼šå¯¹åº”é¡¹ç›®ä¸­çš„åŒ…ç›®å½•

### é¡¹ç›®ç»“æ„

```
binance-async-client/          # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ binance_async_client/      # Python åŒ…ç›®å½•ï¼ˆå¯¼å…¥æ—¶ä½¿ç”¨è¿™ä¸ªåç§°ï¼‰
â”‚   â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–æ–‡ä»¶ï¼Œå¯¼å‡ºæ‰€æœ‰å…¬å¼€ç±»
â”‚   â”œâ”€â”€ client.py             # AsyncBinanceClient
â”‚   â”œâ”€â”€ futures_client.py     # FuturesAsyncClient
â”‚   â””â”€â”€ rate_limiter.py        # GlobalRateLimiter
â”œâ”€â”€ pyproject.toml            # åŒ…é…ç½®ï¼ˆå®šä¹‰ PyPI åŒ…åä¸º binance-async-clientï¼‰
â””â”€â”€ README.md
```

### å¯¼å…¥æœºåˆ¶

å½“ä½ æ‰§è¡Œ `from binance_async_client import AsyncBinanceClient` æ—¶ï¼š

1. Python æŸ¥æ‰¾åä¸º `binance_async_client` çš„åŒ…
2. æ‰¾åˆ° `binance_async_client/` ç›®å½•
3. æ‰§è¡Œ `binance_async_client/__init__.py`
4. `__init__.py` ä¸­å¯¼å‡ºäº†æ‰€æœ‰å…¬å¼€çš„ç±»å’Œå‡½æ•°
5. ä½ å°±å¯ä»¥ä½¿ç”¨ `AsyncBinanceClient` äº†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

#### æ–¹å¼1: ä» PyPI å®‰è£…ï¼ˆå‘å¸ƒåï¼‰
```bash
pip install binance-async-client
```

#### æ–¹å¼2: ä»æºç å®‰è£…ï¼ˆå¼€å‘æ—¶ï¼‰
```bash
# å…‹éš†ä»“åº“å
pip install -r requirements.txt
# æˆ–è€…ä»¥å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .
```

### åŸºæœ¬ä½¿ç”¨

### ç°è´§å®¢æˆ·ç«¯ä½¿ç”¨

```python
import asyncio
from binance_async_client import AsyncBinanceClient, GlobalRateLimiter

async def main():
    # ä½¿ç”¨å…¨å±€é™æµå™¨
    rate_limiter = GlobalRateLimiter()
    client = AsyncBinanceClient(rate_limiter=rate_limiter)
    
    # ä½¿ç”¨å®¢æˆ·ç«¯
    async with client:
        # è·å–Kçº¿æ•°æ®
        import time
        end_time = int(time.time() * 1000)
        start_time = end_time - (24 * 60 * 60 * 1000)  # 24å°æ—¶å‰
        
        klines = await client.get_historical_klines_async(
            symbol='BTCUSDT',
            interval='1h',
            start_time=start_time,
            end_time=end_time
        )
        
        print(f"è·å–åˆ° {len(klines)} æ¡Kçº¿æ•°æ®")

if __name__ == "__main__":
    asyncio.run(main())
```

### æœŸè´§å®¢æˆ·ç«¯ä½¿ç”¨

```python
import asyncio
from binance_async_client import FuturesAsyncClient

async def main():
    # æœŸè´§å®¢æˆ·ç«¯è‡ªåŠ¨ä½¿ç”¨å…¨å±€é™æµå™¨
    client = FuturesAsyncClient()
    
    async with client:
        # è·å–æœŸè´§Kçº¿æ•°æ®
        import time
        end_time = int(time.time() * 1000)
        start_time = end_time - (24 * 60 * 60 * 1000)  # 24å°æ—¶å‰
        
        klines = await client.get_futures_klines_async(
            symbol='BTCUSDT',
            interval='1h',
            start_time=start_time,
            end_time=end_time,
            limit=1500  # æœŸè´§æœ€å¤§1500æ¡
        )
        
        print(f"è·å–åˆ° {len(klines)} æ¡æœŸè´§Kçº¿æ•°æ®")

if __name__ == "__main__":
    asyncio.run(main())
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡**: éç”Ÿäº§ç¯å¢ƒä¼šè‡ªåŠ¨è¯»å–ä»£ç†ç¯å¢ƒå˜é‡ï¼ˆé€šè¿‡ `ENV_MODE` ç¯å¢ƒå˜é‡æ§åˆ¶ï¼‰
2. **é™æµå™¨**: å»ºè®®ä½¿ç”¨ `GlobalRateLimiter` æ¥ç»Ÿä¸€ç®¡ç†APIè°ƒç”¨é¢‘ç‡ï¼Œé¿å…è§¦å‘å¸å®‰APIé™åˆ¶
3. **å¼‚æ­¥ä¸Šä¸‹æ–‡**: å®¢æˆ·ç«¯æ”¯æŒå¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå»ºè®®ä½¿ç”¨ `async with` ç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾

## ğŸ“š APIæ–‡æ¡£

### AsyncBinanceClient

ä¸»è¦æ–¹æ³•ï¼š
- `get_historical_klines_async()`: è·å–å†å²Kçº¿æ•°æ®
- `get_exchange_info_async()`: è·å–äº¤æ˜“æ‰€ä¿¡æ¯
- `get_24hr_ticker_async()`: è·å–24å°æ—¶ä»·æ ¼ç»Ÿè®¡

### FuturesAsyncClient

ä¸»è¦æ–¹æ³•ï¼š
- `get_futures_klines_async()`: è·å–æœŸè´§Kçº¿æ•°æ®ï¼ˆæœ€å¤§1500æ¡ï¼‰
- `get_futures_exchange_info_async()`: è·å–æœŸè´§äº¤æ˜“æ‰€ä¿¡æ¯
- `get_futures_24hr_ticker_async()`: è·å–æœŸè´§24å°æ—¶è¡Œæƒ…
- `get_all_orders_async()`: è·å–æŒ‡å®šäº¤æ˜“å¯¹çš„æ‰€æœ‰å†å²è®¢å•ï¼ˆéœ€ç­¾åï¼‰
- `get_income_history_async()`: è·å–èµ„é‡‘æµæ°´ï¼ˆéœ€ç­¾åï¼‰

## ğŸ“„ è®¸å¯è¯

MIT License

