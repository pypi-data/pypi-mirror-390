<tal:define tal:define="
              batch view/results;
              fetchpriority_image_value python:hasattr(context, 'fetchpriority_image') and (context.fetchpriority_image and 'high' or 'auto') or 'auto';
              loading_image_value python:hasattr(context, 'fetchpriority_image') and (context.fetchpriority_image and 'eager' or 'lazy') or 'lazy';
            ">
  <h2 class="mb-5">${context/Title}</h2>
  <div class="row">
    <tal:repeat tal:repeat="brain batch">
      <tal:define tal:define="
                    element brain/getObject;
                  ">
        <div class="${context/columns} mb-5">
          <div class="card">
            <tal:image tal:define="
                         image element/image;
                       "
                       tal:condition="image"
                       tal:on-error="nothing"
            >
              <img tal:define="
                     images element/@@images;
                   "
                   tal:replace="structure python:images.srcset(fieldname='image',
                                                              scale_in_src='huge',
                                                              sizes='(min-width: 1400px) 400px, 100vw',
                                                              alt=element.Title() ,
                                                              title=element.Title(),
                                                              fetchpriority=fetchpriority_image_value,
                                                              loading=loading_image_value)"
              />
            </tal:image>
            <div class="card-body">
              <a class="h5 card-title stretched-link"
                 href="${element/absolute_url}"
              >${element/Title}</a>
              <p class="mb-3"
                 tal:condition="python:element.portal_type != 'Event'"
                 tal:content="python:element.toLocalizedTime(element.EffectiveDate())"
              ></p>
              <p class="mb-3"
                 tal:condition="python:element.portal_type == 'Event'"
                 tal:content="python:element.toLocalizedTime(element.start)"
              ></p>

              <p class="card-text">${element/Description}</p>
            </div>
          </div>
        </div>

      </tal:define>
    </tal:repeat>
  </div>
  <div class="d-flex justify-content-end">
    <a href="${context/link_url}"
       tal:condition="context/link_url"
    >${context/link_text}</a>
  </div>

</tal:define>
