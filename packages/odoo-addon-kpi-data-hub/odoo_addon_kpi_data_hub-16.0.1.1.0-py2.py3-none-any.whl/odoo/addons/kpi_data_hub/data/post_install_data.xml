<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data noupdate="1">
        <!-- Post-installation data to register KPI Hub AEP extension -->

        <!-- This record ensures the AEP extension is registered -->
        <record id="post_install_register_aep_extension" model="ir.actions.server">
            <field name="name">Register KPI Hub AEP Extension</field>
            <field name="model_id" ref="model_mis_aep_extension" />
            <field name="state">code</field>
            <field
                name="code"
            >env['mis.aep.extension'].register_with_mis_builder()</field>
        </record>

        <!-- Execute the registration action -->
        <record id="post_install_execute_aep_registration" model="ir.cron">
            <field name="name">Register KPI Hub AEP Extension</field>
            <field name="model_id" ref="model_mis_aep_extension" />
            <field name="state">code</field>
            <field
                name="code"
            >env['mis.aep.extension'].register_with_mis_builder()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">1</field>
            <field name="doall" eval="False" />
            <field name="active" eval="True" />
        </record>
    </data>
</odoo>
