"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["7663"],{57982:function(t,e,i){i.a(t,(async function(t,o){try{i.d(e,{A:()=>l});var n=i(46467),s=i(33570),a=t([n,s]);function d(t,e,i=0){return o=>{const a=new Date(o);if(i>88)return 0===a.getMonth()?`{bold|${(0,n.NC)(a,t,e)}}`:(0,n.Nh)(a,t,e);if(i>35)return 1===a.getDate()?`{bold|${(0,n.ud)(a,t,e)}}`:(0,n.ud)(a,t,e);if(i>7){const i=(0,n.ud)(a,t,e);return 1===a.getDate()?`{bold|${i}}`:i}return i>2?(0,n.U8)(a,t,e):0===a.getHours()&&0===a.getMinutes()&&0===a.getSeconds()?`{bold|${(0,n.ud)(a,t,e)}}`:(0,s.mr)(a,t,e)}}function l(t,e,i){return{formatter:d(t,e,i),rich:{bold:{fontWeight:"bold"}},hideOverlap:!0}}[n,s]=a.then?(await a)():a,o()}catch(r){o(r)}}))},25179:function(t,e,i){i.a(t,(async function(t,o){try{i.d(e,{Q:()=>_});var n=i(73577),s=i(72621),a=(i(71695),i(92745),i(19423),i(40251),i(39527),i(41360),i(47021),i(57243)),r=i(50778),d=i(69634),l=i(18672),h=i(60738),u=i(36522),c=i(94134),v=(i(23334),i(62201)),f=i(30635),m=t([l]);l=(m.then?(await m)():m)[0];let p,b,k,y=t=>t;const g="M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5 17.6,17.6C15.8,19.5 13.3,20.2 10.9,19.9L11.4,17.9C13.1,18.1 14.9,17.5 16.2,16.2C18.5,13.9 18.5,10.1 16.2,7.7C15.1,6.6 13.5,6 12,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15 3.3,11 5.1,7.9L6.6,9.4C5.5,11.6 5.9,14.4 7.8,16.2C8.3,16.7 8.9,17.1 9.6,17.4L9,19.4C8,19 7.1,18.4 6.3,17.6Z",_=3e5;(0,n.Z)([(0,r.Mo)("ha-chart-base")],(function(t,e){class o extends e{constructor(...e){super(...e),t(this)}}return{F:o,d:[{kind:"field",key:"chart",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"data",value(){return[]}},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"options",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:String})],key:"height",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:"external-hidden",type:Boolean})],key:"externalHidden",value(){return!1}},{kind:"field",decorators:[(0,r.SB)(),(0,h.F_)({context:f.LW,subscribe:!0})],key:"_themes",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_isZoomed",value(){return!1}},{kind:"field",key:"_modifierPressed",value(){return!1}},{kind:"field",key:"_isTouchDevice",value(){return"ontouchstart"in window}},{kind:"field",key:"_resizeController",value(){return new l.Z(this,{callback:()=>{var t;return null===(t=this.chart)||void 0===t?void 0:t.resize()}})}},{kind:"field",key:"_loading",value(){return!1}},{kind:"field",key:"_reducedMotion",value(){return!1}},{kind:"field",key:"_listeners",value(){return[]}},{kind:"method",key:"disconnectedCallback",value:function(){var t;for((0,s.Z)(o,"disconnectedCallback",this,3)([]);this._listeners.length;)this._listeners.pop()();null===(t=this.chart)||void 0===t||t.dispose()}},{kind:"method",key:"connectedCallback",value:function(){(0,s.Z)(o,"connectedCallback",this,3)([]),this.hasUpdated&&this._setupChart(),this._listeners.push((0,v.K)("(prefers-reduced-motion)",(t=>{var e;this._reducedMotion=t,null===(e=this.chart)||void 0===e||e.setOption({animation:!this._reducedMotion})})));const t=t=>{var e,i;(c.V&&t.metaKey||!c.V&&t.ctrlKey)&&(this._modifierPressed=!0,null!==(e=this.options)&&void 0!==e&&e.dataZoom||null===(i=this.chart)||void 0===i||i.setOption({dataZoom:this._getDataZoomConfig()}))},e=t=>{var e,i;(c.V&&"Meta"===t.key||!c.V&&"Control"===t.key)&&(this._modifierPressed=!1,null!==(e=this.options)&&void 0!==e&&e.dataZoom||null===(i=this.chart)||void 0===i||i.setOption({dataZoom:this._getDataZoomConfig()}))};window.addEventListener("keydown",t),window.addEventListener("keyup",e),this._listeners.push((()=>window.removeEventListener("keydown",t)),(()=>window.removeEventListener("keyup",e)))}},{kind:"method",key:"firstUpdated",value:function(){this._setupChart()}},{kind:"method",key:"willUpdate",value:function(t){(0,s.Z)(o,"willUpdate",this,3)([t]),this.hasUpdated&&this.chart&&(t.has("_themes")?this._setupChart():(t.has("data")&&this.chart.setOption({series:this.data},{lazyUpdate:!0,replaceMerge:["series"]}),(t.has("options")||t.has("_isZoomed"))&&this.chart.setOption(this._createOptions(),{lazyUpdate:!0,replaceMerge:["xAxis","yAxis","dataZoom","dataset","tooltip","legend","grid","visualMap"]})))}},{kind:"method",key:"render",value:function(){var t;return(0,a.dy)(p||(p=y` <div class="chart-container" style="${0}" @wheel="${0}"> <div class="chart"></div> ${0} </div> `),(0,d.V)({height:null!==(t=this.height)&&void 0!==t?t:`${this._getDefaultHeight()}px`}),this._handleWheel,this._isZoomed?(0,a.dy)(b||(b=y`<ha-icon-button class="zoom-reset" .path="${0}" @click="${0}" title="${0}"></ha-icon-button>`),g,this._handleZoomReset,this.hass.localize("ui.components.history_charts.zoom_reset")):a.Ld)}},{kind:"method",key:"_setupChart",value:async function(){if(this._loading)return;const t=this.renderRoot.querySelector(".chart");this._loading=!0;try{this.chart&&this.chart.dispose();const e=(await Promise.all([i.e("79525"),i.e("58884"),i.e("42974")]).then(i.bind(i,85803))).default;this.chart=e.init(t,this._themes.darkMode?"dark":"light"),this.chart.on("legendselectchanged",(t=>{if(this.externalHidden){t.selected[t.name]?(0,u.B)(this,"dataset-unhidden",{name:t.name}):(0,u.B)(this,"dataset-hidden",{name:t.name})}})),this.chart.on("datazoom",(t=>{var e,i;const{start:o,end:n}=null!==(e=null===(i=t.batch)||void 0===i?void 0:i[0])&&void 0!==e?e:t;this._isZoomed=0!==o||100!==n})),this.chart.setOption(Object.assign(Object.assign({},this._createOptions()),{},{series:this.data}))}finally{this._loading=!1}}},{kind:"method",key:"_getDataZoomConfig",value:function(){var t,e,i,o,n,s;const a=null!==(t=null===(e=this.options)||void 0===e||null===(e=e.xAxis)||void 0===e?void 0:e[0])&&void 0!==t?t:null===(i=this.options)||void 0===i?void 0:i.xAxis,r=null!==(o=null===(n=this.options)||void 0===n||null===(n=n.yAxis)||void 0===n?void 0:n[0])&&void 0!==o?o:null===(s=this.options)||void 0===s?void 0:s.yAxis;if("value"!==a.type||"category"!==r.type)return{id:"dataZoom",type:"inside",orient:"horizontal",filterMode:"none",moveOnMouseMove:this._isZoomed,preventDefaultMouseMove:this._isZoomed,zoomLock:!this._isTouchDevice&&!this._modifierPressed}}},{kind:"method",key:"_createOptions",value:function(){var t,e;const i=null!==(t=this._themes.darkMode)&&void 0!==t&&t,o=Object.assign(Object.assign({backgroundColor:"transparent",animation:!this._reducedMotion,darkMode:i,aria:{show:!0},dataZoom:this._getDataZoomConfig()},this.options),{},{legend:null!==(e=this.options)&&void 0!==e&&e.legend?Object.assign({inactiveColor:i?"#444":"#ccc"},this.options.legend):void 0});if(window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches&&o.tooltip){const t=Array.isArray(o.tooltip)?o.tooltip:[o.tooltip];t.forEach((t=>{t.confine=!0,t.appendTo=void 0})),o.tooltip=t}return o}},{kind:"method",key:"_getDefaultHeight",value:function(){return Math.max(this.clientWidth/2,400)}},{kind:"method",key:"_handleZoomReset",value:function(){var t;null===(t=this.chart)||void 0===t||t.dispatchAction({type:"dataZoom",start:0,end:100})}},{kind:"method",key:"_handleWheel",value:function(t){var e;if(null===(e=this.options)||void 0===e||!e.dataZoom){const e=c.V&&t.metaKey||!c.V&&t.ctrlKey;var i;if(e&&t.preventDefault(),e!==this._modifierPressed)this._modifierPressed=e,null===(i=this.chart)||void 0===i||i.setOption({dataZoom:this._getDataZoomConfig()})}}},{kind:"field",static:!0,key:"styles",value(){return(0,a.iv)(k||(k=y`:host{display:block;position:relative}.chart-container{position:relative;max-height:var(--chart-max-height,400px)}.chart{width:100%;height:100%}.zoom-reset{position:absolute;top:16px;right:4px;background:var(--card-background-color);border-radius:4px;--mdc-icon-button-size:32px;color:var(--primary-color);border:1px solid var(--divider-color)}`))}}]}}),a.oi);o()}catch(p){o(p)}}))},6736:function(t,e,i){i.d(e,{f:()=>a});var o=i(73577),n=i(72621),s=(i(19083),i(71695),i(40251),i(61006),i(39527),i(36993),i(47021),i(50778));const a=t=>(0,o.Z)(null,(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)(i,"connectedCallback",this,3)([]),this._checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,n.Z)(i,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){const t=this.__unsubs.pop();t instanceof Promise?t.then((t=>t())):t()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(t){if((0,n.Z)(i,"updated",this,3)([t]),t.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const e of t.keys())if(this.hassSubscribeRequiredHostProps.includes(e))return void this._checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"_checkSubscribed",value:function(){var t;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some((t=>void 0===this[t]))||(this.__unsubs=this.hassSubscribe())}}]}}),t)},20548:function(t,e,i){i.d(e,{H:()=>s});i(81804);var o=i(11259),n=i(4643);function s(t,e,i,s,a,r){const d=t.getPropertyValue(a+"-"+r).trim(),l=d.length>0?d:t.getPropertyValue(a).trim();let h=(0,o.Rq)(l);return 0===d.length&&r&&(h=(0,o.CO)((0,o.p3)(e?(0,n.C)((0,o.Rw)((0,o.wK)(h)),r):(0,n.W)((0,o.Rw)((0,o.wK)(h)),r)))),s?h+=i?"32":"7F":i&&(h+="7F"),h}},53259:function(t,e,i){i.a(t,(async function(t,o){try{i.d(e,{J:()=>m,Zx:()=>b,b4:()=>f});i(28457),i(71695),i(92745),i(61893),i(5509),i(19423),i(92519),i(42179),i(89256),i(24931),i(88463),i(57449),i(19814),i(88044),i(39527),i(99790),i(41360),i(13334),i(47021);var n=i(21893),s=i(13809),a=i(38836),r=i(50602),d=i(46467),l=i(33570),h=i(57982),u=t([h,d,l,r]);function v(t,e){let i=new Date(e);return t>2&&0===i.getHours()&&(i=(0,n.b)(i,1)),i.setMinutes(0,0,0),t>35&&i.setDate(1),t>2&&i.setHours(0),i.getTime()}function f(t){return t>35?"month":t>2?"day":"hour"}function m(t,e,i,o,n,a,d,l){const u=(0,s.j)(e,t),c=void 0!==a&&void 0!==d;return{xAxis:{id:"xAxisMain",type:"time",min:t.getTime(),max:v(u,e),axisLabel:(0,h.A)(i,o,u),axisLine:{show:!1},splitLine:{show:!0},minInterval:u>=89?24192e5:u>2?864e5:void 0},yAxis:{type:"value",name:n,nameGap:5,axisLabel:{formatter:t=>(0,r.uf)(Math.abs(t),i)},splitLine:{show:!0}},grid:{top:35,bottom:10,left:10,right:10,containLabel:!0},tooltip:{trigger:"axis",formatter:t=>{if(Array.isArray(t)){const e=[],s=[];return t.forEach((t=>{var i;null!==(i=t.seriesId)&&void 0!==i&&i.startsWith("compare-")?s.push(t):e.push(t)})),[e,s].filter((t=>t.length>0)).map((t=>p(t,i,o,u,c,n,l))).join("<br><br>")}return p([t],i,o,u,c,n,l)}}}}function p(t,e,i,o,n,s,h){var u,c,v;if(!t[0].value)return"";const f=new Date(null!==(u=null===(c=t[0].value)||void 0===c?void 0:c[2])&&void 0!==u?u:null===(v=t[0].value)||void 0===v?void 0:v[0]);let m;m=o>0?`${(0,d.ud)(f,e,i)}`:`${n?`${(0,d.ud)(f,e,i)}: `:""}${(0,l.mr)(f,e,i)} â€“ ${(0,l.mr)((0,a.T)(f,1),e,i)}`;const p=`<h4 style="text-align: center; margin: 0;">${m}</h4>`;let b=0,k=0,y=0,g=0;const _=t.map((t=>{var i;const o=null===(i=t.value)||void 0===i?void 0:i[1],n=(0,r.uf)(o,e);return"0"!==n&&("bar"===t.componentSubType&&(o>0?(b+=o,k++):(y+=o,g++)),`${t.marker} ${t.seriesName}: ${n} ${s}`)})).filter(Boolean);let C="";return 0!==b&&k>1&&h&&(C+=`<br><b>${h(b)}</b>`),0!==y&&g>1&&h&&(C+=`<br><b>${h(y)}</b>`),_.length>0?`${p}${_.join("<br>")}${C}`:""}function b(t){Array.from(new Set(t.map((t=>t.data.map((t=>t[0])))).flat())).sort(((t,e)=>t-e)).forEach(((e,i)=>{const o={},n={};for(let u=t.length-1;u>=0;u--){var s,a,r,d,l;const c=t[u].data[i],v=c&&"object"==typeof c&&"value"in c?c:{value:c},f=null===(s=v.value)||void 0===s?void 0:s[0],m=null!==(a=t[u].stack)&&void 0!==a?a:"";var h;if(void 0!==f)if(f!==e)null===(h=t[u].data)||void 0===h||h.splice(i,0,{value:[e,0],itemStyle:{borderWidth:0}});else 0===(null===(r=v.value)||void 0===r?void 0:r[1])?t[u].data[i]=Object.assign(Object.assign({},v),{},{itemStyle:Object.assign(Object.assign({},v.itemStyle),{},{borderWidth:0})}):!o[m]&&(null===(d=v.value)||void 0===d?void 0:d[1])>0?(t[u].data[i]=Object.assign(Object.assign({},v),{},{itemStyle:Object.assign(Object.assign({},v.itemStyle),{},{borderRadius:[4,4,0,0]})}),o[m]=!0):!n[m]&&(null===(l=v.value)||void 0===l?void 0:l[1])<0&&(t[u].data[i]=Object.assign(Object.assign({},v),{},{itemStyle:Object.assign(Object.assign({},v.itemStyle),{},{borderRadius:[0,0,4,4]})}),n[m]=!0)}}))}[h,d,l,r]=u.then?(await u)():u,o()}catch(c){o(c)}}))},94134:function(t,e,i){i.d(e,{V:()=>o});i(19134),i(5740);const o=/Mac/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=7663.b18167c7e9c74883.js.map