Metadata-Version: 2.4
Name: devlake-mcp
Version: 0.4.0
Summary: AI programming data collection tool - supports Hooks (Claude Code/Cursor) and MCP server modes
Author-email: wangzhong <wangzhong@g7.com.cn>
License-Expression: MIT
Project-URL: Homepage, https://git.chinawayltd.com/engineering-efficiency/devlake-mcp
Project-URL: Repository, https://git.chinawayltd.com/engineering-efficiency/devlake-mcp
Project-URL: Issues, https://git.chinawayltd.com/engineering-efficiency/devlake-mcp
Keywords: mcp,devlake,model-context-protocol,ai,llm,claude-code,cursor,hooks,ai-programming,code-assistant
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.31.0
Provides-Extra: mcp
Requires-Dist: fastmcp~=2.13.0; python_version >= "3.10" and extra == "mcp"
Provides-Extra: full
Requires-Dist: devlake-mcp[mcp]; extra == "full"
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: pytest-mock>=3.12.0; extra == "dev"
Requires-Dist: pytest-timeout>=2.2.0; extra == "dev"
Requires-Dist: pytest-xdist>=3.5.0; extra == "dev"
Requires-Dist: responses>=0.24.0; extra == "dev"
Requires-Dist: freezegun>=1.4.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Dynamic: license-file

# DevLake MCP

DevLake MCP æ˜¯ä¸€ä¸ª AI ç¼–ç¨‹æ•°æ®é‡‡é›†å·¥å…·ï¼Œæ”¯æŒä¸¤ç§å·¥ä½œæ¨¡å¼ï¼š

- **ğŸ”Œ Hooks æ¨¡å¼** - é€šè¿‡ IDE Hooks è‡ªåŠ¨é‡‡é›† AI ç¼–ç¨‹æ•°æ®ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰
- **ğŸ¤– MCP æ¨¡å¼** - ä½œä¸º MCP æœåŠ¡å™¨ï¼Œè®© AI åŠ©æ‰‹ä¸»åŠ¨è°ƒç”¨å·¥å…·è®°å½•æ•°æ®

## Python ç‰ˆæœ¬è¦æ±‚

| Python ç‰ˆæœ¬ | Hooks æ¨¡å¼ | MCP Server æ¨¡å¼ |
|------------|-----------|----------------|
| 3.9.x      | âœ… æ”¯æŒ   | âŒ ä¸æ”¯æŒ      |
| 3.10+      | âœ… æ”¯æŒ   | âœ… æ”¯æŒ        |

**æ¨èä½¿ç”¨ Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬ä»¥è·å¾—å®Œæ•´åŠŸèƒ½æ”¯æŒã€‚**

## å¿«é€Ÿå®‰è£…

### åŸºç¡€å®‰è£…ï¼ˆPython 3.9+ï¼Œä»… Hooks æ¨¡å¼ï¼‰

```bash
# ä½¿ç”¨ pipx å®‰è£…ï¼ˆæ¨èï¼‰
pipx install devlake-mcp

# æˆ–ä½¿ç”¨ pip
pip install devlake-mcp
```

### å®Œæ•´å®‰è£…ï¼ˆPython 3.10+ï¼ŒHooks + MCP Serverï¼‰

```bash
# ä½¿ç”¨ pipx å®‰è£…ï¼ˆæ¨èï¼‰
pipx install "devlake-mcp[mcp]"

# æˆ–ä½¿ç”¨ pip
pip install "devlake-mcp[mcp]"
```

### æ£€æŸ¥å®‰è£…

```bash
# æŸ¥çœ‹ç‰ˆæœ¬å·
devlake-mcp --version
# è¾“å‡º: devlake-mcp 0.3.4

# æŸ¥çœ‹è¯¦ç»†çš„ç‰ˆæœ¬å’ŒåŠŸèƒ½æ”¯æŒçŠ¶æ€
devlake-mcp info
```

`devlake-mcp info` è¾“å‡ºç¤ºä¾‹ï¼š
```
============================================================
DevLake MCP - ç‰ˆæœ¬ä¿¡æ¯
============================================================
DevLake MCP: v0.3.4
Python: 3.10.19

åŠŸèƒ½æ”¯æŒ:
  - Hooks æ¨¡å¼: âœ“
  - MCP Server: âœ“ (FastMCP 2.13.0.2)
============================================================
```

## ç¯å¢ƒé…ç½®

```bash
# é…ç½® DevLake API åœ°å€ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨æµ‹è¯•ç¯å¢ƒï¼‰
export DEVLAKE_BASE_URL="http://devlake.test.chinawayltd.com"
export DEVLAKE_TIMEOUT=5

# ç¡®ä¿ Git é…ç½®æ­£ç¡®ï¼ˆå¿…éœ€ï¼‰
git config user.name "Your Name"
git config user.email "your.email@example.com"
```

# æ—¥å¿—é…ç½®ï¼ˆå¯é€‰ï¼‰
export DEVLAKE_MCP_LOGGING_ENABLED=true  # æ˜¯å¦å¯ç”¨æ—¥å¿—ï¼ˆé»˜è®¤ trueï¼‰
export DEVLAKE_MCP_LOG_LEVEL=INFO        # æ—¥å¿—çº§åˆ«ï¼šDEBUG/INFO/WARNING/ERROR/CRITICALï¼ˆé»˜è®¤ INFOï¼‰

---

## ğŸ”Œ æ¨¡å¼ä¸€ï¼šHooks è‡ªåŠ¨é‡‡é›†ï¼ˆæ¨èï¼‰

Hooks æ¨¡å¼é€šè¿‡ IDE çš„ Hooks æœºåˆ¶**è‡ªåŠ¨**é‡‡é›† AI ç¼–ç¨‹æ•°æ®ï¼Œæ— éœ€ AI ä¸»åŠ¨è°ƒç”¨å·¥å…·ï¼Œé€‚åˆæ—¥å¸¸å¼€å‘ä½¿ç”¨ã€‚

### Claude Code Hooks

#### ä¸€é”®åˆå§‹åŒ–

```bash
# è‡ªåŠ¨é…ç½® .claude/settings.json
devlake-mcp init

# å¼ºåˆ¶è¦†ç›–å·²æœ‰é…ç½®
devlake-mcp init --force
```

#### æ”¯æŒçš„ Hooks

| Hook | è§¦å‘æ—¶æœº | åŠŸèƒ½ |
|------|---------|------|
| **SessionStart** | ä¼šè¯å¯åŠ¨ | åˆ›å»º session è®°å½• |
| **UserPromptSubmit** | ç”¨æˆ·æäº¤ prompt | è®°å½•ç”¨æˆ·è¾“å…¥ |
| **PreToolUse** | å·¥å…·ä½¿ç”¨å‰ | è®°å½•æ–‡ä»¶å˜æ›´å‰çŠ¶æ€ |
| **PostToolUse** | å·¥å…·ä½¿ç”¨å | ä¸Šä¼ æ–‡ä»¶å˜æ›´ï¼ˆdiffï¼‰ |
| **Stop** | AI å¾ªç¯åœæ­¢ | æ›´æ–°ä¼šè¯ç»Ÿè®¡ |
| **SessionEnd** | ä¼šè¯ç»“æŸ | ä¸Šä¼ å®Œæ•´ä¼šè¯æ•°æ® |

#### æŠ€æœ¯ç‰¹ç‚¹

- âœ… ä½¿ç”¨ Claude Code åŸç”Ÿ `session_id`ï¼Œæ— éœ€é¢å¤–ç®¡ç†
- âœ… è‡ªåŠ¨æ£€æµ‹ä¼šè¯åˆ‡æ¢å’Œè¶…æ—¶ï¼ˆ30 åˆ†é’Ÿï¼‰
- âœ… å¼‚æ­¥ä¸Šä¼ ï¼Œä¸é˜»å¡ IDE æ“ä½œ
- âœ… å¤±è´¥è‡ªåŠ¨åŠ å…¥é‡è¯•é˜Ÿåˆ—

#### é…ç½®ç¤ºä¾‹

åˆå§‹åŒ–åä¼šåœ¨ `.claude/settings.json` ä¸­ç”Ÿæˆä»¥ä¸‹é…ç½®ï¼š

```json
{
  "hooks": {
    "SessionStart": [{
      "hooks": [{
        "type": "command",
        "command": "python3 -m devlake_mcp.hooks.session_start",
        "timeout": 5
      }]
    }],
    "UserPromptSubmit": [{
      "hooks": [{
        "type": "command",
        "command": "python3 -m devlake_mcp.hooks.user_prompt_submit",
        "timeout": 5
      }]
    }],
    "PreToolUse": [{
      "hooks": [{
        "type": "command",
        "command": "python3 -m devlake_mcp.hooks.pre_tool_use",
        "timeout": 5
      }]
    }],
    "PostToolUse": [{
      "hooks": [{
        "type": "command",
        "command": "python3 -m devlake_mcp.hooks.post_tool_use",
        "timeout": 10
      }]
    }],
    "Stop": [{
      "hooks": [{
        "type": "command",
        "command": "python3 -m devlake_mcp.hooks.stop",
        "timeout": 5
      }]
    }],
    "SessionEnd": [{
      "hooks": [{
        "type": "command",
        "command": "python3 -m devlake_mcp.hooks.session_end",
        "timeout": 10
      }]
    }]
  }
}
```

---

### Cursor Hooks

#### ä¸€é”®åˆå§‹åŒ–

```bash
# è‡ªåŠ¨é…ç½® Cursor hooks
devlake-mcp init-cursor

# å¼ºåˆ¶è¦†ç›–å·²æœ‰é…ç½®
devlake-mcp init-cursor --force
```

#### æ”¯æŒçš„ Hooks

| Hook | è§¦å‘æ—¶æœº | åŠŸèƒ½ |
|------|---------|------|
| **beforeSubmitPrompt** | ç”¨æˆ·æäº¤ prompt å‰ | è®°å½•ç”¨æˆ·è¾“å…¥ |
| **beforeReadFile** | è¯»å–æ–‡ä»¶å‰ | è®°å½•æ–‡ä»¶è®¿é—® |
| **beforeShellExecution** | æ‰§è¡Œ Shell å‰ | è®°å½•å‘½ä»¤ä¿¡æ¯ |
| **afterShellExecution** | Shell æ‰§è¡Œå | æ£€æµ‹å‘½ä»¤äº§ç”Ÿçš„æ–‡ä»¶å˜æ›´ |
| **afterFileEdit** | æ–‡ä»¶ç¼–è¾‘å | ä¸Šä¼ æ–‡ä»¶ç¼–è¾‘å˜æ›´ |
| **afterAgentResponse** | AI å›å¤å | è®°å½•å¯¹è¯å†…å®¹ |
| **stop** | ä¼šè¯ç»“æŸ | ä¸Šä¼ ä¼šè¯ç»Ÿè®¡ |

#### æŠ€æœ¯ç‰¹ç‚¹

- âœ… ä½¿ç”¨ Cursor åŸç”Ÿ `conversation_id` ä½œä¸º session_id
- âœ… `generation_id` å…³è”åŒä¸€æ¬¡ AI ç”Ÿæˆçš„å¤šä¸ªæ–‡ä»¶å˜æ›´
- âœ… è‡ªåŠ¨æ£€æµ‹ vim/nano/echo>/cp/mv ç­‰æ–‡ä»¶æ“ä½œå‘½ä»¤
- âœ… æ™ºèƒ½ diff ç®—æ³•è®¡ç®—æ–‡ä»¶å˜æ›´
- âœ… ä¸ Claude Code å®Œå…¨å…¼å®¹çš„æ•°æ®æ ¼å¼
- âœ… ç²¾ç¡®çš„å·¥ä½œç›®å½•å®šä½ï¼ˆworkspace_rootsï¼‰

#### è¯¦ç»†æ–‡æ¡£

æŸ¥çœ‹ [CURSOR_HOOKS.md](CURSOR_HOOKS.md) äº†è§£å®Œæ•´é…ç½®å’Œä½¿ç”¨æŒ‡å—ã€‚

---

### Hooks æ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | Claude Code | Cursor |
|------|-------------|--------|
| Session ç®¡ç† | 30åˆ†é’Ÿè¶…æ—¶æœºåˆ¶ | å¯¹è¯ç”Ÿå‘½å‘¨æœŸç®¡ç† |
| æ–‡ä»¶å˜æ›´è¿½è¸ª | âœ… | âœ… |
| Shell å‘½ä»¤æ£€æµ‹ | âŒ | âœ… |
| å˜æ›´å…³è”è¿½è¸ª | å•ä¸ªå˜æ›´ | âœ… generation_id å…³è” |
| å·¥ä½œç›®å½•å®šä½ | æ‰‹åŠ¨æ¨æ–­ | âœ… workspace_roots |
| æ•°æ®æ ¼å¼ | åŸç”Ÿæ ¼å¼ | å®Œå…¨å…¼å®¹ Claude Code |

---

## ğŸ¤– æ¨¡å¼äºŒï¼šMCP æœåŠ¡å™¨æ¨¡å¼

MCP æ¨¡å¼å°† DevLake ä½œä¸º [Model Context Protocol](https://modelcontextprotocol.io) æœåŠ¡å™¨è¿è¡Œï¼ŒåŸºäº [FastMCP](https://gofastmcp.com) æ¡†æ¶ï¼Œè®© AI åŠ©æ‰‹å¯ä»¥**ä¸»åŠ¨è°ƒç”¨å·¥å…·**è®°å½•æ•°æ®ã€‚

### é…ç½®æ–¹å¼

#### æ–¹å¼ 1ï¼šä½¿ç”¨ Claude CLIï¼ˆæ¨èï¼‰

```bash
claude mcp add devlake-mcp devlake-mcp
```

#### æ–¹å¼ 2ï¼šæ‰‹åŠ¨é…ç½®

ç¼–è¾‘ `~/Library/Application Support/Claude/claude_desktop_config.json`ï¼ˆmacOSï¼‰æˆ–ç›¸åº”é…ç½®æ–‡ä»¶ï¼š

```json
{
  "mcpServers": {
    "devlake-mcp": {
      "command": "devlake-mcp"
    }
  }
}
```

é…ç½®å®Œæˆåé‡å¯ Claude Desktopã€‚

### å¯ç”¨å·¥å…·

MCP æ¨¡å¼æä¾› 3 ä¸ªæ ¸å¿ƒå·¥å…·ï¼ŒAI åŠ©æ‰‹å¯ä»¥ä¸»åŠ¨è°ƒç”¨ï¼š

#### 1. `record_session`

**åŠŸèƒ½**ï¼šè®°å½• AI ä¼šè¯çš„å…ƒæ•°æ®å’Œç»Ÿè®¡ä¿¡æ¯

**å‚æ•°**ï¼š
- `session_id` (string, å¯é€‰)ï¼šä¼šè¯ IDï¼Œä¸æä¾›åˆ™è‡ªåŠ¨ç”Ÿæˆ UUID
- `metadata` (dict, å¯é€‰)ï¼šä¼šè¯å…ƒæ•°æ®
  - `user_intent`ï¼šç”¨æˆ·æ„å›¾æè¿°
  - `model`ï¼šæ¨¡å‹åç§°ï¼ˆå¦‚ "claude-sonnet-4-5"ï¼‰
  - `ide`ï¼šIDE ç±»å‹ï¼ˆå¦‚ "cursor", "claude-code"ï¼‰
  - `project_path`ï¼šé¡¹ç›®è·¯å¾„

**è¿”å›ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "session_id": "uuid-xxx",
  "timestamp": "2025-01-07T10:00:00Z",
  "git_info": {
    "git_repo_path": "yourorg/devlake",
    "git_branch": "main",
    "git_author": "Your Name"
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```
è°ƒç”¨ record_session å·¥å…·ï¼Œmetadata è®¾ç½®ä¸º {"ide": "cursor", "model": "claude-sonnet-4-5"}
```

---

#### 2. `before_edit_file`

**åŠŸèƒ½**ï¼šåœ¨æ–‡ä»¶å˜æ›´å‰è°ƒç”¨ï¼Œè®°å½•æ–‡ä»¶çš„å½“å‰çŠ¶æ€ï¼ˆå¿«ç…§ï¼‰

**å‚æ•°**ï¼š
- `session_id` (string, å¿…éœ€)ï¼šä¼šè¯å”¯ä¸€æ ‡è¯†
- `file_paths` (list[string], å¿…éœ€)ï¼šå³å°†å˜æ›´çš„æ–‡ä»¶ç»å¯¹è·¯å¾„åˆ—è¡¨

**è¿”å›ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "session_id": "session-123",
  "files_snapshot": {
    "/path/to/file.py": {
      "exists": true,
      "line_count": 100,
      "size": 2048
    }
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```
è°ƒç”¨ before_edit_file å·¥å…·ï¼Œsession_id ä¸º "session-123"ï¼Œfile_paths ä¸º ["/path/to/file.py"]
```

---

#### 3. `after_edit_file`

**åŠŸèƒ½**ï¼šåœ¨æ–‡ä»¶å˜æ›´åè°ƒç”¨ï¼Œå¯¹æ¯”å·®å¼‚å¹¶ä¸Šä¼ å˜æ›´æ•°æ®åˆ° DevLake API

**å‚æ•°**ï¼š
- `session_id` (string, å¿…éœ€)ï¼šä¼šè¯å”¯ä¸€æ ‡è¯†ï¼ˆä¸ before_edit_file ä¸€è‡´ï¼‰
- `file_paths` (list[string], å¿…éœ€)ï¼šå·²å˜æ›´çš„æ–‡ä»¶ç»å¯¹è·¯å¾„åˆ—è¡¨

**è¿”å›ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "session_id": "session-123",
  "uploaded_count": 1,
  "changes": [
    {
      "file_path": "src/main.py",
      "change_type": "edit",
      "file_type": "py"
    }
  ]
}
```

**å·¥ä½œæµç¨‹**ï¼š
```
1. before_edit_file() - è®°å½•æ–‡ä»¶å˜æ›´å‰çŠ¶æ€
2. [AI æ‰§è¡Œæ–‡ä»¶å˜æ›´æ“ä½œ]
3. after_edit_file() - å¯¹æ¯”å·®å¼‚å¹¶ä¸Šä¼ 
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```
è°ƒç”¨ after_edit_file å·¥å…·ï¼Œsession_id ä¸º "session-123"ï¼Œfile_paths ä¸º ["/path/to/file.py"]
```

---

### MCP æ¨¡å¼ç‰¹ç‚¹

- âœ… **AI ä¸»åŠ¨æ§åˆ¶**ï¼šç”± AI å†³å®šä½•æ—¶è®°å½•æ•°æ®
- âœ… **ç²¾ç¡®è®°å½•æ—¶æœº**ï¼šåœ¨æœ€åˆé€‚çš„æ—¶é—´ç‚¹è°ƒç”¨å·¥å…·
- âœ… **å®Œæ•´çš„ before/after å¯¹æ¯”**ï¼šå‡†ç¡®çš„æ–‡ä»¶å˜æ›´ diff
- âœ… **è·¨ IDE æ”¯æŒ**ï¼šé€‚ç”¨äºä»»ä½•æ”¯æŒ MCP çš„ AI åŠ©æ‰‹
- âœ… **æ‰‹åŠ¨ Session ç®¡ç†**ï¼šAI è‡ªè¡Œç®¡ç†ä¼šè¯ç”Ÿå‘½å‘¨æœŸ

---

## å¤±è´¥é‡è¯•æœºåˆ¶

DevLake MCP å†…ç½®æ™ºèƒ½å¤±è´¥é‡è¯•é˜Ÿåˆ—ï¼Œç¡®ä¿æ•°æ®ä¸ä¼šå› ç½‘ç»œé—®é¢˜æˆ–ä¸´æ—¶æ•…éšœä¸¢å¤±ã€‚

### å·¥ä½œåŸç†

å½“ API è°ƒç”¨å¤±è´¥æ—¶ï¼Œå¤±è´¥è®°å½•è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°é˜Ÿåˆ—ï¼ŒæŒ‰**æŒ‡æ•°é€€é¿ç­–ç•¥**è‡ªåŠ¨é‡è¯•ï¼š

| é‡è¯•æ¬¡æ•° | ç­‰å¾…æ—¶é—´ |
|---------|---------|
| ç¬¬ 1 æ¬¡ | 1 åˆ†é’Ÿ |
| ç¬¬ 2 æ¬¡ | 5 åˆ†é’Ÿ |
| ç¬¬ 3 æ¬¡ | 15 åˆ†é’Ÿ |
| ç¬¬ 4 æ¬¡ | 60 åˆ†é’Ÿ |
| ç¬¬ 5 æ¬¡ | 4 å°æ—¶ |

### é˜Ÿåˆ—ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹å¤±è´¥é˜Ÿåˆ—çŠ¶æ€å’Œç»Ÿè®¡
devlake-mcp queue-status

# æ‰‹åŠ¨è§¦å‘é‡è¯•ï¼ˆä¸ç­‰å¾…è‡ªåŠ¨é‡è¯•æ—¶é—´ï¼‰
devlake-mcp retry

# æ¸…ç†è¿‡æœŸçš„å¤±è´¥è®°å½•ï¼ˆé»˜è®¤ä¿ç•™ 7 å¤©ï¼‰
devlake-mcp queue-clean
```

### é…ç½®é€‰é¡¹

é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®é‡è¯•è¡Œä¸ºï¼š

```bash
# å¯ç”¨/ç¦ç”¨é‡è¯•ï¼ˆé»˜è®¤ trueï¼‰
export DEVLAKE_RETRY_ENABLED=true

# æœ€å¤§é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ 5ï¼‰
export DEVLAKE_RETRY_MAX_ATTEMPTS=5

# å¤±è´¥è®°å½•ä¿ç•™å¤©æ•°ï¼ˆé»˜è®¤ 7ï¼‰
export DEVLAKE_RETRY_CLEANUP_DAYS=7

# Hook æ‰§è¡Œæ—¶æ£€æŸ¥é‡è¯•ï¼ˆé»˜è®¤ trueï¼‰
export DEVLAKE_RETRY_CHECK_ON_HOOK=true
```

### è‡ªåŠ¨é‡è¯•

å½“ `DEVLAKE_RETRY_CHECK_ON_HOOK=true` æ—¶ï¼ˆé»˜è®¤ï¼‰ï¼Œæ¯æ¬¡ Hook æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶é‡è¯•å¤±è´¥çš„è®°å½•ï¼ˆæ¯æ¬¡æœ€å¤š 3 æ¡ï¼Œé¿å…é˜»å¡ï¼‰ã€‚

å¦‚éœ€ç¦ç”¨è‡ªåŠ¨é‡è¯•ï¼š
```bash
export DEVLAKE_RETRY_CHECK_ON_HOOK=false
```

ç„¶åä½¿ç”¨ `devlake-mcp retry` æ‰‹åŠ¨è§¦å‘ã€‚

---

## CLI å‘½ä»¤æ€»è§ˆ

```bash
# MCP æœåŠ¡å™¨
devlake-mcp                     # å¯åŠ¨ MCP æœåŠ¡å™¨

# Hooks åˆå§‹åŒ–
devlake-mcp init                # åˆå§‹åŒ– Claude Code hooks
devlake-mcp init --force        # å¼ºåˆ¶è¦†ç›– Claude Code hooks
devlake-mcp init-cursor         # åˆå§‹åŒ– Cursor hooks
devlake-mcp init-cursor --force # å¼ºåˆ¶è¦†ç›– Cursor hooks

# å¤±è´¥é˜Ÿåˆ—ç®¡ç†
devlake-mcp queue-status        # æŸ¥çœ‹å¤±è´¥é˜Ÿåˆ—çŠ¶æ€
devlake-mcp retry               # æ‰‹åŠ¨è§¦å‘é‡è¯•
devlake-mcp queue-clean         # æ¸…ç†è¿‡æœŸè®°å½•

# ç‰ˆæœ¬ä¿¡æ¯
devlake-mcp --version           # æ˜¾ç¤ºç‰ˆæœ¬å·
devlake-mcp info                # æ˜¾ç¤ºè¯¦ç»†çš„ç‰ˆæœ¬å’ŒåŠŸèƒ½æ”¯æŒä¿¡æ¯
devlake-mcp --help              # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

---

## ä½¿ç”¨å»ºè®®

### é€‰æ‹©åˆé€‚çš„æ¨¡å¼

| åœºæ™¯ | æ¨èæ¨¡å¼ | ç†ç”± |
|------|---------|------|
| æ—¥å¸¸å¼€å‘ | **Hooks æ¨¡å¼** | è‡ªåŠ¨é‡‡é›†ï¼Œæ— éœ€å…³æ³¨ |
| ç²¾ç¡®æ§åˆ¶è®°å½•æ—¶æœº | **MCP æ¨¡å¼** | AI ä¸»åŠ¨å†³å®šä½•æ—¶è®°å½• |
| Claude Code | **Hooks æ¨¡å¼** | åŸç”Ÿé›†æˆï¼Œä½“éªŒæœ€ä½³ |
| Cursor | **Hooks æ¨¡å¼** | ä¸“é—¨ä¼˜åŒ–ï¼ŒåŠŸèƒ½æœ€å…¨ |
| Claude Desktop | **MCP æ¨¡å¼** | æ ‡å‡† MCP åè®®æ”¯æŒ |

### ä¸¤ç§æ¨¡å¼å¯ä»¥å…±å­˜

Hooks æ¨¡å¼å’Œ MCP æ¨¡å¼å¯ä»¥åŒæ—¶å¯ç”¨ï¼š
- Hooks æ¨¡å¼è´Ÿè´£è‡ªåŠ¨é‡‡é›†æ—¥å¸¸æ•°æ®
- MCP æ¨¡å¼è®© AI åœ¨ç‰¹æ®Šåœºæ™¯ä¸‹ä¸»åŠ¨è®°å½•

---

## ç›¸å…³èµ„æº

- [Model Context Protocol å®˜æ–¹æ–‡æ¡£](https://modelcontextprotocol.io)
- [FastMCP å®˜æ–¹æ–‡æ¡£](https://gofastmcp.com)
- [FastMCP GitHub](https://github.com/jlowin/fastmcp)
- [Claude Desktop](https://claude.ai/download)
- [Cursor ç¼–è¾‘å™¨](https://cursor.sh)
- [Cursor Hooks è¯¦ç»†æ–‡æ¡£](CURSOR_HOOKS.md)

---

## Git é…ç½®è¦æ±‚

å·¥å…·ä¼šè‡ªåŠ¨ä» Git é…ç½®è¯»å–ç”¨æˆ·ä¿¡æ¯ï¼Œè¯·ç¡®ä¿å·²é…ç½®ï¼š

```bash
# é…ç½® Git ç”¨æˆ·ä¿¡æ¯
git config user.name "Your Name"
git config user.email "your.email@example.com"

# é…ç½®ä»“åº“è¿œç¨‹åœ°å€
git remote add origin <repository-url>
```
