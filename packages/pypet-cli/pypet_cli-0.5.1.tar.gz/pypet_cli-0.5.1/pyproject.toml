[project]
name = "pypet-cli"
version = "0.5.1"
description = "A modern command-line snippet manager with Git synchronization, clipboard integration, and parameterized commands"
readme = "README.md"
license = {text = "MIT"}
authors = [
    {name = "Fabian Distler", email = "fabian@distler.dev"},
]
keywords = ["snippets", "cli", "productivity", "git", "clipboard", "commands", "shell"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Environment :: Console",
    "Intended Audience :: Developers",
    "Intended Audience :: System Administrators", 
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: System :: Systems Administration",
    "Topic :: Utilities",
    "Typing :: Typed",
]
dependencies = [
    "click>=8.1.7",
    "rich>=13.7.0",
    "toml>=0.10.2",
    "pyperclip>=1.9.0",
    "gitpython>=3.1.40",
]
requires-python = ">=3.10"

[project.urls]
Homepage = "https://github.com/fabiandistler/pypet"
Repository = "https://github.com/fabiandistler/pypet.git"
Issues = "https://github.com/fabiandistler/pypet/issues"
Changelog = "https://github.com/fabiandistler/pypet/blob/main/CHANGELOG.md"

[project.optional-dependencies]
dev = [
    "pytest>=8.4.0",
    "pytest-cov>=5.0.0",
    "ruff>=0.1.0",
    "black>=24.0.0",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["pypet"]

[dependency-groups]
dev = [
    "pytest>=8.4.0",
    "pytest-cov>=6.2.1",
    "ruff>=0.12.0",
    "black>=24.0.0",
    "twine>=6.1.0",
]

[project.scripts]
pypet = "pypet.cli:main"

[tool.ruff]
line-length = 88

extend-exclude = [
    ".venv",
    "venv",
    ".git",
    "__pycache__",
    "build",
    "dist",
]

[tool.ruff.lint]
select = [
    # Pycodestyle
    "E",     # pycodestyle errors
    "W",     # pycodestyle warnings
    
    # Pyflakes
    "F",     # pyflakes
    
    # isort 
    "I",     # isort
    
    # pep8-naming
    "N",     # pep8-naming
    
    # pyupgrade
    "UP",    
    

    "B",     # flake8-bugbear
    "C4",    # flake8-comprehensions
    "SIM",   # flake8-simplify
    "PTH",   # flake8-use-pathlib
    "RET",   # flake8-return
    "ARG",   # flake8-unused-arguments
    "ERA",   # flake8-eradicate (commented-out code)
    
    # Type Annotations 
    "ANN",   # flake8-annotations - TYPE HINTS ENFORCEMENT
    
    # pylint
    "PL",    
    # "PLC",   # pylint: Convention
    # "PLE",   # pylint: Error
    # "PLR",   # pylint: Refactor
    # "PLW",   # pylint: Warning
    
    # Weitere nützliche Regelsets
    "FBT",   # flake8-boolean-trap
    "Q",     # flake8-quotes
    "T20",   # flake8-print (verhindert print-Statements)
    "RSE",   # flake8-raise
    "RUF",   # Ruff-spezifische Regeln
]


ignore = [
    "E501",    # Zeilenlänge - wird vom Formatter gehandhabt

    # Type Annotations: Zu streng für schnelle Entwicklung
    "ANN101",  # Missing type annotation for self
    "ANN102",  # Missing type annotation for cls
    "ANN401",  # Dynamically typed expressions (Any) sind manchmal OK

    # pylint: Zu streng/subjektiv
    "PLR0911", # Too many return statements
    "PLR0912", # Too many branches
    "PLR0913", # Too many arguments
    "PLR0915", # Too many statements
    "PLR2004", # Magic value used in comparison

    # Boolean traps - Click commands often need boolean flags
    "FBT001",  # Boolean-typed positional argument
    "FBT002",  # Boolean default positional argument
    "FBT003",  # Boolean positional value in call

    # Other
    "B904",    # raise without from - not always necessary
    "ERA001",  # Commented-out code - sometimes useful for documentation
    "T201",    # print statements - OK for CLI output

    # Bei Bedarf aktivieren:
    # "T20",   # print-Statements verbieten (auskommentieren wenn gewünscht)
]

# Automatische Fixes
fixable = ["ALL"]
unfixable = []

# Weitere Optionen
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"

[tool.ruff.lint.per-file-ignores]
# Tests: Weniger streng
"tests/**/*.py" = [
    "S101",    # assert-Statements erlaubt
    "ANN",     # Keine Type Hints in Tests nötig
    "PLR2004", # Magic values in Tests OK
]

# Scripts/Tools: Weniger streng
"scripts/**/*.py" = [
    "T20",     # print-Statements erlaubt
]

[tool.ruff.lint.isort]

known-first-party = ["pypet"] 
force-single-line = false
lines-after-imports = 2
section-order = [
    "future",
    "standard-library",
    "third-party",
    "first-party",
    "local-folder"
]

[tool.ruff.lint.flake8-annotations]
allow-star-arg-any = true
suppress-dummy-args = true
suppress-none-returning = true

[tool.ruff.lint.pylint]
max-args = 6  # Maximale Anzahl Funktionsargumente
max-branches = 12
max-returns = 6
max-statements = 50

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
line-ending = "auto"
docstring-code-format = true  
